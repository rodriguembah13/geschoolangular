(self.webpackChunkcreativ=self.webpackChunkcreativ||[]).push([[157],{9457:function(Y,k){var n,I;void 0!==(I="function"==typeof(n=function(){"use strict";function w(X,V,j){var e=new XMLHttpRequest;e.open("GET",X),e.responseType="blob",e.onload=function(){D(e.response,V,j)},e.onerror=function(){console.error("could not download file")},e.send()}function B(X){var V=new XMLHttpRequest;V.open("HEAD",X,!1);try{V.send()}catch(j){}return 200<=V.status&&299>=V.status}function R(X){try{X.dispatchEvent(new MouseEvent("click"))}catch(j){var V=document.createEvent("MouseEvents");V.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),X.dispatchEvent(V)}}var H="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,z=H.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=H.saveAs||("object"!=typeof window||window!==H?function(){}:"download"in HTMLAnchorElement.prototype&&!z?function(X,V,j){var e=H.URL||H.webkitURL,F=document.createElement("a");F.download=V=V||X.name||"download",F.rel="noopener","string"==typeof X?(F.href=X,F.origin===location.origin?R(F):B(F.href)?w(X,V,j):R(F,F.target="_blank")):(F.href=e.createObjectURL(X),setTimeout(function(){e.revokeObjectURL(F.href)},4e4),setTimeout(function(){R(F)},0))}:"msSaveOrOpenBlob"in navigator?function(X,V,j){if(V=V||X.name||"download","string"!=typeof X)navigator.msSaveOrOpenBlob(function(X,V){return void 0===V?V={autoBom:!1}:"object"!=typeof V&&(console.warn("Deprecated: Expected third argument to be a object"),V={autoBom:!V}),V.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(X.type)?new Blob(["\ufeff",X],{type:X.type}):X}(X,j),V);else if(B(X))w(X,V,j);else{var e=document.createElement("a");e.href=X,e.target="_blank",setTimeout(function(){R(e)})}}:function(X,V,j,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof X)return w(X,V,j);var F="application/octet-stream"===X.type,q=/constructor/i.test(H.HTMLElement)||H.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||F&&q||z)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var b=f.result;b=M?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=b:location=b,e=null},f.readAsDataURL(X)}else{var l=H.URL||H.webkitURL,u=l.createObjectURL(X);e?e.location=u:location.href=u,e=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});H.saveAs=D.saveAs=D,Y.exports=D})?n.apply(k,[]):n)&&(Y.exports=I)},1465:function(module,__unused_webpack_exports,__webpack_require__){var n;n=function(){return(()=>{var __webpack_modules__=[,(Y,k,n)=>{"use strict";function a(ie){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(ie)}Object.defineProperty(k,"__esModule",{value:!0}),k.addLinkAttributes=function(ie){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},G=J.url,L=J.target,N=J.rel,$=J.enabled,te=void 0===$||$;(0,E.assert)(G&&"string"==typeof G,'addLinkAttributes: A valid "url" parameter must provided.');var se=(0,E.removeNullCharacters)(G);te?ie.href=ie.title=se:(ie.href="",ie.title="Disabled: ".concat(se),ie.onclick=function(){return!1});var me="";switch(L){case o.NONE:break;case o.SELF:me="_self";break;case o.BLANK:me="_blank";break;case o.PARENT:me="_parent";break;case o.TOP:me="_top"}ie.target=me,ie.rel="string"==typeof N?N:x},k.deprecated=function(ie){console.log("Deprecated API usage: "+ie)},k.getFilenameFromUrl=function(ie){var J=ie.indexOf("#"),G=ie.indexOf("?"),L=Math.min(J>0?J:ie.length,G>0?G:ie.length);return ie.substring(ie.lastIndexOf("/",L)+1,L)},k.getPdfFilenameFromUrl=function(ie){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof ie)return J;if(c(ie))return(0,E.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),J;var G=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,L=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,N=G.exec(ie),$=L.exec(N[1])||L.exec(N[2])||L.exec(N[3]);if($&&($=$[0]).includes("%"))try{$=L.exec(decodeURIComponent($))[0]}catch(te){}return $||J},k.getXfaPageViewport=function(ie,J){var G=J.scale,L=void 0===G?1:G,N=J.rotation,$=void 0===N?0:N,te=ie.attributes.style,me=te.height,ke=[0,0,parseInt(te.width),parseInt(me)];return new A({viewBox:ke,scale:L,rotation:$})},k.isDataScheme=c,k.isPdfFile=function(ie){return"string"==typeof ie&&/\.pdf$/i.test(ie)},k.isValidFetchUrl=ee,k.loadScript=function(ie){var J=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(G,L){var N=document.createElement("script");N.src=ie,N.onload=function($){J&&N.remove(),G($)},N.onerror=function(){L(new Error("Cannot load script at: ".concat(N.src)))},(document.head||document.documentElement).appendChild(N)})},k.StatTimer=k.RenderingCancelledException=k.PixelsPerInch=k.PDFDateString=k.PageViewport=k.LinkTarget=k.DOMSVGFactory=k.DOMStandardFontDataFactory=k.DOMCMapReaderFactory=k.DOMCanvasFactory=void 0;var ie,I=(ie=n(2))&&ie.__esModule?ie:{default:ie},E=n(4),w=n(118);function R(ie,J){var G="undefined"!=typeof Symbol&&ie[Symbol.iterator]||ie["@@iterator"];if(!G){if(Array.isArray(ie)||(G=function(ie,J){if(ie){if("string"==typeof ie)return z(ie,J);var G=Object.prototype.toString.call(ie).slice(8,-1);if("Object"===G&&ie.constructor&&(G=ie.constructor.name),"Map"===G||"Set"===G)return Array.from(ie);if("Arguments"===G||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return z(ie,J)}}(ie))||J&&ie&&"number"==typeof ie.length){G&&(ie=G);var L=0,N=function(){};return{s:N,n:function(){return L>=ie.length?{done:!0}:{done:!1,value:ie[L++]}},e:function(ke){throw ke},f:N}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var se,$=!0,te=!1;return{s:function(){G=G.call(ie)},n:function(){var ke=G.next();return $=ke.done,ke},e:function(ke){te=!0,se=ke},f:function(){try{!$&&null!=G.return&&G.return()}finally{if(te)throw se}}}}function z(ie,J){(null==J||J>ie.length)&&(J=ie.length);for(var G=0,L=new Array(J);G<J;G++)L[G]=ie[G];return L}function D(ie,J,G,L,N,$,te){try{var se=ie[$](te),me=se.value}catch(ke){return void G(ke)}se.done?J(me):Promise.resolve(me).then(L,N)}function X(ie){return function(){var J=this,G=arguments;return new Promise(function(L,N){var $=ie.apply(J,G);function te(me){D($,L,N,te,se,"next",me)}function se(me){D($,L,N,te,se,"throw",me)}te(void 0)})}}function V(ie,J){if(!(ie instanceof J))throw new TypeError("Cannot call a class as a function")}function j(ie,J){for(var G=0;G<J.length;G++){var L=J[G];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(ie,L.key,L)}}function e(ie,J,G){return J&&j(ie.prototype,J),G&&j(ie,G),ie}function F(ie,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");ie.prototype=Object.create(J&&J.prototype,{constructor:{value:ie,writable:!0,configurable:!0}}),J&&q(ie,J)}function q(ie,J){return(q=Object.setPrototypeOf||function(L,N){return L.__proto__=N,L})(ie,J)}function M(ie){var J=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var N,L=b(ie);if(J){var $=b(this).constructor;N=Reflect.construct(L,arguments,$)}else N=L.apply(this,arguments);return f(this,N)}}function f(ie,J){if(J&&("object"===a(J)||"function"==typeof J))return J;if(void 0!==J)throw new TypeError("Derived constructors may only return object or undefined");return function(ie){if(void 0===ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie}(ie)}function b(ie){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(ie)}var x="noopener noreferrer nofollow";function O(ie){return _.apply(this,arguments)}function _(){return(_=X(I.default.mark(function ie(J){var G,L,N=arguments;return I.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(G=N.length>1&&void 0!==N[1]&&N[1],!ee(J,document.baseURI)){te.next=21;break}return te.next=4,fetch(J);case 4:if((L=te.sent).ok){te.next=7;break}throw new Error(L.statusText);case 7:if(!G){te.next=15;break}return te.t1=Uint8Array,te.next=11,L.arrayBuffer();case 11:te.t2=te.sent,te.t0=new te.t1(te.t2),te.next=20;break;case 15:return te.t3=E.stringToBytes,te.next=18,L.text();case 18:te.t4=te.sent,te.t0=(0,te.t3)(te.t4);case 20:return te.abrupt("return",te.t0);case 21:return te.abrupt("return",new Promise(function(se,me){var ke=new XMLHttpRequest;ke.open("GET",J,!0),G&&(ke.responseType="arraybuffer"),ke.onreadystatechange=function(){if(ke.readyState===XMLHttpRequest.DONE){var Pe;if((200===ke.status||0===ke.status)&&(G&&ke.response?Pe=new Uint8Array(ke.response):!G&&ke.responseText&&(Pe=(0,E.stringToBytes)(ke.responseText)),Pe))return void se(Pe);me(new Error(ke.statusText))}},ke.send(null)}));case 22:case"end":return te.stop()}},ie)}))).apply(this,arguments)}k.PixelsPerInch={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,E.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}},k.DOMCanvasFactory=function(ie){F(G,ie);var J=M(G);function G(){var L,N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},$=N.ownerDocument,te=void 0===$?globalThis.document:$;return V(this,G),(L=J.call(this))._document=te,L}return e(G,[{key:"_createCanvas",value:function(N,$){var te=this._document.createElement("canvas");return te.width=N,te.height=$,te}}]),G}(w.BaseCanvasFactory),k.DOMCMapReaderFactory=function(ie){F(G,ie);var J=M(G);function G(){return V(this,G),J.apply(this,arguments)}return e(G,[{key:"_fetchData",value:function(N,$){return O(N,this.isCompressed).then(function(te){return{cMapData:te,compressionType:$}})}}]),G}(w.BaseCMapReaderFactory),k.DOMStandardFontDataFactory=function(ie){F(G,ie);var J=M(G);function G(){return V(this,G),J.apply(this,arguments)}return e(G,[{key:"_fetchData",value:function(N){return O(N,!0)}}]),G}(w.BaseStandardFontDataFactory),k.DOMSVGFactory=function(ie){F(G,ie);var J=M(G);function G(){return V(this,G),J.apply(this,arguments)}return e(G,[{key:"_createSVG",value:function(N){return document.createElementNS("http://www.w3.org/2000/svg",N)}}]),G}(w.BaseSVGFactory);var A=function(){function ie(J){var G=J.viewBox,L=J.scale,N=J.rotation,$=J.offsetX,te=void 0===$?0:$,se=J.offsetY,me=void 0===se?0:se,ke=J.dontFlip,Pe=void 0!==ke&&ke;V(this,ie),this.viewBox=G,this.scale=L,this.rotation=N,this.offsetX=te,this.offsetY=me;var Fe,le,ge,re,ue,ne,fe,_e,Ze=(G[2]+G[0])/2,Ee=(G[3]+G[1])/2;switch((N%=360)<0&&(N+=360),N){case 180:Fe=-1,le=0,ge=0,re=1;break;case 90:Fe=0,le=1,ge=1,re=0;break;case 270:Fe=0,le=-1,ge=-1,re=0;break;case 0:Fe=1,le=0,ge=0,re=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Pe&&(ge=-ge,re=-re),0===Fe?(ue=Math.abs(Ee-G[1])*L+te,ne=Math.abs(Ze-G[0])*L+me,fe=Math.abs(G[3]-G[1])*L,_e=Math.abs(G[2]-G[0])*L):(ue=Math.abs(Ze-G[0])*L+te,ne=Math.abs(Ee-G[1])*L+me,fe=Math.abs(G[2]-G[0])*L,_e=Math.abs(G[3]-G[1])*L),this.transform=[Fe*L,le*L,ge*L,re*L,ue-Fe*L*Ze-ge*L*Ee,ne-le*L*Ze-re*L*Ee],this.width=fe,this.height=_e}return e(ie,[{key:"clone",value:function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},L=G.scale,N=void 0===L?this.scale:L,$=G.rotation,te=void 0===$?this.rotation:$,se=G.offsetX,me=void 0===se?this.offsetX:se,ke=G.offsetY,Pe=void 0===ke?this.offsetY:ke,Ze=G.dontFlip,Ee=void 0!==Ze&&Ze;return new ie({viewBox:this.viewBox.slice(),scale:N,rotation:te,offsetX:me,offsetY:Pe,dontFlip:Ee})}},{key:"convertToViewportPoint",value:function(G,L){return E.Util.applyTransform([G,L],this.transform)}},{key:"convertToViewportRectangle",value:function(G){var L=E.Util.applyTransform([G[0],G[1]],this.transform),N=E.Util.applyTransform([G[2],G[3]],this.transform);return[L[0],L[1],N[0],N[1]]}},{key:"convertToPdfPoint",value:function(G,L){return E.Util.applyInverseTransform([G,L],this.transform)}}]),ie}();k.PageViewport=A,k.RenderingCancelledException=function(ie){F(G,ie);var J=M(G);function G(L,N){var $;return V(this,G),($=J.call(this,L,"RenderingCancelledException")).type=N,$}return G}(E.BaseException);var ce,o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function c(ie){for(var J=ie.length,G=0;G<J&&""===ie[G].trim();)G++;return"data:"===ie.substring(G,G+5).toLowerCase()}function ee(ie,J){try{var L=(J?new URL(ie,J):new URL(ie)).protocol;return"http:"===L||"https:"===L}catch(N){return!1}}k.LinkTarget=o,k.StatTimer=function(){function ie(){V(this,ie),this.started=Object.create(null),this.times=[]}return e(ie,[{key:"time",value:function(G){G in this.started&&(0,E.warn)("Timer is already running for ".concat(G)),this.started[G]=Date.now()}},{key:"timeEnd",value:function(G){G in this.started||(0,E.warn)("Timer has not been started for ".concat(G)),this.times.push({name:G,start:this.started[G],end:Date.now()}),delete this.started[G]}},{key:"toString",value:function(){var $,G=[],L=0,N=R(this.times);try{for(N.s();!($=N.n()).done;){var se=$.value.name;se.length>L&&(L=se.length)}}catch(Ee){N.e(Ee)}finally{N.f()}var ke,me=R(this.times);try{for(me.s();!(ke=me.n()).done;){var Pe=ke.value,Ze=Pe.end-Pe.start;G.push("".concat(Pe.name.padEnd(L)," ").concat(Ze,"ms\n"))}}catch(Ee){me.e(Ee)}finally{me.f()}return G.join("")}}]),ie}(),k.PDFDateString=function(){function ie(){V(this,ie)}return e(ie,null,[{key:"toDateObject",value:function(G){if(!G||!(0,E.isString)(G))return null;ce||(ce=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var L=ce.exec(G);if(!L)return null;var N=parseInt(L[1],10),$=parseInt(L[2],10);$=$>=1&&$<=12?$-1:0;var te=parseInt(L[3],10);te=te>=1&&te<=31?te:1;var se=parseInt(L[4],10);se=se>=0&&se<=23?se:0;var me=parseInt(L[5],10);me=me>=0&&me<=59?me:0;var ke=parseInt(L[6],10);ke=ke>=0&&ke<=59?ke:0;var Pe=L[7]||"Z",Ze=parseInt(L[8],10);Ze=Ze>=0&&Ze<=23?Ze:0;var Ee=parseInt(L[9],10)||0;return Ee=Ee>=0&&Ee<=59?Ee:0,"-"===Pe?(se+=Ze,me+=Ee):"+"===Pe&&(se-=Ze,me-=Ee),new Date(Date.UTC(N,$,te,se,me,ke))}}]),ie}()},(Y,k,n)=>{"use strict";Y.exports=n(3)},(Y,k,n)=>{"use strict";function a(E){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(E)}var I=function(E){var R,w=Object.prototype,B=w.hasOwnProperty,H="function"==typeof Symbol?Symbol:{},z=H.iterator||"@@iterator",D=H.asyncIterator||"@@asyncIterator",X=H.toStringTag||"@@toStringTag";function V(i,h,v){return Object.defineProperty(i,h,{value:v,enumerable:!0,configurable:!0,writable:!0}),i[h]}try{V({},"")}catch(i){V=function(v,U,ee){return v[U]=ee}}function j(i,h,v,U){var Q=Object.create((h&&h.prototype instanceof u?h:u).prototype),he=new o(U||[]);return Q._invoke=function(i,h,v){var U=F;return function(Q,he){if(U===M)throw new Error("Generator is already running");if(U===f){if("throw"===Q)throw he;return c()}for(v.method=Q,v.arg=he;;){var ce=v.delegate;if(ce){var de=P(ce,v);if(de){if(de===l)continue;return de}}if("next"===v.method)v.sent=v._sent=v.arg;else if("throw"===v.method){if(U===F)throw U=f,v.arg;v.dispatchException(v.arg)}else"return"===v.method&&v.abrupt("return",v.arg);U=M;var be=e(i,h,v);if("normal"===be.type){if(U=v.done?f:q,be.arg===l)continue;return{value:be.arg,done:v.done}}"throw"===be.type&&(U=f,v.method="throw",v.arg=be.arg)}}}(i,v,he),Q}function e(i,h,v){try{return{type:"normal",arg:i.call(h,v)}}catch(U){return{type:"throw",arg:U}}}E.wrap=j;var F="suspendedStart",q="suspendedYield",M="executing",f="completed",l={};function u(){}function b(){}function x(){}var m={};V(m,z,function(){return this});var d=Object.getPrototypeOf,T=d&&d(d(s([])));T&&T!==w&&B.call(T,z)&&(m=T);var O=x.prototype=u.prototype=Object.create(m);function _(i){["next","throw","return"].forEach(function(h){V(i,h,function(v){return this._invoke(h,v)})})}function C(i,h){function v(Q,he,ce,de){var be=e(i[Q],i,he);if("throw"!==be.type){var ie=be.arg,J=ie.value;return J&&"object"===a(J)&&B.call(J,"__await")?h.resolve(J.__await).then(function(G){v("next",G,ce,de)},function(G){v("throw",G,ce,de)}):h.resolve(J).then(function(G){ie.value=G,ce(ie)},function(G){return v("throw",G,ce,de)})}de(be.arg)}var U;this._invoke=function(Q,he){function ce(){return new h(function(de,be){v(Q,he,de,be)})}return U=U?U.then(ce,ce):ce()}}function P(i,h){var v=i.iterator[h.method];if(v===R){if(h.delegate=null,"throw"===h.method){if(i.iterator.return&&(h.method="return",h.arg=R,P(i,h),"throw"===h.method))return l;h.method="throw",h.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var U=e(v,i.iterator,h.arg);if("throw"===U.type)return h.method="throw",h.arg=U.arg,h.delegate=null,l;var ee=U.arg;return ee?ee.done?(h[i.resultName]=ee.value,h.next=i.nextLoc,"return"!==h.method&&(h.method="next",h.arg=R),h.delegate=null,l):ee:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,l)}function A(i){var h={tryLoc:i[0]};1 in i&&(h.catchLoc=i[1]),2 in i&&(h.finallyLoc=i[2],h.afterLoc=i[3]),this.tryEntries.push(h)}function p(i){var h=i.completion||{};h.type="normal",delete h.arg,i.completion=h}function o(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(A,this),this.reset(!0)}function s(i){if(i){var h=i[z];if(h)return h.call(i);if("function"==typeof i.next)return i;if(!isNaN(i.length)){var v=-1,U=function ee(){for(;++v<i.length;)if(B.call(i,v))return ee.value=i[v],ee.done=!1,ee;return ee.value=R,ee.done=!0,ee};return U.next=U}}return{next:c}}function c(){return{value:R,done:!0}}return b.prototype=x,V(O,"constructor",x),V(x,"constructor",b),b.displayName=V(x,X,"GeneratorFunction"),E.isGeneratorFunction=function(i){var h="function"==typeof i&&i.constructor;return!!h&&(h===b||"GeneratorFunction"===(h.displayName||h.name))},E.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,x):(i.__proto__=x,V(i,X,"GeneratorFunction")),i.prototype=Object.create(O),i},E.awrap=function(i){return{__await:i}},_(C.prototype),V(C.prototype,D,function(){return this}),E.AsyncIterator=C,E.async=function(i,h,v,U,ee){void 0===ee&&(ee=Promise);var Q=new C(j(i,h,v,U),ee);return E.isGeneratorFunction(h)?Q:Q.next().then(function(he){return he.done?he.value:Q.next()})},_(O),V(O,X,"Generator"),V(O,z,function(){return this}),V(O,"toString",function(){return"[object Generator]"}),E.keys=function(i){var h=[];for(var v in i)h.push(v);return h.reverse(),function U(){for(;h.length;){var ee=h.pop();if(ee in i)return U.value=ee,U.done=!1,U}return U.done=!0,U}},E.values=s,o.prototype={constructor:o,reset:function(h){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(p),!h)for(var v in this)"t"===v.charAt(0)&&B.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=R)},stop:function(){this.done=!0;var v=this.tryEntries[0].completion;if("throw"===v.type)throw v.arg;return this.rval},dispatchException:function(h){if(this.done)throw h;var v=this;function U(be,ie){return he.type="throw",he.arg=h,v.next=be,ie&&(v.method="next",v.arg=R),!!ie}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var Q=this.tryEntries[ee],he=Q.completion;if("root"===Q.tryLoc)return U("end");if(Q.tryLoc<=this.prev){var ce=B.call(Q,"catchLoc"),de=B.call(Q,"finallyLoc");if(ce&&de){if(this.prev<Q.catchLoc)return U(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return U(Q.finallyLoc)}else if(ce){if(this.prev<Q.catchLoc)return U(Q.catchLoc,!0)}else{if(!de)throw new Error("try statement without catch or finally");if(this.prev<Q.finallyLoc)return U(Q.finallyLoc)}}}},abrupt:function(h,v){for(var U=this.tryEntries.length-1;U>=0;--U){var ee=this.tryEntries[U];if(ee.tryLoc<=this.prev&&B.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var Q=ee;break}}Q&&("break"===h||"continue"===h)&&Q.tryLoc<=v&&v<=Q.finallyLoc&&(Q=null);var he=Q?Q.completion:{};return he.type=h,he.arg=v,Q?(this.method="next",this.next=Q.finallyLoc,l):this.complete(he)},complete:function(h,v){if("throw"===h.type)throw h.arg;return"break"===h.type||"continue"===h.type?this.next=h.arg:"return"===h.type?(this.rval=this.arg=h.arg,this.method="return",this.next="end"):"normal"===h.type&&v&&(this.next=v),l},finish:function(h){for(var v=this.tryEntries.length-1;v>=0;--v){var U=this.tryEntries[v];if(U.finallyLoc===h)return this.complete(U.completion,U.afterLoc),p(U),l}},catch:function(h){for(var v=this.tryEntries.length-1;v>=0;--v){var U=this.tryEntries[v];if(U.tryLoc===h){var ee=U.completion;if("throw"===ee.type){var Q=ee.arg;p(U)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(h,v,U){return this.delegate={iterator:s(h),resultName:v,nextLoc:U},"next"===this.method&&(this.arg=R),l}},E}("object"===a(Y=n.nmd(Y))?Y.exports:{});try{regeneratorRuntime=I}catch(E){"object"===("undefined"==typeof globalThis?"undefined":a(globalThis))?globalThis.regeneratorRuntime=I:Function("r","regeneratorRuntime = r")(I)}},(Y,k,n)=>{"use strict";function a(we,De){for(var Te=0;Te<De.length;Te++){var Le=De[Te];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(we,Le.key,Le)}}function H(we,De){return function(we){if(Array.isArray(we))return we}(we)||function(we,De){var Te=null==we?null:"undefined"!=typeof Symbol&&we[Symbol.iterator]||we["@@iterator"];if(null!=Te){var tt,et,Le=[],ze=!0,Qe=!1;try{for(Te=Te.call(we);!(ze=(tt=Te.next()).done)&&(Le.push(tt.value),!De||Le.length!==De);ze=!0);}catch(ht){Qe=!0,et=ht}finally{try{!ze&&null!=Te.return&&Te.return()}finally{if(Qe)throw et}}return Le}}(we,De)||j(we,De)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(we,De){if(we){if("string"==typeof we)return e(we,De);var Te=Object.prototype.toString.call(we).slice(8,-1);if("Object"===Te&&we.constructor&&(Te=we.constructor.name),"Map"===Te||"Set"===Te)return Array.from(we);if("Arguments"===Te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te))return e(we,De)}}function e(we,De){(null==De||De>we.length)&&(De=we.length);for(var Te=0,Le=new Array(De);Te<De;Te++)Le[Te]=we[Te];return Le}function F(we){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Te){return typeof Te}:function(Te){return Te&&"function"==typeof Symbol&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te})(we)}function q(we,De){if(!(we instanceof De))throw new TypeError("Cannot call a class as a function")}function M(we,De){if("function"!=typeof De&&null!==De)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(De&&De.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),De&&f(we,De)}function f(we,De){return(f=Object.setPrototypeOf||function(Le,ze){return Le.__proto__=ze,Le})(we,De)}function l(we){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(we){return!1}}();return function(){var ze,Le=m(we);if(De){var Qe=m(this).constructor;ze=Reflect.construct(Le,arguments,Qe)}else ze=Le.apply(this,arguments);return u(this,ze)}}function u(we,De){if(De&&("object"===F(De)||"function"==typeof De))return De;if(void 0!==De)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(void 0===we)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(we)}function m(we){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(Te){return Te.__proto__||Object.getPrototypeOf(Te)})(we)}Object.defineProperty(k,"__esModule",{value:!0}),k.arrayByteLength=Ae,k.arraysToBytes=function(we){var De=we.length;if(1===De&&we[0]instanceof Uint8Array)return we[0];for(var Te=0,Le=0;Le<De;Le++)Te+=Ae(we[Le]);for(var ze=0,Qe=new Uint8Array(Te),tt=0;tt<De;tt++){var et=we[tt];et instanceof Uint8Array||(et="string"==typeof et?oe(et):new Uint8Array(et));var ht=et.byteLength;Qe.set(et,ze),ze+=ht}return Qe},k.assert=ke,k.bytesToString=function(we){ke(null!==we&&"object"===F(we)&&void 0!==we.length,"Invalid argument for bytesToString");var De=we.length;if(De<8192)return String.fromCharCode.apply(null,we);for(var Le=[],ze=0;ze<De;ze+=8192){var Qe=Math.min(ze+8192,De),tt=we.subarray(ze,Qe);Le.push(String.fromCharCode.apply(null,tt))}return Le.join("")},k.createObjectURL=function(we){var De=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",Te=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!Te)return URL.createObjectURL(new Blob([we],{type:De}));for(var Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ze="data:".concat(De,";base64,"),Qe=0,tt=we.length;Qe<tt;Qe+=3){var et=255&we[Qe],ht=255&we[Qe+1],gt=255&we[Qe+2],Zt=et>>2,jt=(3&et)<<4|ht>>4,Or=Qe+1<tt?(15&ht)<<2|gt>>6:64,zr=Qe+2<tt?63&gt:64;ze+=Le[Zt]+Le[jt]+Le[Or]+Le[zr]}return ze},k.createPromiseCapability=function(){var we=Object.create(null),De=!1;return Object.defineProperty(we,"settled",{get:function(){return De}}),we.promise=new Promise(function(Te,Le){we.resolve=function(ze){De=!0,Te(ze)},we.reject=function(ze){De=!0,Le(ze)}}),we},k.createValidAbsoluteUrl=function(we){var De=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,Te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!we)return null;try{if(Te&&"string"==typeof we){if(Te.addDefaultProtocol&&we.startsWith("www.")){var Le=we.match(/\./g);Le&&Le.length>=2&&(we="http://".concat(we))}if(Te.tryConvertEncoding)try{we=Pt(we)}catch(Qe){}}var ze=De?new URL(we,De):new URL(we);if(Ze(ze))return ze}catch(Qe){}return null},k.escapeString=function(we){return we.replace(/([()\\\n\r])/g,function(De){return"\n"===De?"\\n":"\r"===De?"\\r":"\\".concat(De)})},k.getModificationDate=function(){var we=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,De=[we.getUTCFullYear().toString(),(we.getUTCMonth()+1).toString().padStart(2,"0"),we.getUTCDate().toString().padStart(2,"0"),we.getUTCHours().toString().padStart(2,"0"),we.getUTCMinutes().toString().padStart(2,"0"),we.getUTCSeconds().toString().padStart(2,"0")];return De.join("")},k.getVerbosityLevel=function(){return L},k.info=function(we){L>=de.INFOS&&console.log("Info: ".concat(we))},k.isArrayBuffer=function(we){return"object"===F(we)&&null!==we&&void 0!==we.byteLength},k.isArrayEqual=function(we,De){if(we.length!==De.length)return!1;for(var Te=0,Le=we.length;Te<Le;Te++)if(we[Te]!==De[Te])return!1;return!0},k.isAscii=function(we){return/^[\x00-\x7F]*$/.test(we)},k.isBool=function(we){return"boolean"==typeof we},k.isNum=function(we){return"number"==typeof we},k.isSameOrigin=function(we,De){var Te;try{if(!(Te=new URL(we)).origin||"null"===Te.origin)return!1}catch(ze){return!1}var Le=new URL(De,Te);return Te.origin===Le.origin},k.isString=function(we){return"string"==typeof we},k.objectFromMap=function(we){var Le,De=Object.create(null),Te=function(we,De){var Te="undefined"!=typeof Symbol&&we[Symbol.iterator]||we["@@iterator"];if(!Te){if(Array.isArray(we)||(Te=j(we))){Te&&(we=Te);var Le=0,ze=function(){};return{s:ze,n:function(){return Le>=we.length?{done:!0}:{done:!1,value:we[Le++]}},e:function(gt){throw gt},f:ze}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var et,Qe=!0,tt=!1;return{s:function(){Te=Te.call(we)},n:function(){var gt=Te.next();return Qe=gt.done,gt},e:function(gt){tt=!0,et=gt},f:function(){try{!Qe&&null!=Te.return&&Te.return()}finally{if(tt)throw et}}}}(we);try{for(Te.s();!(Le=Te.n()).done;){var ze=H(Le.value,2);De[ze[0]]=ze[1]}}catch(et){Te.e(et)}finally{Te.f()}return De},k.objectSize=function(we){return Object.keys(we).length},k.removeNullCharacters=function(we){return"string"!=typeof we?(se("The argument for removeNullCharacters must be a string."),we):we.replace(Re,"")},k.setVerbosityLevel=function(we){Number.isInteger(we)&&(L=we)},k.shadow=Fe,k.string32=function(we){return String.fromCharCode(we>>24&255,we>>16&255,we>>8&255,255&we)},k.stringToBytes=oe,k.stringToPDFString=function(we){var De=we.length,Te=[];if("\xfe"===we[0]&&"\xff"===we[1])for(var Le=2;Le<De;Le+=2)Te.push(String.fromCharCode(we.charCodeAt(Le)<<8|we.charCodeAt(Le+1)));else if("\xff"===we[0]&&"\xfe"===we[1])for(var ze=2;ze<De;ze+=2)Te.push(String.fromCharCode(we.charCodeAt(ze+1)<<8|we.charCodeAt(ze)));else for(var Qe=0;Qe<De;++Qe){var tt=Xe[we.charCodeAt(Qe)];Te.push(tt?String.fromCharCode(tt):we.charAt(Qe))}return Te.join("")},k.stringToUTF16BEString=function(we){for(var De=["\xfe\xff"],Te=0,Le=we.length;Te<Le;Te++){var ze=we.charCodeAt(Te);De.push(String.fromCharCode(ze>>8&255),String.fromCharCode(255&ze))}return De.join("")},k.stringToUTF8String=Pt,k.unreachable=me,k.utf8StringToString=function(we){return unescape(encodeURIComponent(we))},k.warn=se,k.VerbosityLevel=k.Util=k.UNSUPPORTED_FEATURES=k.UnknownErrorException=k.UnexpectedResponseException=k.TextRenderingMode=k.StreamType=k.RenderingIntentFlag=k.PermissionFlag=k.PasswordResponses=k.PasswordException=k.PageActionEventType=k.OPS=k.MissingPDFException=k.IsLittleEndianCached=k.IsEvalSupportedCached=k.InvalidPDFException=k.ImageKind=k.IDENTITY_MATRIX=k.FormatError=k.FontType=k.FONT_IDENTITY_MATRIX=k.DocumentActionEventType=k.CMapCompressionType=k.BaseException=k.AnnotationType=k.AnnotationStateModelType=k.AnnotationReviewState=k.AnnotationReplyType=k.AnnotationMode=k.AnnotationMarkedState=k.AnnotationFlag=k.AnnotationFieldFlag=k.AnnotationBorderStyleType=k.AnnotationActionEventType=k.AbortException=void 0,n(5),k.IDENTITY_MATRIX=[1,0,0,1,0,0],k.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],k.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},k.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},k.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},k.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},k.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},k.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},k.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},k.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},k.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},k.AnnotationReplyType={GROUP:"Group",REPLY:"R"},k.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},k.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},k.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},k.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},k.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},k.PageActionEventType={O:"PageOpen",C:"PageClose"},k.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},k.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var de={ERRORS:0,WARNINGS:1,INFOS:5};k.VerbosityLevel=de,k.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},k.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},k.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},k.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var L=de.WARNINGS;function se(we){L>=de.WARNINGS&&console.log("Warning: ".concat(we))}function me(we){throw new Error(we)}function ke(we,De){we||me(De)}function Ze(we){if(!we)return!1;switch(we.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Fe(we,De,Te){return Object.defineProperty(we,De,{value:Te,enumerable:!0,configurable:!0,writable:!1}),Te}var le=function(){function De(Te,Le){this.constructor===De&&me("Cannot initialize BaseException."),this.message=Te,this.name=Le}return De.prototype=new Error,De.constructor=De,De}();k.BaseException=le,k.PasswordException=function(we){M(Te,we);var De=l(Te);function Te(Le,ze){var Qe;return q(this,Te),(Qe=De.call(this,Le,"PasswordException")).code=ze,Qe}return Te}(le),k.UnknownErrorException=function(we){M(Te,we);var De=l(Te);function Te(Le,ze){var Qe;return q(this,Te),(Qe=De.call(this,Le,"UnknownErrorException")).details=ze,Qe}return Te}(le),k.InvalidPDFException=function(we){M(Te,we);var De=l(Te);function Te(Le){return q(this,Te),De.call(this,Le,"InvalidPDFException")}return Te}(le),k.MissingPDFException=function(we){M(Te,we);var De=l(Te);function Te(Le){return q(this,Te),De.call(this,Le,"MissingPDFException")}return Te}(le),k.UnexpectedResponseException=function(we){M(Te,we);var De=l(Te);function Te(Le,ze){var Qe;return q(this,Te),(Qe=De.call(this,Le,"UnexpectedResponseException")).status=ze,Qe}return Te}(le),k.FormatError=function(we){M(Te,we);var De=l(Te);function Te(Le){return q(this,Te),De.call(this,Le,"FormatError")}return Te}(le),k.AbortException=function(we){M(Te,we);var De=l(Te);function Te(Le){return q(this,Te),De.call(this,Le,"AbortException")}return Te}(le);var Re=/\x00/g;function oe(we){ke("string"==typeof we,"Invalid argument for stringToBytes");for(var De=we.length,Te=new Uint8Array(De),Le=0;Le<De;++Le)Te[Le]=255&we.charCodeAt(Le);return Te}function Ae(we){return void 0!==we.length?we.length:(ke(void 0!==we.byteLength,"arrayByteLength - invalid argument."),we.byteLength)}k.IsLittleEndianCached={get value(){return Fe(this,"value",((we=new Uint8Array(4))[0]=1,1===new Uint32Array(we.buffer,0,1)[0]));var we}},k.IsEvalSupportedCached={get value(){return Fe(this,"value",function(){try{return new Function(""),!0}catch(we){return!1}}())}};var we,We=(we=Array(256).keys(),function(we){if(Array.isArray(we))return e(we)}(we)||function(we){if("undefined"!=typeof Symbol&&null!=we[Symbol.iterator]||null!=we["@@iterator"])return Array.from(we)}(we)||j(we)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(we){return we.toString(16).padStart(2,"0")});k.Util=function(){function we(){q(this,we)}return function(we,De,Te){Te&&a(we,Te)}(we,0,[{key:"makeHexColor",value:function(Te,Le,ze){return"#".concat(We[Te]).concat(We[Le]).concat(We[ze])}},{key:"transform",value:function(Te,Le){return[Te[0]*Le[0]+Te[2]*Le[1],Te[1]*Le[0]+Te[3]*Le[1],Te[0]*Le[2]+Te[2]*Le[3],Te[1]*Le[2]+Te[3]*Le[3],Te[0]*Le[4]+Te[2]*Le[5]+Te[4],Te[1]*Le[4]+Te[3]*Le[5]+Te[5]]}},{key:"applyTransform",value:function(Te,Le){return[Te[0]*Le[0]+Te[1]*Le[2]+Le[4],Te[0]*Le[1]+Te[1]*Le[3]+Le[5]]}},{key:"applyInverseTransform",value:function(Te,Le){var ze=Le[0]*Le[3]-Le[1]*Le[2];return[(Te[0]*Le[3]-Te[1]*Le[2]+Le[2]*Le[5]-Le[4]*Le[3])/ze,(-Te[0]*Le[1]+Te[1]*Le[0]+Le[4]*Le[1]-Le[5]*Le[0])/ze]}},{key:"getAxialAlignedBoundingBox",value:function(Te,Le){var ze=we.applyTransform(Te,Le),Qe=we.applyTransform(Te.slice(2,4),Le),tt=we.applyTransform([Te[0],Te[3]],Le),et=we.applyTransform([Te[2],Te[1]],Le);return[Math.min(ze[0],Qe[0],tt[0],et[0]),Math.min(ze[1],Qe[1],tt[1],et[1]),Math.max(ze[0],Qe[0],tt[0],et[0]),Math.max(ze[1],Qe[1],tt[1],et[1])]}},{key:"inverseTransform",value:function(Te){var Le=Te[0]*Te[3]-Te[1]*Te[2];return[Te[3]/Le,-Te[1]/Le,-Te[2]/Le,Te[0]/Le,(Te[2]*Te[5]-Te[4]*Te[3])/Le,(Te[4]*Te[1]-Te[5]*Te[0])/Le]}},{key:"apply3dTransform",value:function(Te,Le){return[Te[0]*Le[0]+Te[1]*Le[1]+Te[2]*Le[2],Te[3]*Le[0]+Te[4]*Le[1]+Te[5]*Le[2],Te[6]*Le[0]+Te[7]*Le[1]+Te[8]*Le[2]]}},{key:"singularValueDecompose2dScale",value:function(Te){var Le=[Te[0],Te[2],Te[1],Te[3]],ze=Te[0]*Le[0]+Te[1]*Le[2],Qe=Te[0]*Le[1]+Te[1]*Le[3],tt=Te[2]*Le[0]+Te[3]*Le[2],et=Te[2]*Le[1]+Te[3]*Le[3],ht=(ze+et)/2,gt=Math.sqrt(Math.pow(ze+et,2)-4*(ze*et-tt*Qe))/2,jt=ht-gt||1;return[Math.sqrt(ht+gt||1),Math.sqrt(jt)]}},{key:"normalizeRect",value:function(Te){var Le=Te.slice(0);return Te[0]>Te[2]&&(Le[0]=Te[2],Le[2]=Te[0]),Te[1]>Te[3]&&(Le[1]=Te[3],Le[3]=Te[1]),Le}},{key:"intersect",value:function(Te,Le){function ze(ht,gt){return ht-gt}var Qe=[Te[0],Te[2],Le[0],Le[2]].sort(ze),tt=[Te[1],Te[3],Le[1],Le[3]].sort(ze),et=[];return Te=we.normalizeRect(Te),Le=we.normalizeRect(Le),Qe[0]===Te[0]&&Qe[1]===Le[0]||Qe[0]===Le[0]&&Qe[1]===Te[0]?(et[0]=Qe[1],et[2]=Qe[2],tt[0]===Te[1]&&tt[1]===Le[1]||tt[0]===Le[1]&&tt[1]===Te[1]?(et[1]=tt[1],et[3]=tt[2],et):null):null}}]),we}();var Xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Pt(we){return decodeURIComponent(escape(we))}},(Y,k,n)=>{"use strict";var a=n(6);("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked)&&(("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=n(7)),globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!a.isNodeJS||(globalThis.btoa=function(E){return Buffer.from(E,"binary").toString("base64")}),globalThis.atob||!a.isNodeJS||(globalThis.atob=function(E){return Buffer.from(E,"base64").toString("binary")}),globalThis.DOMMatrix||!a.isNodeJS||(globalThis.DOMMatrix=n(60)),Object.fromEntries||n(61),globalThis.Promise.allSettled||(globalThis.Promise=n(89)),globalThis.ReadableStream||!a.isNodeJS||(globalThis.ReadableStream=n(117).ReadableStream))},(Y,k)=>{"use strict";function n(I){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(I)}Object.defineProperty(k,"__esModule",{value:!0}),k.isNodeJS=void 0;var a=!("object"!==("undefined"==typeof process?"undefined":n(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);k.isNodeJS=a},(Y,k,n)=>{n(8),Y.exports=n(10)},(Y,k,n)=>{n(9)({global:!0},{globalThis:n(10)})},(Y,k,n)=>{var a=n(10),I=n(11).f,E=n(40),w=n(43),B=n(34),R=n(49),H=n(59);Y.exports=function(z,D){var F,q,M,f,l,X=z.target,V=z.global,j=z.stat;if(F=V?a:j?a[X]||B(X,{}):(a[X]||{}).prototype)for(q in D){if(f=D[q],M=z.noTargetGet?(l=I(F,q))&&l.value:F[q],!H(V?q:X+(j?".":"#")+q,z.forced)&&void 0!==M){if(typeof f==typeof M)continue;R(f,M)}(z.sham||M&&M.sham)&&E(f,"sham",!0),w(F,q,f,z)}}},Y=>{var k=function(n){return n&&n.Math==Math&&n};Y.exports=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(Y,k,n)=>{var a=n(12),I=n(14),E=n(15),w=n(16),B=n(20),R=n(35),H=n(38),z=Object.getOwnPropertyDescriptor;k.f=a?z:function(X,V){if(X=w(X),V=B(V),H)try{return z(X,V)}catch(j){}if(R(X,V))return E(!I.f.call(X,V),X[V])}},(Y,k,n)=>{var a=n(13);Y.exports=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},Y=>{Y.exports=function(k){try{return!!k()}catch(n){return!0}}},(Y,k)=>{"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,I=a&&!n.call({1:2},1);k.f=I?function(w){var B=a(this,w);return!!B&&B.enumerable}:n},Y=>{Y.exports=function(k,n){return{enumerable:!(1&k),configurable:!(2&k),writable:!(4&k),value:n}}},(Y,k,n)=>{var a=n(17),I=n(19);Y.exports=function(E){return a(I(E))}},(Y,k,n)=>{var a=n(13),I=n(18),E="".split;Y.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(w){return"String"==I(w)?E.call(w,""):Object(w)}:Object},Y=>{var k={}.toString;Y.exports=function(n){return k.call(n).slice(8,-1)}},Y=>{Y.exports=function(k){if(null==k)throw TypeError("Can't call method on "+k);return k}},(Y,k,n)=>{var a=n(21),I=n(23);Y.exports=function(E){var w=a(E,"string");return I(w)?w:String(w)}},(Y,k,n)=>{var a=n(22),I=n(23),E=n(29),B=n(30)("toPrimitive");Y.exports=function(R,H){if(!a(R)||I(R))return R;var D,z=R[B];if(void 0!==z){if(void 0===H&&(H="default"),D=z.call(R,H),!a(D)||I(D))return D;throw TypeError("Can't convert object to primitive value")}return void 0===H&&(H="number"),E(R,H)}},Y=>{Y.exports=function(k){return"object"==typeof k?null!==k:"function"==typeof k}},(Y,k,n)=>{var a=n(24),I=n(25);Y.exports=I?function(E){return"symbol"==typeof E}:function(E){var w=a("Symbol");return"function"==typeof w&&Object(E)instanceof w}},(Y,k,n)=>{var a=n(10),I=function(E){return"function"==typeof E?E:void 0};Y.exports=function(E,w){return arguments.length<2?I(a[E]):a[E]&&a[E][w]}},(Y,k,n)=>{var a=n(26);Y.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(Y,k,n)=>{var a=n(27),I=n(13);Y.exports=!!Object.getOwnPropertySymbols&&!I(function(){var E=Symbol();return!String(E)||!(Object(E)instanceof Symbol)||!Symbol.sham&&a&&a<41})},(Y,k,n)=>{var H,z,a=n(10),I=n(28),E=a.process,w=a.Deno,B=E&&E.versions||w&&w.version,R=B&&B.v8;R?z=(H=R.split("."))[0]<4?1:H[0]+H[1]:I&&(!(H=I.match(/Edge\/(\d+)/))||H[1]>=74)&&(H=I.match(/Chrome\/(\d+)/))&&(z=H[1]),Y.exports=z&&+z},(Y,k,n)=>{var a=n(24);Y.exports=a("navigator","userAgent")||""},(Y,k,n)=>{var a=n(22);Y.exports=function(I,E){var w,B;if("string"===E&&"function"==typeof(w=I.toString)&&!a(B=w.call(I))||"function"==typeof(w=I.valueOf)&&!a(B=w.call(I))||"string"!==E&&"function"==typeof(w=I.toString)&&!a(B=w.call(I)))return B;throw TypeError("Can't convert object to primitive value")}},(Y,k,n)=>{var a=n(10),I=n(31),E=n(35),w=n(37),B=n(26),R=n(25),H=I("wks"),z=a.Symbol,D=R?z:z&&z.withoutSetter||w;Y.exports=function(X){return(!E(H,X)||!(B||"string"==typeof H[X]))&&(H[X]=B&&E(z,X)?z[X]:D("Symbol."+X)),H[X]}},(Y,k,n)=>{var a=n(32),I=n(33);(Y.exports=function(E,w){return I[E]||(I[E]=void 0!==w?w:{})})("versions",[]).push({version:"3.17.3",mode:a?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},Y=>{Y.exports=!1},(Y,k,n)=>{var a=n(10),I=n(34),E="__core-js_shared__",w=a[E]||I(E,{});Y.exports=w},(Y,k,n)=>{var a=n(10);Y.exports=function(I,E){try{Object.defineProperty(a,I,{value:E,configurable:!0,writable:!0})}catch(w){a[I]=E}return E}},(Y,k,n)=>{var a=n(36),I={}.hasOwnProperty;Y.exports=Object.hasOwn||function(w,B){return I.call(a(w),B)}},(Y,k,n)=>{var a=n(19);Y.exports=function(I){return Object(a(I))}},Y=>{var k=0,n=Math.random();Y.exports=function(a){return"Symbol("+String(void 0===a?"":a)+")_"+(++k+n).toString(36)}},(Y,k,n)=>{var a=n(12),I=n(13),E=n(39);Y.exports=!a&&!I(function(){return 7!=Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a})},(Y,k,n)=>{var a=n(10),I=n(22),E=a.document,w=I(E)&&I(E.createElement);Y.exports=function(B){return w?E.createElement(B):{}}},(Y,k,n)=>{var a=n(12),I=n(41),E=n(15);Y.exports=a?function(w,B,R){return I.f(w,B,E(1,R))}:function(w,B,R){return w[B]=R,w}},(Y,k,n)=>{var a=n(12),I=n(38),E=n(42),w=n(20),B=Object.defineProperty;k.f=a?B:function(H,z,D){if(E(H),z=w(z),E(D),I)try{return B(H,z,D)}catch(X){}if("get"in D||"set"in D)throw TypeError("Accessors not supported");return"value"in D&&(H[z]=D.value),H}},(Y,k,n)=>{var a=n(22);Y.exports=function(I){if(!a(I))throw TypeError(String(I)+" is not an object");return I}},(Y,k,n)=>{var a=n(10),I=n(40),E=n(35),w=n(34),B=n(44),R=n(45),H=R.get,z=R.enforce,D=String(String).split("String");(Y.exports=function(X,V,j,e){var f,F=!!e&&!!e.unsafe,q=!!e&&!!e.enumerable,M=!!e&&!!e.noTargetGet;"function"==typeof j&&("string"==typeof V&&!E(j,"name")&&I(j,"name",V),(f=z(j)).source||(f.source=D.join("string"==typeof V?V:""))),X!==a?(F?!M&&X[V]&&(q=!0):delete X[V],q?X[V]=j:I(X,V,j)):q?X[V]=j:w(V,j)})(Function.prototype,"toString",function(){return"function"==typeof this&&H(this).source||B(this)})},(Y,k,n)=>{var a=n(33),I=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(E){return I.call(E)}),Y.exports=a.inspectSource},(Y,k,n)=>{var V,j,e,a=n(46),I=n(10),E=n(22),w=n(40),B=n(35),R=n(33),H=n(47),z=n(48),D="Object already initialized";if(a||R.state){var M=R.state||(R.state=new(0,I.WeakMap)),f=M.get,l=M.has,u=M.set;V=function(x,m){if(l.call(M,x))throw new TypeError(D);return m.facade=x,u.call(M,x,m),m},j=function(x){return f.call(M,x)||{}},e=function(x){return l.call(M,x)}}else{var b=H("state");z[b]=!0,V=function(x,m){if(B(x,b))throw new TypeError(D);return m.facade=x,w(x,b,m),m},j=function(x){return B(x,b)?x[b]:{}},e=function(x){return B(x,b)}}Y.exports={set:V,get:j,has:e,enforce:function(x){return e(x)?j(x):V(x,{})},getterFor:function(x){return function(m){var d;if(!E(m)||(d=j(m)).type!==x)throw TypeError("Incompatible receiver, "+x+" required");return d}}}},(Y,k,n)=>{var a=n(10),I=n(44),E=a.WeakMap;Y.exports="function"==typeof E&&/native code/.test(I(E))},(Y,k,n)=>{var a=n(31),I=n(37),E=a("keys");Y.exports=function(w){return E[w]||(E[w]=I(w))}},Y=>{Y.exports={}},(Y,k,n)=>{var a=n(35),I=n(50),E=n(11),w=n(41);Y.exports=function(B,R){for(var H=I(R),z=w.f,D=E.f,X=0;X<H.length;X++){var V=H[X];a(B,V)||z(B,V,D(R,V))}}},(Y,k,n)=>{var a=n(24),I=n(51),E=n(58),w=n(42);Y.exports=a("Reflect","ownKeys")||function(R){var H=I.f(w(R)),z=E.f;return z?H.concat(z(R)):H}},(Y,k,n)=>{var a=n(52),E=n(57).concat("length","prototype");k.f=Object.getOwnPropertyNames||function(B){return a(B,E)}},(Y,k,n)=>{var a=n(35),I=n(16),E=n(53).indexOf,w=n(48);Y.exports=function(B,R){var X,H=I(B),z=0,D=[];for(X in H)!a(w,X)&&a(H,X)&&D.push(X);for(;R.length>z;)a(H,X=R[z++])&&(~E(D,X)||D.push(X));return D}},(Y,k,n)=>{var a=n(16),I=n(54),E=n(56),w=function(B){return function(R,H,z){var j,D=a(R),X=I(D.length),V=E(z,X);if(B&&H!=H){for(;X>V;)if((j=D[V++])!=j)return!0}else for(;X>V;V++)if((B||V in D)&&D[V]===H)return B||V||0;return!B&&-1}};Y.exports={includes:w(!0),indexOf:w(!1)}},(Y,k,n)=>{var a=n(55),I=Math.min;Y.exports=function(E){return E>0?I(a(E),9007199254740991):0}},Y=>{var k=Math.ceil,n=Math.floor;Y.exports=function(a){return isNaN(a=+a)?0:(a>0?n:k)(a)}},(Y,k,n)=>{var a=n(55),I=Math.max,E=Math.min;Y.exports=function(w,B){var R=a(w);return R<0?I(R+B,0):E(R,B)}},Y=>{Y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(Y,k)=>{k.f=Object.getOwnPropertySymbols},(Y,k,n)=>{var a=n(13),I=/#|\.prototype\./,E=function(z,D){var X=B[w(z)];return X==H||X!=R&&("function"==typeof D?a(D):!!D)},w=E.normalize=function(z){return String(z).replace(I,".").toLowerCase()},B=E.data={},R=E.NATIVE="N",H=E.POLYFILL="P";Y.exports=E},(Y,k,n)=>{"use strict";var a,I,B;function E(w){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(w)}B=function(){var w=function(){for(var l=[],u=arguments.length;u--;)l[u]=arguments[u];return this.setIdentity(),l&&l.length&&this.setMatrixValue(l)},B={isIdentity:{configurable:!0},is2D:{configurable:!0}};B.isIdentity.get=function(){var f=this;return 1===f.m11&&0===f.m12&&0===f.m13&&0===f.m14&&0===f.m21&&1===f.m22&&0===f.m23&&0===f.m24&&0===f.m31&&0===f.m32&&1===f.m33&&0===f.m34&&0===f.m41&&0===f.m42&&0===f.m43&&1===f.m44},B.isIdentity.set=function(f){this.isIdentity=f},B.is2D.get=function(){var f=this;return 0===f.m31&&0===f.m32&&1===f.m33&&0===f.m34&&0===f.m43&&1===f.m44},B.is2D.set=function(f){this.is2D=f},Object.defineProperties(w.prototype,B);var R=w.prototype;function H(f,l,u){var b=new w;return b.m41=f,b.e=f,b.m42=l,b.f=l,b.m43=u,b}function z(f,l,u){var b=new w,x=f*Math.PI/180,m=l*Math.PI/180,d=u*Math.PI/180,T=Math.cos(x),O=-Math.sin(x),_=Math.cos(m),C=-Math.sin(m),S=Math.cos(d),P=-Math.sin(d),A=_*S,p=-_*P;b.m11=A,b.a=A,b.m12=p,b.b=p,b.m13=C;var o=O*C*S+T*P;b.m21=o,b.c=o;var s=T*S-O*C*P;return b.m22=s,b.d=s,b.m23=-O*_,b.m31=O*P-T*C*S,b.m32=O*S+T*C*P,b.m33=T*_,b}function D(f,l,u,b){var x=new w,m=b*Math.PI/360,d=Math.sin(m),T=Math.cos(m),O=d*d,_=Math.sqrt(f*f+l*l+u*u),C=0,S=0,P=1;0!==_&&(C=f/_,S=l/_,P=u/_);var A=C*C,p=S*S,o=P*P,s=1-2*(p+o)*O;x.m11=s,x.a=s;var c=2*(f*l*O+u*d*T);x.m12=c,x.b=c,x.m13=2*(f*u*O-l*d*T);var i=2*(l*f*O-u*d*T);x.m21=i,x.c=i;var h=1-2*(o+A)*O;return x.m22=h,x.d=h,x.m23=2*(l*u*O+f*d*T),x.m31=2*(u*f*O+l*d*T),x.m32=2*(u*l*O-f*d*T),x.m33=1-2*(A+p)*O,x.m14=0,x.m24=0,x.m34=0,x.m41=0,x.e=0,x.m42=0,x.f=0,x.m43=0,x.m44=1,x}function X(f,l,u){var b=new w;return b.m11=f,b.a=f,b.m22=l,b.d=l,b.m33=u,b}function V(f){var l=f*Math.PI/180,u=new w,b=Math.tan(l);return u.m21=b,u.c=b,u}function j(f){var l=f*Math.PI/180,u=new w,b=Math.tan(l);return u.m12=b,u.b=b,u}function e(f,l){return new w([l.m11*f.m11+l.m12*f.m21+l.m13*f.m31+l.m14*f.m41,l.m21*f.m11+l.m22*f.m21+l.m23*f.m31+l.m24*f.m41,l.m31*f.m11+l.m32*f.m21+l.m33*f.m31+l.m34*f.m41,l.m41*f.m11+l.m42*f.m21+l.m43*f.m31+l.m44*f.m41,l.m11*f.m12+l.m12*f.m22+l.m13*f.m32+l.m14*f.m42,l.m21*f.m12+l.m22*f.m22+l.m23*f.m32+l.m24*f.m42,l.m31*f.m12+l.m32*f.m22+l.m33*f.m32+l.m34*f.m42,l.m41*f.m12+l.m42*f.m22+l.m43*f.m32+l.m44*f.m42,l.m11*f.m13+l.m12*f.m23+l.m13*f.m33+l.m14*f.m43,l.m21*f.m13+l.m22*f.m23+l.m23*f.m33+l.m24*f.m43,l.m31*f.m13+l.m32*f.m23+l.m33*f.m33+l.m34*f.m43,l.m41*f.m13+l.m42*f.m23+l.m43*f.m33+l.m44*f.m43,l.m11*f.m14+l.m12*f.m24+l.m13*f.m34+l.m14*f.m44,l.m21*f.m14+l.m22*f.m24+l.m23*f.m34+l.m24*f.m44,l.m31*f.m14+l.m32*f.m24+l.m33*f.m34+l.m34*f.m44,l.m41*f.m14+l.m42*f.m24+l.m43*f.m34+l.m44*f.m44])}function q(f,l){var u=Array.from(l);if(16===u.length){var b=u[0],x=u[1],m=u[2],d=u[3],T=u[4],O=u[5],_=u[6],C=u[7],S=u[8],P=u[9],A=u[10],p=u[11],o=u[12],s=u[13],c=u[14],i=u[15];f.m11=b,f.a=b,f.m21=x,f.c=x,f.m31=m,f.m41=d,f.e=d,f.m12=T,f.b=T,f.m22=O,f.d=O,f.m32=_,f.m42=C,f.f=C,f.m13=S,f.m23=P,f.m33=A,f.m43=p,f.m14=o,f.m24=s,f.m34=c,f.m44=i}else{if(6!==u.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var h=u[0],v=u[1],U=u[2],ee=u[3],Q=u[4],he=u[5];f.m11=h,f.a=h,f.m12=v,f.b=v,f.m21=U,f.c=U,f.m22=ee,f.d=ee,f.m14=Q,f.e=Q,f.m24=he,f.f=he}return f}return R.setMatrixValue=function(l){var u=this;if(!l||!l.length)return u;if(l.length&&"string"==typeof l[0]&&l[0].length){var x,m,b=String(l[0]).trim();if("none"===b)return u;if(x=b.slice(0,b.indexOf("(")),m=b.slice("matrix"===x?7:9,-1).split(",").map(function(d){return Math.abs(d)<1e-6?0:+d}),!([6,16].indexOf(m.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");q(u,m)}else l[0]instanceof w?q(u,l[0].toArray()):Array.isArray(l[0])?q(u,l[0]):Array.isArray(l)&&q(u,l);return u},R.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},R.toArray=function(l){var u=this;return u.is2D?[u.a,u.b,u.c,u.d,u.e,u.f]:l?[u.m11,u.m12,u.m13,u.m14,u.m21,u.m22,u.m23,u.m24,u.m31,u.m32,u.m33,u.m34,u.m41,u.m42,u.m43,u.m44]:[u.m11,u.m21,u.m31,u.m41,u.m12,u.m22,u.m32,u.m42,u.m13,u.m23,u.m33,u.m43,u.m14,u.m24,u.m34,u.m44]},R.multiply=function(l){return e(this,l)},R.translate=function(l,u,b){var m=u,d=b;return null==d&&(d=0),null==m&&(m=0),e(this,H(l,m,d))},R.scale=function(l,u,b){var m=u,d=b;return null==m&&(m=l),null==d&&(d=l),e(this,X(l,m,d))},R.rotate=function(l,u,b){var x=l,m=u,d=b;return null==m&&(m=0),null==d&&(d=x,x=0),e(this,z(x,m,d))},R.rotateAxisAngle=function(l,u,b,x){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return e(this,D(l,u,b,x))},R.skewX=function(l){return e(this,V(l))},R.skewY=function(l){return e(this,j(l))},R.setIdentity=function(){return q(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},R.transformPoint=function(l){var b=H(l.x,l.y,l.z);return b.m44=l.w||1,{x:(b=this.multiply(b)).m41,y:b.m42,z:b.m43,w:b.m44}},R.transform=function(l){var u=this,d=u.m41*l.x+u.m42*l.y+u.m43*l.z+u.m44*l.w;return{x:(u.m11*l.x+u.m12*l.y+u.m13*l.z+u.m14*l.w)/d,y:(u.m21*l.x+u.m22*l.y+u.m23*l.z+u.m24*l.w)/d,z:(u.m31*l.x+u.m32*l.y+u.m33*l.z+u.m34*l.w)/d,w:d}},w.Translate=H,w.Rotate=z,w.RotateAxisAngle=D,w.Scale=X,w.SkewX=V,w.SkewY=j,w.Multiply=e,w.fromMatrix=function(f){return new w([f.m11,f.m21,f.m31,f.m41,f.m12,f.m22,f.m32,f.m42,f.m13,f.m23,f.m33,f.m43,f.m14,f.m24,f.m34,f.m44])},w.fromArray=function(f){return q(new w,f)},w.feedFromArray=q,w},"object"===E(k)?Y.exports=B():void 0!==(I="function"==typeof(a=B)?a.call(k,n,k,Y):a)&&(Y.exports=I)},(Y,k,n)=>{n(62),n(77);var a=n(88);Y.exports=a.Object.fromEntries},(Y,k,n)=>{"use strict";var a=n(16),I=n(63),E=n(68),w=n(45),B=n(69),R="Array Iterator",H=w.set,z=w.getterFor(R);Y.exports=B(Array,"Array",function(D,X){H(this,{type:R,target:a(D),index:0,kind:X})},function(){var D=z(this),X=D.target,V=D.kind,j=D.index++;return!X||j>=X.length?(D.target=void 0,{value:void 0,done:!0}):"keys"==V?{value:j,done:!1}:"values"==V?{value:X[j],done:!1}:{value:[j,X[j]],done:!1}},"values"),E.Arguments=E.Array,I("keys"),I("values"),I("entries")},(Y,k,n)=>{var a=n(30),I=n(64),E=n(41),w=a("unscopables"),B=Array.prototype;null==B[w]&&E.f(B,w,{configurable:!0,value:I(null)}),Y.exports=function(R){B[w][R]=!0}},(Y,k,n)=>{var f,a=n(42),I=n(65),E=n(57),w=n(48),B=n(67),R=n(39),H=n(47),X="prototype",V="script",j=H("IE_PROTO"),e=function(){},F=function(u){return"<"+V+">"+u+"</"+V+">"},q=function(u){u.write(F("")),u.close();var b=u.parentWindow.Object;return u=null,b},l=function(){try{f=new ActiveXObject("htmlfile")}catch(b){}l="undefined"!=typeof document?document.domain&&f?q(f):function(){var x,u=R("iframe");return u.style.display="none",B.appendChild(u),u.src=String("javascript:"),(x=u.contentWindow.document).open(),x.write(F("document.F=Object")),x.close(),x.F}():q(f);for(var u=E.length;u--;)delete l[X][E[u]];return l()};w[j]=!0,Y.exports=Object.create||function(b,x){var m;return null!==b?(e[X]=a(b),m=new e,e[X]=null,m[j]=b):m=l(),void 0===x?m:I(m,x)}},(Y,k,n)=>{var a=n(12),I=n(41),E=n(42),w=n(66);Y.exports=a?Object.defineProperties:function(R,H){E(R);for(var V,z=w(H),D=z.length,X=0;D>X;)I.f(R,V=z[X++],H[V]);return R}},(Y,k,n)=>{var a=n(52),I=n(57);Y.exports=Object.keys||function(w){return a(w,I)}},(Y,k,n)=>{var a=n(24);Y.exports=a("document","documentElement")},Y=>{Y.exports={}},(Y,k,n)=>{"use strict";var a=n(9),I=n(70),E=n(72),w=n(75),B=n(74),R=n(40),H=n(43),z=n(30),D=n(32),X=n(68),V=n(71),j=V.IteratorPrototype,e=V.BUGGY_SAFARI_ITERATORS,F=z("iterator"),q="keys",M="values",f="entries",l=function(){return this};Y.exports=function(u,b,x,m,d,T,O){I(x,b,m);var s,c,i,_=function(h){if(h===d&&p)return p;if(!e&&h in P)return P[h];switch(h){case q:case M:case f:return function(){return new x(this,h)}}return function(){return new x(this)}},C=b+" Iterator",S=!1,P=u.prototype,A=P[F]||P["@@iterator"]||d&&P[d],p=!e&&A||_(d),o="Array"==b&&P.entries||A;if(o&&(s=E(o.call(new u)))!==Object.prototype&&s.next&&(!D&&E(s)!==j&&(w?w(s,j):"function"!=typeof s[F]&&R(s,F,l)),B(s,C,!0,!0),D&&(X[C]=l)),d==M&&A&&A.name!==M&&(S=!0,p=function(){return A.call(this)}),(!D||O)&&P[F]!==p&&R(P,F,p),X[b]=p,d)if(c={values:_(M),keys:T?p:_(q),entries:_(f)},O)for(i in c)(e||S||!(i in P))&&H(P,i,c[i]);else a({target:b,proto:!0,forced:e||S},c);return c}},(Y,k,n)=>{"use strict";var a=n(71).IteratorPrototype,I=n(64),E=n(15),w=n(74),B=n(68),R=function(){return this};Y.exports=function(H,z,D){var X=z+" Iterator";return H.prototype=I(a,{next:E(1,D)}),w(H,X,!1,!0),B[X]=R,H}},(Y,k,n)=>{"use strict";var D,X,V,a=n(13),I=n(64),E=n(72),w=n(40),B=n(30),R=n(32),H=B("iterator"),z=!1;[].keys&&("next"in(V=[].keys())?(X=E(E(V)))!==Object.prototype&&(D=X):z=!0),null==D||a(function(){var e={};return D[H].call(e)!==e})?D={}:R&&(D=I(D)),"function"!=typeof D[H]&&w(D,H,function(){return this}),Y.exports={IteratorPrototype:D,BUGGY_SAFARI_ITERATORS:z}},(Y,k,n)=>{var a=n(35),I=n(36),E=n(47),w=n(73),B=E("IE_PROTO"),R=Object.prototype;Y.exports=w?Object.getPrototypeOf:function(H){return H=I(H),a(H,B)?H[B]:"function"==typeof H.constructor&&H instanceof H.constructor?H.constructor.prototype:H instanceof Object?R:null}},(Y,k,n)=>{var a=n(13);Y.exports=!a(function(){function I(){}return I.prototype.constructor=null,Object.getPrototypeOf(new I)!==I.prototype})},(Y,k,n)=>{var a=n(41).f,I=n(35),w=n(30)("toStringTag");Y.exports=function(B,R,H){B&&!I(B=H?B:B.prototype,w)&&a(B,w,{configurable:!0,value:R})}},(Y,k,n)=>{var a=n(42),I=n(76);Y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var B,E=!1,w={};try{(B=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(w,[]),E=w instanceof Array}catch(R){}return function(H,z){return a(H),I(z),E?B.call(H,z):H.__proto__=z,H}}():void 0)},(Y,k,n)=>{var a=n(22);Y.exports=function(I){if(!a(I)&&null!==I)throw TypeError("Can't set "+String(I)+" as a prototype");return I}},(Y,k,n)=>{var a=n(9),I=n(78),E=n(87);a({target:"Object",stat:!0},{fromEntries:function(B){var R={};return I(B,function(H,z){E(R,H,z)},{AS_ENTRIES:!0}),R}})},(Y,k,n)=>{var a=n(42),I=n(79),E=n(54),w=n(80),B=n(82),R=n(83),H=n(86),z=function(D,X){this.stopped=D,this.result=X};Y.exports=function(D,X,V){var f,l,u,b,x,m,d,e=!(!V||!V.AS_ENTRIES),F=!(!V||!V.IS_ITERATOR),q=!(!V||!V.INTERRUPTED),M=w(X,V&&V.that,1+e+q),T=function(_){return f&&H(f,"normal",_),new z(!0,_)},O=function(_){return e?(a(_),q?M(_[0],_[1],T):M(_[0],_[1])):q?M(_,T):M(_)};if(F)f=D;else{if("function"!=typeof(l=R(D)))throw TypeError("Target is not iterable");if(I(l)){for(u=0,b=E(D.length);b>u;u++)if((x=O(D[u]))&&x instanceof z)return x;return new z(!1)}f=B(D,l)}for(m=f.next;!(d=m.call(f)).done;){try{x=O(d.value)}catch(_){H(f,"throw",_)}if("object"==typeof x&&x&&x instanceof z)return x}return new z(!1)}},(Y,k,n)=>{var a=n(30),I=n(68),E=a("iterator"),w=Array.prototype;Y.exports=function(B){return void 0!==B&&(I.Array===B||w[E]===B)}},(Y,k,n)=>{var a=n(81);Y.exports=function(I,E,w){if(a(I),void 0===E)return I;switch(w){case 0:return function(){return I.call(E)};case 1:return function(B){return I.call(E,B)};case 2:return function(B,R){return I.call(E,B,R)};case 3:return function(B,R,H){return I.call(E,B,R,H)}}return function(){return I.apply(E,arguments)}}},Y=>{Y.exports=function(k){if("function"!=typeof k)throw TypeError(String(k)+" is not a function");return k}},(Y,k,n)=>{var a=n(42),I=n(83);Y.exports=function(E,w){var B=arguments.length<2?I(E):w;if("function"!=typeof B)throw TypeError(String(E)+" is not iterable");return a(B.call(E))}},(Y,k,n)=>{var a=n(84),I=n(68),w=n(30)("iterator");Y.exports=function(B){if(null!=B)return B[w]||B["@@iterator"]||I[a(B)]}},(Y,k,n)=>{var a=n(85),I=n(18),w=n(30)("toStringTag"),B="Arguments"==I(function(){return arguments}());Y.exports=a?I:function(H){var z,D,X;return void 0===H?"Undefined":null===H?"Null":"string"==typeof(D=function(H,z){try{return H[z]}catch(D){}}(z=Object(H),w))?D:B?I(z):"Object"==(X=I(z))&&"function"==typeof z.callee?"Arguments":X}},(Y,k,n)=>{var E={};E[n(30)("toStringTag")]="z",Y.exports="[object z]"===String(E)},(Y,k,n)=>{var a=n(42);Y.exports=function(I,E,w){var B,R;a(I);try{if(void 0===(B=I.return)){if("throw"===E)throw w;return w}B=B.call(I)}catch(H){R=!0,B=H}if("throw"===E)throw w;if(R)throw B;return a(B),w}},(Y,k,n)=>{"use strict";var a=n(20),I=n(41),E=n(15);Y.exports=function(w,B,R){var H=a(B);H in w?I.f(w,H,E(0,R)):w[H]=R}},(Y,k,n)=>{var a=n(10);Y.exports=a},(Y,k,n)=>{n(90),n(62),n(92),n(94),n(112),n(113),n(114),n(115);var a=n(88);Y.exports=a.Promise},(Y,k,n)=>{"use strict";var a=n(9),I=n(72),E=n(75),w=n(64),B=n(40),R=n(15),H=n(78),z=n(91),D=function(V,j){var e=this;if(!(e instanceof D))return new D(V,j);E&&(e=E(new Error(void 0),I(e))),void 0!==j&&B(e,"message",z(j));var F=[];return H(V,F.push,{that:F}),B(e,"errors",F),e};D.prototype=w(Error.prototype,{constructor:R(5,D),message:R(5,""),name:R(5,"AggregateError")}),a({global:!0},{AggregateError:D})},(Y,k,n)=>{var a=n(23);Y.exports=function(I){if(a(I))throw TypeError("Cannot convert a Symbol value to a string");return String(I)}},(Y,k,n)=>{var a=n(85),I=n(43),E=n(93);a||I(Object.prototype,"toString",E,{unsafe:!0})},(Y,k,n)=>{"use strict";var a=n(85),I=n(84);Y.exports=a?{}.toString:function(){return"[object "+I(this)+"]"}},(Y,k,n)=>{"use strict";var me,ke,Pe,Ze,a=n(9),I=n(32),E=n(10),w=n(24),B=n(95),R=n(43),H=n(96),z=n(75),D=n(74),X=n(97),V=n(22),j=n(81),e=n(98),F=n(44),q=n(78),M=n(99),f=n(100),l=n(101).set,u=n(104),b=n(107),x=n(109),m=n(108),d=n(110),T=n(45),O=n(59),_=n(30),C=n(111),S=n(103),P=n(27),A=_("species"),p="Promise",o=T.get,s=T.set,c=T.getterFor(p),i=B&&B.prototype,h=B,v=i,U=E.TypeError,ee=E.document,Q=E.process,he=m.f,ce=he,de=!!(ee&&ee.createEvent&&E.dispatchEvent),be="function"==typeof PromiseRejectionEvent,ie="unhandledrejection",se=!1,Ee=O(p,function(){var ve=F(h),Ie=ve!==String(h);if(!Ie&&66===P||I&&!v.finally)return!0;if(P>=51&&/native code/.test(ve))return!1;var oe=new h(function(Ce){Ce(1)}),Ae=function(Ce){Ce(function(){},function(){})};return(oe.constructor={})[A]=Ae,!(se=oe.then(function(){})instanceof Ae)||!Ie&&C&&!be}),Fe=Ee||!M(function(ve){h.all(ve).catch(function(){})}),le=function(ve){var Ie;return!(!V(ve)||"function"!=typeof(Ie=ve.then))&&Ie},ge=function(ve,Ie){if(!ve.notified){ve.notified=!0;var oe=ve.reactions;u(function(){for(var Ae=ve.value,pe=1==ve.state,Ce=0;oe.length>Ce;){var Ge,We,$e,Ne=oe[Ce++],Me=pe?Ne.ok:Ne.fail,qe=Ne.resolve,je=Ne.reject,Ue=Ne.domain;try{Me?(pe||(2===ve.rejection&&fe(ve),ve.rejection=1),!0===Me?Ge=Ae:(Ue&&Ue.enter(),Ge=Me(Ae),Ue&&(Ue.exit(),$e=!0)),Ge===Ne.promise?je(U("Promise-chain cycle")):(We=le(Ge))?We.call(Ge,qe,je):qe(Ge)):je(Ae)}catch(Xe){Ue&&!$e&&Ue.exit(),je(Xe)}}ve.reactions=[],ve.notified=!1,Ie&&!ve.rejection&&ue(ve)})}},re=function(ve,Ie,oe){var Ae,pe;de?((Ae=ee.createEvent("Event")).promise=Ie,Ae.reason=oe,Ae.initEvent(ve,!1,!0),E.dispatchEvent(Ae)):Ae={promise:Ie,reason:oe},!be&&(pe=E["on"+ve])?pe(Ae):ve===ie&&x("Unhandled promise rejection",oe)},ue=function(ve){l.call(E,function(){var pe,Ie=ve.facade,oe=ve.value;if(ne(ve)&&(pe=d(function(){S?Q.emit("unhandledRejection",oe,Ie):re(ie,Ie,oe)}),ve.rejection=S||ne(ve)?2:1,pe.error))throw pe.value})},ne=function(ve){return 1!==ve.rejection&&!ve.parent},fe=function(ve){l.call(E,function(){var Ie=ve.facade;S?Q.emit("rejectionHandled",Ie):re("rejectionhandled",Ie,ve.value)})},_e=function(ve,Ie,oe){return function(Ae){ve(Ie,Ae,oe)}},xe=function(ve,Ie,oe){ve.done||(ve.done=!0,oe&&(ve=oe),ve.value=Ie,ve.state=2,ge(ve,!0))},Re=function(ve,Ie,oe){if(!ve.done){ve.done=!0,oe&&(ve=oe);try{if(ve.facade===Ie)throw U("Promise can't be resolved itself");var Ae=le(Ie);Ae?u(function(){var pe={done:!1};try{Ae.call(Ie,_e(Re,pe,ve),_e(xe,pe,ve))}catch(Ce){xe(pe,Ce,ve)}}):(ve.value=Ie,ve.state=1,ge(ve,!1))}catch(pe){xe({done:!1},pe,ve)}}};if(Ee&&(h=function(Ie){e(this,h,p),j(Ie),me.call(this);var oe=o(this);try{Ie(_e(Re,oe),_e(xe,oe))}catch(Ae){xe(oe,Ae)}},(me=function(Ie){s(this,{type:p,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=H(v=h.prototype,{then:function(Ie,oe){var Ae=c(this),pe=he(f(this,h));return pe.ok="function"!=typeof Ie||Ie,pe.fail="function"==typeof oe&&oe,pe.domain=S?Q.domain:void 0,Ae.parent=!0,Ae.reactions.push(pe),0!=Ae.state&&ge(Ae,!1),pe.promise},catch:function(ve){return this.then(void 0,ve)}}),ke=function(){var ve=new me,Ie=o(ve);this.promise=ve,this.resolve=_e(Re,Ie),this.reject=_e(xe,Ie)},m.f=he=function(ve){return ve===h||ve===Pe?new ke(ve):ce(ve)},!I&&"function"==typeof B&&i!==Object.prototype)){Ze=i.then,se||(R(i,"then",function(Ie,oe){var Ae=this;return new h(function(pe,Ce){Ze.call(Ae,pe,Ce)}).then(Ie,oe)},{unsafe:!0}),R(i,"catch",v.catch,{unsafe:!0}));try{delete i.constructor}catch(ve){}z&&z(i,v)}a({global:!0,wrap:!0,forced:Ee},{Promise:h}),D(h,p,!1,!0),X(p),Pe=w(p),a({target:p,stat:!0,forced:Ee},{reject:function(Ie){var oe=he(this);return oe.reject.call(void 0,Ie),oe.promise}}),a({target:p,stat:!0,forced:I||Ee},{resolve:function(Ie){return b(I&&this===Pe?h:this,Ie)}}),a({target:p,stat:!0,forced:Fe},{all:function(Ie){var oe=this,Ae=he(oe),pe=Ae.resolve,Ce=Ae.reject,Ne=d(function(){var Me=j(oe.resolve),qe=[],je=0,Ue=1;q(Ie,function(Ge){var We=je++,$e=!1;qe.push(void 0),Ue++,Me.call(oe,Ge).then(function(Xe){$e||($e=!0,qe[We]=Xe,--Ue||pe(qe))},Ce)}),--Ue||pe(qe)});return Ne.error&&Ce(Ne.value),Ae.promise},race:function(Ie){var oe=this,Ae=he(oe),pe=Ae.reject,Ce=d(function(){var Ne=j(oe.resolve);q(Ie,function(Me){Ne.call(oe,Me).then(Ae.resolve,pe)})});return Ce.error&&pe(Ce.value),Ae.promise}})},(Y,k,n)=>{var a=n(10);Y.exports=a.Promise},(Y,k,n)=>{var a=n(43);Y.exports=function(I,E,w){for(var B in E)a(I,B,E[B],w);return I}},(Y,k,n)=>{"use strict";var a=n(24),I=n(41),E=n(30),w=n(12),B=E("species");Y.exports=function(R){var H=a(R);w&&H&&!H[B]&&(0,I.f)(H,B,{configurable:!0,get:function(){return this}})}},Y=>{Y.exports=function(k,n,a){if(!(k instanceof n))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return k}},(Y,k,n)=>{var I=n(30)("iterator"),E=!1;try{var w=0,B={next:function(){return{done:!!w++}},return:function(){E=!0}};B[I]=function(){return this},Array.from(B,function(){throw 2})}catch(R){}Y.exports=function(R,H){if(!H&&!E)return!1;var z=!1;try{var D={};D[I]=function(){return{next:function(){return{done:z=!0}}}},R(D)}catch(X){}return z}},(Y,k,n)=>{var a=n(42),I=n(81),w=n(30)("species");Y.exports=function(B,R){var z,H=a(B).constructor;return void 0===H||null==(z=a(H)[w])?R:I(z)}},(Y,k,n)=>{var M,f,l,u,a=n(10),I=n(13),E=n(80),w=n(67),B=n(39),R=n(102),H=n(103),z=a.setImmediate,D=a.clearImmediate,X=a.process,V=a.MessageChannel,j=a.Dispatch,e=0,F={},q="onreadystatechange";try{M=a.location}catch(T){}var b=function(T){if(F.hasOwnProperty(T)){var O=F[T];delete F[T],O()}},x=function(T){return function(){b(T)}},m=function(T){b(T.data)},d=function(T){a.postMessage(String(T),M.protocol+"//"+M.host)};(!z||!D)&&(z=function(O){for(var _=[],C=arguments.length,S=1;C>S;)_.push(arguments[S++]);return F[++e]=function(){("function"==typeof O?O:Function(O)).apply(void 0,_)},f(e),e},D=function(O){delete F[O]},H?f=function(T){X.nextTick(x(T))}:j&&j.now?f=function(T){j.now(x(T))}:V&&!R?(u=(l=new V).port2,l.port1.onmessage=m,f=E(u.postMessage,u,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&M&&"file:"!==M.protocol&&!I(d)?(f=d,a.addEventListener("message",m,!1)):f=q in B("script")?function(T){w.appendChild(B("script"))[q]=function(){w.removeChild(this),b(T)}}:function(T){setTimeout(x(T),0)}),Y.exports={set:z,clear:D}},(Y,k,n)=>{var a=n(28);Y.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},(Y,k,n)=>{var a=n(18),I=n(10);Y.exports="process"==a(I.process)},(Y,k,n)=>{var F,q,M,f,l,u,b,x,a=n(10),I=n(11).f,E=n(101).set,w=n(102),B=n(105),R=n(106),H=n(103),z=a.MutationObserver||a.WebKitMutationObserver,D=a.document,X=a.process,V=a.Promise,j=I(a,"queueMicrotask"),e=j&&j.value;e||(F=function(){var m,d;for(H&&(m=X.domain)&&m.exit();q;){d=q.fn,q=q.next;try{d()}catch(T){throw q?f():M=void 0,T}}M=void 0,m&&m.enter()},w||H||R||!z||!D?!B&&V&&V.resolve?((b=V.resolve(void 0)).constructor=V,x=b.then,f=function(){x.call(b,F)}):f=H?function(){X.nextTick(F)}:function(){E.call(a,F)}:(l=!0,u=D.createTextNode(""),new z(F).observe(u,{characterData:!0}),f=function(){u.data=l=!l})),Y.exports=e||function(m){var d={fn:m,next:void 0};M&&(M.next=d),q||(q=d,f()),M=d}},(Y,k,n)=>{var a=n(28),I=n(10);Y.exports=/ipad|iphone|ipod/i.test(a)&&void 0!==I.Pebble},(Y,k,n)=>{var a=n(28);Y.exports=/web0s(?!.*chrome)/i.test(a)},(Y,k,n)=>{var a=n(42),I=n(22),E=n(108);Y.exports=function(w,B){if(a(w),I(B)&&B.constructor===w)return B;var R=E.f(w);return(0,R.resolve)(B),R.promise}},(Y,k,n)=>{"use strict";var a=n(81),I=function(E){var w,B;this.promise=new E(function(R,H){if(void 0!==w||void 0!==B)throw TypeError("Bad Promise constructor");w=R,B=H}),this.resolve=a(w),this.reject=a(B)};Y.exports.f=function(E){return new I(E)}},(Y,k,n)=>{var a=n(10);Y.exports=function(I,E){var w=a.console;w&&w.error&&(1===arguments.length?w.error(I):w.error(I,E))}},Y=>{Y.exports=function(k){try{return{error:!1,value:k()}}catch(n){return{error:!0,value:n}}}},Y=>{Y.exports="object"==typeof window},(Y,k,n)=>{"use strict";var a=n(9),I=n(81),E=n(108),w=n(110),B=n(78);a({target:"Promise",stat:!0},{allSettled:function(H){var z=this,D=E.f(z),X=D.resolve,V=D.reject,j=w(function(){var e=I(z.resolve),F=[],q=0,M=1;B(H,function(f){var l=q++,u=!1;F.push(void 0),M++,e.call(z,f).then(function(b){u||(u=!0,F[l]={status:"fulfilled",value:b},--M||X(F))},function(b){u||(u=!0,F[l]={status:"rejected",reason:b},--M||X(F))})}),--M||X(F)});return j.error&&V(j.value),D.promise}})},(Y,k,n)=>{"use strict";var a=n(9),I=n(81),E=n(24),w=n(108),B=n(110),R=n(78),H="No one promise resolved";a({target:"Promise",stat:!0},{any:function(D){var X=this,V=w.f(X),j=V.resolve,e=V.reject,F=B(function(){var q=I(X.resolve),M=[],f=0,l=1,u=!1;R(D,function(b){var x=f++,m=!1;M.push(void 0),l++,q.call(X,b).then(function(d){m||u||(u=!0,j(d))},function(d){m||u||(m=!0,M[x]=d,--l||e(new(E("AggregateError"))(M,H)))})}),--l||e(new(E("AggregateError"))(M,H))});return F.error&&e(F.value),V.promise}})},(Y,k,n)=>{"use strict";var a=n(9),I=n(32),E=n(95),w=n(13),B=n(24),R=n(100),H=n(107),z=n(43);if(a({target:"Promise",proto:!0,real:!0,forced:!!E&&w(function(){E.prototype.finally.call({then:function(){}},function(){})})},{finally:function(V){var j=R(this,B("Promise")),e="function"==typeof V;return this.then(e?function(F){return H(j,V()).then(function(){return F})}:V,e?function(F){return H(j,V()).then(function(){throw F})}:V)}}),!I&&"function"==typeof E){var X=B("Promise").prototype.finally;E.prototype.finally!==X&&z(E.prototype,"finally",X,{unsafe:!0})}},(Y,k,n)=>{"use strict";var a=n(116).charAt,I=n(91),E=n(45),w=n(69),B="String Iterator",R=E.set,H=E.getterFor(B);w(String,"String",function(z){R(this,{type:B,string:I(z),index:0})},function(){var j,D=H(this),X=D.string,V=D.index;return V>=X.length?{value:void 0,done:!0}:(j=a(X,V),D.index+=j.length,{value:j,done:!1})})},(Y,k,n)=>{var a=n(55),I=n(91),E=n(19),w=function(B){return function(R,H){var V,j,z=I(E(R)),D=a(H),X=z.length;return D<0||D>=X?B?"":void 0:(V=z.charCodeAt(D))<55296||V>56319||D+1===X||(j=z.charCodeAt(D+1))<56320||j>57343?B?z.charAt(D):V:B?z.slice(D,D+2):j-56320+(V-55296<<10)+65536}};Y.exports={codeAt:w(!1),charAt:w(!0)}},function(Y,k){!function(n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(r){return"Symbol("+r+")"};function I(){}var w="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function B(r){return"object"==typeof r&&null!==r||"function"==typeof r}var R=I,H=Promise,z=Promise.prototype.then,D=Promise.resolve.bind(H),X=Promise.reject.bind(H);function V(r){return new H(r)}function j(r){return D(r)}function e(r){return X(r)}function F(r,y,K){return z.call(r,y,K)}function q(r,y,K){F(F(r,y,K),void 0,R)}function M(r,y){q(r,y)}function f(r,y){q(r,void 0,y)}function l(r,y,K){return F(r,y,K)}function u(r){F(r,void 0,R)}var b=function(){var r=w&&w.queueMicrotask;if("function"==typeof r)return r;var y=j(void 0);return function(K){return F(y,K)}}();function x(r,y,K){if("function"!=typeof r)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(r,y,K)}function m(r,y,K){try{return j(x(r,y,K))}catch(ye){return e(ye)}}var T=function(){function r(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),r.prototype.push=function(y){var K=this._back,ye=K;16383===K._elements.length&&(ye={_elements:[],_next:void 0}),K._elements.push(y),ye!==K&&(this._back=ye,K._next=ye),++this._size},r.prototype.shift=function(){var y=this._front,K=y,ye=this._cursor,Oe=ye+1,He=y._elements,Ve=He[ye];return 16384===Oe&&(K=y._next,Oe=0),--this._size,this._cursor=Oe,y!==K&&(this._front=K),He[ye]=void 0,Ve},r.prototype.forEach=function(y){for(var K=this._cursor,ye=this._front,Oe=ye._elements;!(K===Oe.length&&void 0===ye._next||K===Oe.length&&(ye=ye._next,Oe=ye._elements,K=0,0===Oe.length));)y(Oe[K]),++K},r.prototype.peek=function(){return this._front._elements[this._cursor]},r}();function O(r,y){r._ownerReadableStream=y,y._reader=r,"readable"===y._state?P(r):"closed"===y._state?function(r){P(r),c(r)}(r):A(r,y._storedError)}function _(r,y){return Gt(r._ownerReadableStream,y)}function C(r){"readable"===r._ownerReadableStream._state?o(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(r,y){A(r,y)}(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._ownerReadableStream._reader=void 0,r._ownerReadableStream=void 0}function S(r){return new TypeError("Cannot "+r+" a stream using a released reader")}function P(r){r._closedPromise=V(function(y,K){r._closedPromise_resolve=y,r._closedPromise_reject=K})}function A(r,y){P(r),o(r,y)}function o(r,y){void 0!==r._closedPromise_reject&&(u(r._closedPromise),r._closedPromise_reject(y),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}function c(r){void 0!==r._closedPromise_resolve&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}var i=a("[[AbortSteps]]"),h=a("[[ErrorSteps]]"),v=a("[[CancelSteps]]"),U=a("[[PullSteps]]"),ee=Number.isFinite||function(r){return"number"==typeof r&&isFinite(r)},Q=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};function ce(r,y){if(void 0!==r&&!function(r){return"object"==typeof r||"function"==typeof r}(r))throw new TypeError(y+" is not an object.")}function de(r,y){if("function"!=typeof r)throw new TypeError(y+" is not a function.")}function ie(r,y){if(!function(r){return"object"==typeof r&&null!==r||"function"==typeof r}(r))throw new TypeError(y+" is not an object.")}function J(r,y,K){if(void 0===r)throw new TypeError("Parameter "+y+" is required in '"+K+"'.")}function G(r,y,K){if(void 0===r)throw new TypeError(y+" is required in '"+K+"'.")}function L(r){return Number(r)}function N(r){return 0===r?0:r}function te(r,y){var ye=Number.MAX_SAFE_INTEGER,Oe=Number(r);if(Oe=N(Oe),!ee(Oe))throw new TypeError(y+" is not a finite number");if((Oe=function(r){return N(Q(r))}(Oe))<0||Oe>ye)throw new TypeError(y+" is outside the accepted range of 0 to "+ye+", inclusive");return ee(Oe)&&0!==Oe?Oe:0}function se(r,y){if(!nr(r))throw new TypeError(y+" is not a ReadableStream.")}function me(r){return new Fe(r)}function ke(r,y){r._reader._readRequests.push(y)}function Pe(r,y,K){var Oe=r._reader._readRequests.shift();K?Oe._closeSteps():Oe._chunkSteps(y)}function Ze(r){return r._reader._readRequests.length}function Ee(r){var y=r._reader;return!(void 0===y||!le(y))}var ue,ne,Fe=function(){function r(y){if(J(y,1,"ReadableStreamDefaultReader"),se(y,"First parameter"),ar(y))throw new TypeError("This stream has already been locked for exclusive reading by another reader");O(this,y),this._readRequests=new T}return Object.defineProperty(r.prototype,"closed",{get:function(){return le(this)?this._closedPromise:e(re("closed"))},enumerable:!1,configurable:!0}),r.prototype.cancel=function(y){return void 0===y&&(y=void 0),le(this)?void 0===this._ownerReadableStream?e(S("cancel")):_(this,y):e(re("cancel"))},r.prototype.read=function(){if(!le(this))return e(re("read"));if(void 0===this._ownerReadableStream)return e(S("read from"));var y,K,ye=V(function(He,Ve){y=He,K=Ve});return ge(this,{_chunkSteps:function(He){return y({value:He,done:!1})},_closeSteps:function(){return y({value:void 0,done:!0})},_errorSteps:function(He){return K(He)}}),ye},r.prototype.releaseLock=function(){if(!le(this))throw re("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}},r}();function le(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_readRequests"))&&r instanceof Fe}function ge(r,y){var K=r._ownerReadableStream;K._disturbed=!0,"closed"===K._state?y._closeSteps():"errored"===K._state?y._errorSteps(K._storedError):K._readableStreamController[U](y)}function re(r){return new TypeError("ReadableStreamDefaultReader.prototype."+r+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(Fe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Fe.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof a.asyncIterator&&((ue={})[a.asyncIterator]=function(){return this},ne=ue,Object.defineProperty(ne,a.asyncIterator,{enumerable:!1}));var fe=function(){function r(y,K){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=y,this._preventCancel=K}return r.prototype.next=function(){var y=this,K=function(){return y._nextSteps()};return this._ongoingPromise=this._ongoingPromise?l(this._ongoingPromise,K,K):K(),this._ongoingPromise},r.prototype.return=function(y){var K=this,ye=function(){return K._returnSteps(y)};return this._ongoingPromise?l(this._ongoingPromise,ye,ye):ye()},r.prototype._nextSteps=function(){var y=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var K=this._reader;if(void 0===K._ownerReadableStream)return e(S("iterate"));var ye,Oe,He=V(function(Ye,Ke){ye=Ye,Oe=Ke});return ge(K,{_chunkSteps:function(Ye){y._ongoingPromise=void 0,b(function(){return ye({value:Ye,done:!1})})},_closeSteps:function(){y._ongoingPromise=void 0,y._isFinished=!0,C(K),ye({value:void 0,done:!0})},_errorSteps:function(Ye){y._ongoingPromise=void 0,y._isFinished=!0,C(K),Oe(Ye)}}),He},r.prototype._returnSteps=function(y){if(this._isFinished)return Promise.resolve({value:y,done:!0});this._isFinished=!0;var K=this._reader;if(void 0===K._ownerReadableStream)return e(S("finish iterating"));if(!this._preventCancel){var ye=_(K,y);return C(K),l(ye,function(){return{value:y,done:!0}})}return C(K),j({value:y,done:!0})},r}(),_e={next:function(){return Re(this)?this._asyncIteratorImpl.next():e(ve("next"))},return:function(r){return Re(this)?this._asyncIteratorImpl.return(r):e(ve("return"))}};function Re(r){if(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_asyncIteratorImpl"))return!1;try{return r._asyncIteratorImpl instanceof fe}catch(y){return!1}}function ve(r){return new TypeError("ReadableStreamAsyncIterator."+r+" can only be used on a ReadableSteamAsyncIterator")}void 0!==ne&&Object.setPrototypeOf(_e,ne);var Ie=Number.isNaN||function(r){return r!=r};function oe(r){return r.slice()}function Ae(r,y,K,ye,Oe){new Uint8Array(r).set(new Uint8Array(K,ye,Oe),y)}function Ne(r,y,K){if(r.slice)return r.slice(y,K);var ye=K-y,Oe=new ArrayBuffer(ye);return Ae(Oe,0,r,y,ye),Oe}function qe(r){var y=Ne(r.buffer,r.byteOffset,r.byteOffset+r.byteLength);return new Uint8Array(y)}function je(r){var y=r._queue.shift();return r._queueTotalSize-=y.size,r._queueTotalSize<0&&(r._queueTotalSize=0),y.value}function Ue(r,y,K){if(!function(r){return!("number"!=typeof r||Ie(r)||r<0)}(K)||K===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");r._queue.push({value:y,size:K}),r._queueTotalSize+=K}function We(r){r._queue=new T,r._queueTotalSize=0}var $e=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"view",{get:function(){if(!ct(this))throw Jr("view");return this._view},enumerable:!1,configurable:!0}),r.prototype.respond=function(y){if(!ct(this))throw Jr("respond");if(J(y,1,"respond"),y=te(y,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Zt(this._associatedReadableByteStreamController,y)},r.prototype.respondWithNewView=function(y){if(!ct(this))throw Jr("respondWithNewView");if(J(y,1,"respondWithNewView"),!ArrayBuffer.isView(y))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");jt(this._associatedReadableByteStreamController,y)},r}();Object.defineProperties($e.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty($e.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Xe=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"byobRequest",{get:function(){if(!st(this))throw vt("byobRequest");return ht(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!st(this))throw vt("desiredSize");return gt(this)},enumerable:!1,configurable:!0}),r.prototype.close=function(){if(!st(this))throw vt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var y=this._controlledReadableByteStream._state;if("readable"!==y)throw new TypeError("The stream (in "+y+" state) is not in the readable state and cannot be closed");Qe(this)},r.prototype.enqueue=function(y){if(!st(this))throw vt("enqueue");if(J(y,1,"enqueue"),!ArrayBuffer.isView(y))throw new TypeError("chunk must be an array buffer view");if(0===y.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===y.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var K=this._controlledReadableByteStream._state;if("readable"!==K)throw new TypeError("The stream (in "+K+" state) is not in the readable state and cannot be enqueued to");tt(this,y)},r.prototype.error=function(y){if(void 0===y&&(y=void 0),!st(this))throw vt("error");et(this,y)},r.prototype[v]=function(y){It(this),We(this);var K=this._cancelAlgorithm(y);return ze(this),K},r.prototype[U]=function(y){var K=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ye=this._queue.shift();this._queueTotalSize-=ye.byteLength,Ot(this);var Oe=new Uint8Array(ye.buffer,ye.byteOffset,ye.byteLength);y._chunkSteps(Oe)}else{var He=this._autoAllocateChunkSize;if(void 0!==He){var Ve=void 0;try{Ve=new ArrayBuffer(He)}catch(Ke){return void y._errorSteps(Ke)}var Ye={buffer:Ve,bufferByteLength:He,byteOffset:0,byteLength:He,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ye)}ke(K,y),ft(this)}},r}();function st(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableByteStream"))&&r instanceof Xe}function ct(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_associatedReadableByteStreamController"))&&r instanceof $e}function ft(r){if(function(r){var y=r._controlledReadableByteStream;return!("readable"!==y._state||r._closeRequested||!r._started)&&(!!(Ee(y)&&Ze(y)>0||Qr(y)&&pn(y)>0)||gt(r)>0)}(r)){if(r._pulling)return void(r._pullAgain=!0);r._pulling=!0,q(r._pullAlgorithm(),function(){r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,ft(r))},function(ye){et(r,ye)})}}function It(r){kt(r),r._pendingPullIntos=new T}function Pt(r,y){var K=!1;"closed"===r._state&&(K=!0);var ye=Ft(y);"default"===y.readerType?Pe(r,ye,K):function(r,y,K){var Oe=r._reader._readIntoRequests.shift();K?Oe._closeSteps(y):Oe._chunkSteps(y)}(r,ye,K)}function Ft(r){return new r.viewConstructor(r.buffer,r.byteOffset,r.bytesFilled/r.elementSize)}function Et(r,y,K,ye){r._queue.push({buffer:y,byteOffset:K,byteLength:ye}),r._queueTotalSize+=ye}function Ut(r,y){var K=y.elementSize,ye=y.bytesFilled-y.bytesFilled%K,Oe=Math.min(r._queueTotalSize,y.byteLength-y.bytesFilled),He=y.bytesFilled+Oe,Ve=He-He%K,Ye=Oe,Ke=!1;Ve>ye&&(Ye=Ve-y.bytesFilled,Ke=!0);for(var ut=r._queue;Ye>0;){var At=ut.peek(),Tt=Math.min(Ye,At.byteLength);Ae(y.buffer,y.byteOffset+y.bytesFilled,At.buffer,At.byteOffset,Tt),At.byteLength===Tt?ut.shift():(At.byteOffset+=Tt,At.byteLength-=Tt),r._queueTotalSize-=Tt,Nt(0,Tt,y),Ye-=Tt}return Ke}function Nt(r,y,K){K.bytesFilled+=y}function Ot(r){0===r._queueTotalSize&&r._closeRequested?(ze(r),Er(r._controlledReadableByteStream)):ft(r)}function kt(r){null!==r._byobRequest&&(r._byobRequest._associatedReadableByteStreamController=void 0,r._byobRequest._view=null,r._byobRequest=null)}function Bt(r){for(;r._pendingPullIntos.length>0;){if(0===r._queueTotalSize)return;var y=r._pendingPullIntos.peek();Ut(r,y)&&(Te(r),Pt(r._controlledReadableByteStream,y))}}function De(r,y){var K=r._pendingPullIntos.peek();kt(r),"closed"===r._controlledReadableByteStream._state?function(r,y){var K=r._controlledReadableByteStream;if(Qr(K))for(;pn(K)>0;)Pt(K,Te(r))}(r):function(r,y,K){if(Nt(0,y,K),!(K.bytesFilled<K.elementSize)){Te(r);var ye=K.bytesFilled%K.elementSize;if(ye>0){var Oe=K.byteOffset+K.bytesFilled,He=Ne(K.buffer,Oe-ye,Oe);Et(r,He,0,He.byteLength)}K.bytesFilled-=ye,Pt(r._controlledReadableByteStream,K),Bt(r)}}(r,y,K),ft(r)}function Te(r){return r._pendingPullIntos.shift()}function ze(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0}function Qe(r){var y=r._controlledReadableByteStream;if(!r._closeRequested&&"readable"===y._state){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){var ye=new TypeError("Insufficient bytes to fill elements in the given buffer");throw et(r,ye),ye}ze(r),Er(y)}}function tt(r,y){var K=r._controlledReadableByteStream;if(!r._closeRequested&&"readable"===K._state){var Oe=y.byteOffset,He=y.byteLength,Ve=y.buffer;if(r._pendingPullIntos.length>0){var Ye=r._pendingPullIntos.peek();Ye.buffer=Ye.buffer}kt(r),Ee(K)?0===Ze(K)?Et(r,Ve,Oe,He):Pe(K,new Uint8Array(Ve,Oe,He),!1):Qr(K)?(Et(r,Ve,Oe,He),Bt(r)):Et(r,Ve,Oe,He),ft(r)}}function et(r,y){var K=r._controlledReadableByteStream;"readable"===K._state&&(It(r),We(r),ze(r),Ma(K,y))}function ht(r){if(null===r._byobRequest&&r._pendingPullIntos.length>0){var y=r._pendingPullIntos.peek(),K=new Uint8Array(y.buffer,y.byteOffset+y.bytesFilled,y.byteLength-y.bytesFilled),ye=Object.create($e.prototype);(function(r,y,K){r._associatedReadableByteStreamController=y,r._view=K})(ye,r,K),r._byobRequest=ye}return r._byobRequest}function gt(r){var y=r._controlledReadableByteStream._state;return"errored"===y?null:"closed"===y?0:r._strategyHWM-r._queueTotalSize}function Zt(r,y){var K=r._pendingPullIntos.peek();if("closed"===r._controlledReadableByteStream._state){if(0!==y)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===y)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(K.bytesFilled+y>K.byteLength)throw new RangeError("bytesWritten out of range")}K.buffer=K.buffer,De(r,y)}function jt(r,y){var K=r._pendingPullIntos.peek();if("closed"===r._controlledReadableByteStream._state){if(0!==y.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===y.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(K.byteOffset+K.bytesFilled!==y.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(K.bufferByteLength!==y.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(K.bytesFilled+y.byteLength>K.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");K.buffer=y.buffer,De(r,y.byteLength)}function Or(r,y,K,ye,Oe,He,Ve){y._controlledReadableByteStream=r,y._pullAgain=!1,y._pulling=!1,y._byobRequest=null,y._queue=y._queueTotalSize=void 0,We(y),y._closeRequested=!1,y._started=!1,y._strategyHWM=He,y._pullAlgorithm=ye,y._cancelAlgorithm=Oe,y._autoAllocateChunkSize=Ve,y._pendingPullIntos=new T,r._readableStreamController=y,q(j(K()),function(){y._started=!0,ft(y)},function(Ke){et(y,Ke)})}function Jr(r){return new TypeError("ReadableStreamBYOBRequest.prototype."+r+" can only be used on a ReadableStreamBYOBRequest")}function vt(r){return new TypeError("ReadableByteStreamController.prototype."+r+" can only be used on a ReadableByteStreamController")}function hn(r){return new Mt(r)}function Yr(r,y){r._reader._readIntoRequests.push(y)}function pn(r){return r._reader._readIntoRequests.length}function Qr(r){var y=r._reader;return!(void 0===y||!Vt(y))}Object.defineProperties(Xe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Xe.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Mt=function(){function r(y){if(J(y,1,"ReadableStreamBYOBReader"),se(y,"First parameter"),ar(y))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!st(y._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");O(this,y),this._readIntoRequests=new T}return Object.defineProperty(r.prototype,"closed",{get:function(){return Vt(this)?this._closedPromise:e(mr("closed"))},enumerable:!1,configurable:!0}),r.prototype.cancel=function(y){return void 0===y&&(y=void 0),Vt(this)?void 0===this._ownerReadableStream?e(S("cancel")):_(this,y):e(mr("cancel"))},r.prototype.read=function(y){if(!Vt(this))return e(mr("read"));if(!ArrayBuffer.isView(y))return e(new TypeError("view must be an array buffer view"));if(0===y.byteLength)return e(new TypeError("view must have non-zero byteLength"));if(0===y.buffer.byteLength)return e(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return e(S("read from"));var K,ye,Oe=V(function(Ve,Ye){K=Ve,ye=Ye});return er(this,y,{_chunkSteps:function(Ve){return K({value:Ve,done:!1})},_closeSteps:function(Ve){return K({value:Ve,done:!0})},_errorSteps:function(Ve){return ye(Ve)}}),Oe},r.prototype.releaseLock=function(){if(!Vt(this))throw mr("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");C(this)}},r}();function Vt(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_readIntoRequests"))&&r instanceof Mt}function er(r,y,K){var ye=r._ownerReadableStream;ye._disturbed=!0,"errored"===ye._state?K._errorSteps(ye._storedError):function(r,y,K){var ye=r._controlledReadableByteStream,Oe=1;y.constructor!==DataView&&(Oe=y.constructor.BYTES_PER_ELEMENT);var He=y.constructor,Ve=y.buffer,Ye={buffer:Ve,bufferByteLength:Ve.byteLength,byteOffset:y.byteOffset,byteLength:y.byteLength,bytesFilled:0,elementSize:Oe,viewConstructor:He,readerType:"byob"};if(r._pendingPullIntos.length>0)return r._pendingPullIntos.push(Ye),void Yr(ye,K);if("closed"!==ye._state){if(r._queueTotalSize>0){if(Ut(r,Ye)){var ut=Ft(Ye);return Ot(r),void K._chunkSteps(ut)}if(r._closeRequested){var At=new TypeError("Insufficient bytes to fill elements in the given buffer");return et(r,At),void K._errorSteps(At)}}r._pendingPullIntos.push(Ye),Yr(ye,K),ft(r)}else{var Ke=new He(Ye.buffer,Ye.byteOffset,0);K._closeSteps(Ke)}}(ye._readableStreamController,y,K)}function mr(r){return new TypeError("ReadableStreamBYOBReader.prototype."+r+" can only be used on a ReadableStreamBYOBReader")}function _r(r,y){var K=r.highWaterMark;if(void 0===K)return y;if(Ie(K)||K<0)throw new RangeError("Invalid highWaterMark");return K}function br(r){return r.size||function(){return 1}}function Zr(r,y){ce(r,y);var K=null==r?void 0:r.highWaterMark,ye=null==r?void 0:r.size;return{highWaterMark:void 0===K?void 0:L(K),size:void 0===ye?void 0:Mr(ye,y+" has member 'size' that")}}function Mr(r,y){return de(r,y),function(K){return L(r(K))}}function or(r,y,K){return de(r,K),function(ye){return m(r,y,[ye])}}function Dn(r,y,K){return de(r,K),function(){return m(r,y,[])}}function qn(r,y,K){return de(r,K),function(ye){return x(r,y,[ye])}}function Un(r,y,K){return de(r,K),function(ye,Oe){return m(r,y,[ye,Oe])}}function gn(r,y){if(!cr(r))throw new TypeError(y+" is not a WritableStream.")}Object.defineProperties(Mt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Mt.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Hn="function"==typeof AbortController;var Ar=function(){function r(y,K){void 0===y&&(y={}),void 0===K&&(K={}),void 0===y?y=null:ie(y,"First parameter");var ye=Zr(K,"Second parameter"),Oe=function(r,y){ce(r,y);var K=null==r?void 0:r.abort,ye=null==r?void 0:r.close,Oe=null==r?void 0:r.start,He=null==r?void 0:r.type,Ve=null==r?void 0:r.write;return{abort:void 0===K?void 0:or(K,r,y+" has member 'abort' that"),close:void 0===ye?void 0:Dn(ye,r,y+" has member 'close' that"),start:void 0===Oe?void 0:qn(Oe,r,y+" has member 'start' that"),write:void 0===Ve?void 0:Un(Ve,r,y+" has member 'write' that"),type:He}}(y,"First parameter");if(Lr(this),void 0!==Oe.type)throw new RangeError("Invalid type is specified");var Ve=br(ye);!function(r,y,K,ye){var Oe=Object.create(dr.prototype),He=function(){},Ve=function(){return j(void 0)},Ye=function(){return j(void 0)},Ke=function(){return j(void 0)};void 0!==y.start&&(He=function(){return y.start(Oe)}),void 0!==y.write&&(Ve=function(ut){return y.write(ut,Oe)}),void 0!==y.close&&(Ye=function(){return y.close()}),void 0!==y.abort&&(Ke=function(ut){return y.abort(ut)}),An(r,Oe,He,Ve,Ye,Ke,K,ye)}(this,Oe,_r(ye,1),Ve)}return Object.defineProperty(r.prototype,"locked",{get:function(){if(!cr(this))throw qr("locked");return Sr(this)},enumerable:!1,configurable:!0}),r.prototype.abort=function(y){return void 0===y&&(y=void 0),cr(this)?Sr(this)?e(new TypeError("Cannot abort a stream that already has a writer")):Ir(this,y):e(qr("abort"))},r.prototype.close=function(){return cr(this)?Sr(this)?e(new TypeError("Cannot close a stream that already has a writer")):Wt(this)?e(new TypeError("Cannot close an already-closing stream")):Vn(this):e(qr("close"))},r.prototype.getWriter=function(){if(!cr(this))throw qr("getWriter");return vn(this)},r}();function vn(r){return new Tr(r)}function Lr(r){r._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new T,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1}function cr(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_writableStreamController"))&&r instanceof Ar}function Sr(r){return void 0!==r._writer}function Ir(r,y){var K;if("closed"===r._state||"errored"===r._state)return j(void 0);r._writableStreamController._abortReason=y,null===(K=r._writableStreamController._abortController)||void 0===K||K.abort();var ye=r._state;if("closed"===ye||"errored"===ye)return j(void 0);if(void 0!==r._pendingAbortRequest)return r._pendingAbortRequest._promise;var Oe=!1;"erroring"===ye&&(Oe=!0,y=void 0);var He=V(function(Ve,Ye){r._pendingAbortRequest={_promise:void 0,_resolve:Ve,_reject:Ye,_reason:y,_wasAlreadyErroring:Oe}});return r._pendingAbortRequest._promise=He,Oe||Xr(r,y),He}function Vn(r){var y=r._state;if("closed"===y||"errored"===y)return e(new TypeError("The stream (in "+y+" state) is not in the writable state and cannot be closed"));var K=V(function(Oe,He){r._closeRequest={_resolve:Oe,_reject:He}}),ye=r._writer;return void 0!==ye&&r._backpressure&&"writable"===y&&sn(ye),function(r){Ue(r,wr,0),Dr(r)}(r._writableStreamController),K}function $r(r,y){"writable"!==r._state?Ht(r):Xr(r,y)}function Xr(r,y){var K=r._writableStreamController;r._state="erroring",r._storedError=y;var ye=r._writer;void 0!==ye&&_n(ye,y),!function(r){return!(void 0===r._inFlightWriteRequest&&void 0===r._inFlightCloseRequest)}(r)&&K._started&&Ht(r)}function Ht(r){r._state="errored",r._writableStreamController[h]();var y=r._storedError;if(r._writeRequests.forEach(function(Oe){Oe._reject(y)}),r._writeRequests=new T,void 0!==r._pendingAbortRequest){var K=r._pendingAbortRequest;if(r._pendingAbortRequest=void 0,K._wasAlreadyErroring)return K._reject(y),void Fr(r);q(r._writableStreamController[i](K._reason),function(){K._resolve(),Fr(r)},function(Oe){K._reject(Oe),Fr(r)})}else Fr(r)}function Wt(r){return!(void 0===r._closeRequest&&void 0===r._inFlightCloseRequest)}function Fr(r){void 0!==r._closeRequest&&(r._closeRequest._reject(r._storedError),r._closeRequest=void 0);var y=r._writer;void 0!==y&&an(y,r._storedError)}function Kr(r,y){var K=r._writer;void 0!==K&&y!==r._backpressure&&(y?function(r){Br(r)}(K):sn(K)),r._backpressure=y}Object.defineProperties(Ar.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Ar.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});var Tr=function(){function r(y){if(J(y,1,"WritableStreamDefaultWriter"),gn(y,"First parameter"),Sr(y))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=y,y._writer=this;var K=y._state;if("writable"===K)!Wt(y)&&y._backpressure?Br(this):wn(this),Ur(this);else if("erroring"===K)on(this,y._storedError),Ur(this);else if("closed"===K)wn(this),function(r){Ur(r),Tn(r)}(this);else{var ye=y._storedError;on(this,ye),kr(this,ye)}}return Object.defineProperty(r.prototype,"closed",{get:function(){return sr(this)?this._closedPromise:e(lr("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!sr(this))throw lr("desiredSize");if(void 0===this._ownerWritableStream)throw Cr("desiredSize");return function(r){var y=r._ownerWritableStream,K=y._state;return"errored"===K||"erroring"===K?null:"closed"===K?0:sa(y._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ready",{get:function(){return sr(this)?this._readyPromise:e(lr("ready"))},enumerable:!1,configurable:!0}),r.prototype.abort=function(y){return void 0===y&&(y=void 0),sr(this)?void 0===this._ownerWritableStream?e(Cr("abort")):function(r,y){return Ir(r._ownerWritableStream,y)}(this,y):e(lr("abort"))},r.prototype.close=function(){if(!sr(this))return e(lr("close"));var y=this._ownerWritableStream;return void 0===y?e(Cr("close")):Wt(y)?e(new TypeError("Cannot close an already-closing stream")):mn(this)},r.prototype.releaseLock=function(){if(!sr(this))throw lr("releaseLock");void 0!==this._ownerWritableStream&&bn(this)},r.prototype.write=function(y){return void 0===y&&(y=void 0),sr(this)?void 0===this._ownerWritableStream?e(Cr("write to")):yn(this,y):e(lr("write"))},r}();function sr(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_ownerWritableStream"))&&r instanceof Tr}function mn(r){return Vn(r._ownerWritableStream)}function ra(r,y){"pending"===r._closedPromiseState?an(r,y):function(r,y){kr(r,y)}(r,y)}function _n(r,y){"pending"===r._readyPromiseState?Cn(r,y):function(r,y){on(r,y)}(r,y)}function bn(r){var y=r._ownerWritableStream,K=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");_n(r,K),ra(r,K),y._writer=void 0,r._ownerWritableStream=void 0}function yn(r,y){var K=r._ownerWritableStream,ye=K._writableStreamController,Oe=function(r,y){try{return r._strategySizeAlgorithm(y)}catch(K){return tn(r,K),1}}(ye,y);if(K!==r._ownerWritableStream)return e(Cr("write to"));var He=K._state;if("errored"===He)return e(K._storedError);if(Wt(K)||"closed"===He)return e(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===He)return e(K._storedError);var Ve=function(r){return V(function(K,ye){r._writeRequests.push({_resolve:K,_reject:ye})})}(K);return function(r,y,K){try{Ue(r,y,K)}catch(He){return void tn(r,He)}var ye=r._controlledWritableStream;Wt(ye)||"writable"!==ye._state||Kr(ye,rn(r)),Dr(r)}(ye,y,Oe),Ve}Object.defineProperties(Tr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Tr.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var wr={},dr=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"abortReason",{get:function(){if(!en(this))throw nn("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"signal",{get:function(){if(!en(this))throw nn("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),r.prototype.error=function(y){if(void 0===y&&(y=void 0),!en(this))throw nn("error");"writable"===this._controlledWritableStream._state&&Sn(this,y)},r.prototype[i]=function(y){var K=this._abortAlgorithm(y);return Nr(this),K},r.prototype[h]=function(){We(this)},r}();function en(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream"))&&r instanceof dr}function An(r,y,K,ye,Oe,He,Ve,Ye){y._controlledWritableStream=r,r._writableStreamController=y,y._queue=void 0,y._queueTotalSize=void 0,We(y),y._abortReason=void 0,y._abortController=function(){if(Hn)return new AbortController}(),y._started=!1,y._strategySizeAlgorithm=Ye,y._strategyHWM=Ve,y._writeAlgorithm=ye,y._closeAlgorithm=Oe,y._abortAlgorithm=He;var Ke=rn(y);Kr(r,Ke),q(j(K()),function(){y._started=!0,Dr(y)},function(Tt){y._started=!0,$r(r,Tt)})}function Nr(r){r._writeAlgorithm=void 0,r._closeAlgorithm=void 0,r._abortAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function sa(r){return r._strategyHWM-r._queueTotalSize}function Dr(r){var y=r._controlledWritableStream;if(r._started&&void 0===y._inFlightWriteRequest){if("erroring"===y._state)return void Ht(y);if(0!==r._queue.length){var ye=function(r){return r._queue.peek().value}(r);ye===wr?function(r){var y=r._controlledWritableStream;(function(r){r._inFlightCloseRequest=r._closeRequest,r._closeRequest=void 0})(y),je(r);var K=r._closeAlgorithm();Nr(r),q(K,function(){!function(r){r._inFlightCloseRequest._resolve(void 0),r._inFlightCloseRequest=void 0,"erroring"===r._state&&(r._storedError=void 0,void 0!==r._pendingAbortRequest&&(r._pendingAbortRequest._resolve(),r._pendingAbortRequest=void 0)),r._state="closed";var K=r._writer;void 0!==K&&Tn(K)}(y)},function(ye){!function(r,y){r._inFlightCloseRequest._reject(y),r._inFlightCloseRequest=void 0,void 0!==r._pendingAbortRequest&&(r._pendingAbortRequest._reject(y),r._pendingAbortRequest=void 0),$r(r,y)}(y,ye)})}(r):function(r,y){var K=r._controlledWritableStream;(function(r){r._inFlightWriteRequest=r._writeRequests.shift()})(K),q(r._writeAlgorithm(y),function(){!function(r){r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0}(K);var Oe=K._state;if(je(r),!Wt(K)&&"writable"===Oe){var He=rn(r);Kr(K,He)}Dr(r)},function(Oe){"writable"===K._state&&Nr(r),function(r,y){r._inFlightWriteRequest._reject(y),r._inFlightWriteRequest=void 0,$r(r,y)}(K,Oe)})}(r,ye)}}}function tn(r,y){"writable"===r._controlledWritableStream._state&&Sn(r,y)}function rn(r){return sa(r)<=0}function Sn(r,y){var K=r._controlledWritableStream;Nr(r),Xr(K,y)}function qr(r){return new TypeError("WritableStream.prototype."+r+" can only be used on a WritableStream")}function nn(r){return new TypeError("WritableStreamDefaultController.prototype."+r+" can only be used on a WritableStreamDefaultController")}function lr(r){return new TypeError("WritableStreamDefaultWriter.prototype."+r+" can only be used on a WritableStreamDefaultWriter")}function Cr(r){return new TypeError("Cannot "+r+" a stream using a released writer")}function Ur(r){r._closedPromise=V(function(y,K){r._closedPromise_resolve=y,r._closedPromise_reject=K,r._closedPromiseState="pending"})}function kr(r,y){Ur(r),an(r,y)}function an(r,y){void 0!==r._closedPromise_reject&&(u(r._closedPromise),r._closedPromise_reject(y),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="rejected")}function Tn(r){void 0!==r._closedPromise_resolve&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved")}function Br(r){r._readyPromise=V(function(y,K){r._readyPromise_resolve=y,r._readyPromise_reject=K}),r._readyPromiseState="pending"}function on(r,y){Br(r),Cn(r,y)}function wn(r){Br(r),sn(r)}function Cn(r,y){void 0!==r._readyPromise_reject&&(u(r._readyPromise),r._readyPromise_reject(y),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected")}function sn(r){void 0!==r._readyPromise_resolve&&(r._readyPromise_resolve(void 0),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="fulfilled")}Object.defineProperties(dr.prototype,{error:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(dr.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var kn="undefined"!=typeof DOMException?DOMException:void 0;var r,ma=function(r){if("function"!=typeof r&&"object"!=typeof r)return!1;try{return new r,!0}catch(y){return!1}}(kn)?kn:((r=function(K,ye){this.message=K||"",this.name=ye||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0}),r);function xn(r,y,K,ye,Oe,He){var Ve=me(r),Ye=vn(y);r._disturbed=!0;var Ke=!1,ut=j(void 0);return V(function(At,Tt){var Rt,wt,xt;if(void 0!==He){if(Rt=function(){var at=new ma("Aborted","AbortError"),wt=[];ye||wt.push(function(){return"writable"===y._state?Ir(y,at):j(void 0)}),Oe||wt.push(function(){return"readable"===r._state?Gt(r,at):j(void 0)}),St(function(){return Promise.all(wt.map(function(xt){return xt()}))},!0,at)},He.aborted)return void Rt();He.addEventListener("abort",Rt)}if($t(r,Ve._closedPromise,function(at){ye?Ct(!0,at):St(function(){return Ir(y,at)},!0,at)}),$t(y,Ye._closedPromise,function(at){Oe?Ct(!0,at):St(function(){return Gt(r,at)},!0,at)}),wt=Ve._closedPromise,xt=function(){K?Ct():St(function(){return function(r){var y=r._ownerWritableStream,K=y._state;return Wt(y)||"closed"===K?j(void 0):"errored"===K?e(y._storedError):mn(r)}(Ye)})},"closed"===r._state?xt():M(wt,xt),Wt(y)||"closed"===y._state){var vr=new TypeError("the destination writable stream closed before all data could be piped to it");Oe?Ct(!0,vr):St(function(){return Gt(r,vr)},!0,vr)}function Dt(){var at=ut;return F(ut,function(){return at!==ut?Dt():void 0})}function $t(at,wt,xt){"errored"===at._state?xt(at._storedError):f(wt,xt)}function St(at,wt,xt){function Xt(){q(at(),function(){return qt(wt,xt)},function(Rr){return qt(!0,Rr)})}Ke||(Ke=!0,"writable"!==y._state||Wt(y)?Xt():M(Dt(),Xt))}function Ct(at,wt){Ke||(Ke=!0,"writable"!==y._state||Wt(y)?qt(at,wt):M(Dt(),function(){return qt(at,wt)}))}function qt(at,wt){bn(Ye),C(Ve),void 0!==He&&He.removeEventListener("abort",Rt),at?Tt(wt):At(void 0)}u(V(function(at,wt){!function xt(Xt){Xt?at():F(Ke?j(!0):F(Ye._readyPromise,function(){return V(function(at,wt){ge(Ve,{_chunkSteps:function(xt){ut=F(yn(Ye,xt),void 0,I),at(!1)},_closeSteps:function(){return at(!0)},_errorSteps:wt})})}),xt,wt)}(!1)}))})}var fr=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!Hr(this))throw Vr("desiredSize");return ln(this)},enumerable:!1,configurable:!0}),r.prototype.close=function(){if(!Hr(this))throw Vr("close");if(!hr(this))throw new TypeError("The stream is not in a state that permits close");Pr(this)},r.prototype.enqueue=function(y){if(void 0===y&&(y=void 0),!Hr(this))throw Vr("enqueue");if(!hr(this))throw new TypeError("The stream is not in a state that permits enqueue");return jr(this,y)},r.prototype.error=function(y){if(void 0===y&&(y=void 0),!Hr(this))throw Vr("error");tr(this,y)},r.prototype[v]=function(y){We(this);var K=this._cancelAlgorithm(y);return Gr(this),K},r.prototype[U]=function(y){var K=this._controlledReadableStream;if(this._queue.length>0){var ye=je(this);this._closeRequested&&0===this._queue.length?(Gr(this),Er(K)):xr(this),y._chunkSteps(ye)}else ke(K,y),xr(this)},r}();function Hr(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableStream"))&&r instanceof fr}function xr(r){if(Pn(r)){if(r._pulling)return void(r._pullAgain=!0);r._pulling=!0,q(r._pullAlgorithm(),function(){r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,xr(r))},function(ye){tr(r,ye)})}}function Pn(r){var y=r._controlledReadableStream;return!(!hr(r)||!r._started)&&(!!(ar(y)&&Ze(y)>0)||ln(r)>0)}function Gr(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function Pr(r){if(hr(r)){var y=r._controlledReadableStream;r._closeRequested=!0,0===r._queue.length&&(Gr(r),Er(y))}}function jr(r,y){if(hr(r)){var K=r._controlledReadableStream;if(ar(K)&&Ze(K)>0)Pe(K,y,!1);else{var ye=void 0;try{ye=r._strategySizeAlgorithm(y)}catch(Oe){throw tr(r,Oe),Oe}try{Ue(r,y,ye)}catch(Oe){throw tr(r,Oe),Oe}}xr(r)}}function tr(r,y){var K=r._controlledReadableStream;"readable"===K._state&&(We(r),Gr(r),Ma(K,y))}function ln(r){var y=r._controlledReadableStream._state;return"errored"===y?null:"closed"===y?0:r._strategyHWM-r._queueTotalSize}function hr(r){return!r._closeRequested&&"readable"===r._controlledReadableStream._state}function En(r,y,K,ye,Oe,He,Ve){y._controlledReadableStream=r,y._queue=void 0,y._queueTotalSize=void 0,We(y),y._started=!1,y._closeRequested=!1,y._pullAgain=!1,y._pulling=!1,y._strategySizeAlgorithm=Ve,y._strategyHWM=He,y._pullAlgorithm=ye,y._cancelAlgorithm=Oe,r._readableStreamController=y,q(j(K()),function(){y._started=!0,xr(y)},function(Ke){tr(y,Ke)})}function Vr(r){return new TypeError("ReadableStreamDefaultController.prototype."+r+" can only be used on a ReadableStreamDefaultController")}function ya(r,y){return st(r._readableStreamController)?function(r){var He,Ve,Ye,Ke,ut,y=me(r),K=!1,ye=!1,Oe=!1,At=V(function(St){ut=St});function Tt(St){f(St._closedPromise,function(Ct){St===y&&(et(Ye._readableStreamController,Ct),et(Ke._readableStreamController,Ct),(!ye||!Oe)&&ut(void 0))})}function Rt(){Vt(y)&&(C(y),Tt(y=me(r))),ge(y,{_chunkSteps:function(Ct){b(function(){K=!1;var qt=Ct,at=Ct;if(!ye&&!Oe)try{at=qe(Ct)}catch(wt){return et(Ye._readableStreamController,wt),et(Ke._readableStreamController,wt),void ut(Gt(r,wt))}ye||tt(Ye._readableStreamController,qt),Oe||tt(Ke._readableStreamController,at)})},_closeSteps:function(){K=!1,ye||Qe(Ye._readableStreamController),Oe||Qe(Ke._readableStreamController),Ye._readableStreamController._pendingPullIntos.length>0&&Zt(Ye._readableStreamController,0),Ke._readableStreamController._pendingPullIntos.length>0&&Zt(Ke._readableStreamController,0),(!ye||!Oe)&&ut(void 0)},_errorSteps:function(){K=!1}})}function gr(St,Ct){le(y)&&(C(y),Tt(y=hn(r)));var qt=Ct?Ke:Ye,at=Ct?Ye:Ke;er(y,St,{_chunkSteps:function(xt){b(function(){K=!1;var Xt=Ct?Oe:ye;if(Ct?ye:Oe)Xt||jt(qt._readableStreamController,xt);else{var Fa=void 0;try{Fa=qe(xt)}catch(La){return et(qt._readableStreamController,La),et(at._readableStreamController,La),void ut(Gt(r,La))}Xt||jt(qt._readableStreamController,xt),tt(at._readableStreamController,Fa)}})},_closeSteps:function(xt){K=!1;var Xt=Ct?Oe:ye,Rr=Ct?ye:Oe;Xt||Qe(qt._readableStreamController),Rr||Qe(at._readableStreamController),void 0!==xt&&(Xt||jt(qt._readableStreamController,xt),!Rr&&at._readableStreamController._pendingPullIntos.length>0&&Zt(at._readableStreamController,0)),(!Xt||!Rr)&&ut(void 0)},_errorSteps:function(){K=!1}})}function fn(){if(K)return j(void 0);K=!0;var St=ht(Ye._readableStreamController);return null===St?Rt():gr(St._view,!1),j(void 0)}function vr(){if(K)return j(void 0);K=!0;var St=ht(Ke._readableStreamController);return null===St?Rt():gr(St._view,!0),j(void 0)}function Dt(St){if(ye=!0,He=St,Oe){var Ct=oe([He,Ve]),qt=Gt(r,Ct);ut(qt)}return At}function $t(St){if(Oe=!0,Ve=St,ye){var Ct=oe([He,Ve]),qt=Gt(r,Ct);ut(qt)}return At}function ir(){}return Ye=On(ir,fn,Dt),Ke=On(ir,vr,$t),Tt(y),[Ye,Ke]}(r):function(r,y){var Ve,Ye,Ke,ut,At,K=me(r),ye=!1,Oe=!1,He=!1,Tt=V(function(Dt){At=Dt});function Rt(){return ye||(ye=!0,ge(K,{_chunkSteps:function($t){b(function(){ye=!1;var St=$t;Oe||jr(Ke._readableStreamController,$t),He||jr(ut._readableStreamController,St)})},_closeSteps:function(){ye=!1,Oe||Pr(Ke._readableStreamController),He||Pr(ut._readableStreamController),(!Oe||!He)&&At(void 0)},_errorSteps:function(){ye=!1}})),j(void 0)}function gr(Dt){if(Oe=!0,Ve=Dt,He){var $t=oe([Ve,Ye]),ir=Gt(r,$t);At(ir)}return Tt}function fn(Dt){if(He=!0,Ye=Dt,Oe){var $t=oe([Ve,Ye]),ir=Gt(r,$t);At(ir)}return Tt}function vr(){}return Ke=un(vr,Rt,gr),ut=un(vr,Rt,fn),f(K._closedPromise,function(Dt){tr(Ke._readableStreamController,Dt),tr(ut._readableStreamController,Dt),(!Oe||!He)&&At(void 0)}),[Ke,ut]}(r)}function wa(r,y,K){return de(r,K),function(ye){return m(r,y,[ye])}}function Ca(r,y,K){return de(r,K),function(ye){return m(r,y,[ye])}}function ka(r,y,K){return de(r,K),function(ye){return x(r,y,[ye])}}function xa(r,y){if("bytes"!=(r=""+r))throw new TypeError(y+" '"+r+"' is not a valid enumeration value for ReadableStreamType");return r}function Ea(r,y){if("byob"!=(r=""+r))throw new TypeError(y+" '"+r+"' is not a valid enumeration value for ReadableStreamReaderMode");return r}function Rn(r,y){ce(r,y);var K=null==r?void 0:r.preventAbort,ye=null==r?void 0:r.preventCancel,Oe=null==r?void 0:r.preventClose,He=null==r?void 0:r.signal;return void 0!==He&&function(r,y){if(!function(r){if("object"!=typeof r||null===r)return!1;try{return"boolean"==typeof r.aborted}catch(y){return!1}}(r))throw new TypeError(y+" is not an AbortSignal.")}(He,y+" has member 'signal' that"),{preventAbort:Boolean(K),preventCancel:Boolean(ye),preventClose:Boolean(Oe),signal:He}}Object.defineProperties(fr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(fr.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var rr=function(){function r(y,K){void 0===y&&(y={}),void 0===K&&(K={}),void 0===y?y=null:ie(y,"First parameter");var ye=Zr(K,"Second parameter"),Oe=function(r,y){ce(r,y);var K=r,ye=null==K?void 0:K.autoAllocateChunkSize,Oe=null==K?void 0:K.cancel,He=null==K?void 0:K.pull,Ve=null==K?void 0:K.start,Ye=null==K?void 0:K.type;return{autoAllocateChunkSize:void 0===ye?void 0:te(ye,y+" has member 'autoAllocateChunkSize' that"),cancel:void 0===Oe?void 0:wa(Oe,K,y+" has member 'cancel' that"),pull:void 0===He?void 0:Ca(He,K,y+" has member 'pull' that"),start:void 0===Ve?void 0:ka(Ve,K,y+" has member 'start' that"),type:void 0===Ye?void 0:xa(Ye,y+" has member 'type' that")}}(y,"First parameter");if(cn(this),"bytes"===Oe.type){if(void 0!==ye.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(r,y,K){var ye=Object.create(Xe.prototype),Oe=function(){},He=function(){return j(void 0)},Ve=function(){return j(void 0)};void 0!==y.start&&(Oe=function(){return y.start(ye)}),void 0!==y.pull&&(He=function(){return y.pull(ye)}),void 0!==y.cancel&&(Ve=function(Ke){return y.cancel(Ke)});var Ye=y.autoAllocateChunkSize;if(0===Ye)throw new TypeError("autoAllocateChunkSize must be greater than 0");Or(r,ye,Oe,He,Ve,K,Ye)}(this,Oe,_r(ye,0))}else{var Ve=br(ye);!function(r,y,K,ye){var Oe=Object.create(fr.prototype),He=function(){},Ve=function(){return j(void 0)},Ye=function(){return j(void 0)};void 0!==y.start&&(He=function(){return y.start(Oe)}),void 0!==y.pull&&(Ve=function(){return y.pull(Oe)}),void 0!==y.cancel&&(Ye=function(Ke){return y.cancel(Ke)}),En(r,Oe,He,Ve,Ye,K,ye)}(this,Oe,_r(ye,1),Ve)}}return Object.defineProperty(r.prototype,"locked",{get:function(){if(!nr(this))throw ur("locked");return ar(this)},enumerable:!1,configurable:!0}),r.prototype.cancel=function(y){return void 0===y&&(y=void 0),nr(this)?ar(this)?e(new TypeError("Cannot cancel a stream that already has a reader")):Gt(this,y):e(ur("cancel"))},r.prototype.getReader=function(y){if(void 0===y&&(y=void 0),!nr(this))throw ur("getReader");return void 0===function(r,y){ce(r,y);var K=null==r?void 0:r.mode;return{mode:void 0===K?void 0:Ea(K,y+" has member 'mode' that")}}(y,"First parameter").mode?me(this):hn(this)},r.prototype.pipeThrough=function(y,K){if(void 0===K&&(K={}),!nr(this))throw ur("pipeThrough");J(y,1,"pipeThrough");var ye=function(r,y){ce(r,y);var K=null==r?void 0:r.readable;G(K,"readable","ReadableWritablePair"),se(K,y+" has member 'readable' that");var ye=null==r?void 0:r.writable;return G(ye,"writable","ReadableWritablePair"),gn(ye,y+" has member 'writable' that"),{readable:K,writable:ye}}(y,"First parameter"),Oe=Rn(K,"Second parameter");if(ar(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Sr(ye.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return u(xn(this,ye.writable,Oe.preventClose,Oe.preventAbort,Oe.preventCancel,Oe.signal)),ye.readable},r.prototype.pipeTo=function(y,K){if(void 0===K&&(K={}),!nr(this))return e(ur("pipeTo"));if(void 0===y)return e("Parameter 1 is required in 'pipeTo'.");if(!cr(y))return e(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ye;try{ye=Rn(K,"Second parameter")}catch(Oe){return e(Oe)}return ar(this)?e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Sr(y)?e(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):xn(this,y,ye.preventClose,ye.preventAbort,ye.preventCancel,ye.signal)},r.prototype.tee=function(){if(!nr(this))throw ur("tee");return oe(ya(this))},r.prototype.values=function(y){if(void 0===y&&(y=void 0),!nr(this))throw ur("values");return function(r,y){var K=me(r),ye=new fe(K,y),Oe=Object.create(_e);return Oe._asyncIteratorImpl=ye,Oe}(this,function(r,y){return ce(r,y),{preventCancel:Boolean(null==r?void 0:r.preventCancel)}}(y,"First parameter").preventCancel)},r}();function un(r,y,K,ye,Oe){void 0===ye&&(ye=1),void 0===Oe&&(Oe=function(){return 1});var He=Object.create(rr.prototype);return cn(He),En(He,Object.create(fr.prototype),r,y,K,ye,Oe),He}function On(r,y,K){var ye=Object.create(rr.prototype);return cn(ye),Or(ye,Object.create(Xe.prototype),r,y,K,0,void 0),ye}function cn(r){r._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1}function nr(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_readableStreamController"))&&r instanceof rr}function ar(r){return void 0!==r._reader}function Gt(r,y){if(r._disturbed=!0,"closed"===r._state)return j(void 0);if("errored"===r._state)return e(r._storedError);Er(r);var K=r._reader;return void 0!==K&&Vt(K)&&(K._readIntoRequests.forEach(function(Oe){Oe._closeSteps(void 0)}),K._readIntoRequests=new T),l(r._readableStreamController[v](y),I)}function Er(r){r._state="closed";var y=r._reader;void 0!==y&&(c(y),le(y)&&(y._readRequests.forEach(function(K){K._closeSteps()}),y._readRequests=new T))}function Ma(r,y){r._state="errored",r._storedError=y;var K=r._reader;void 0!==K&&(o(K,y),le(K)?(K._readRequests.forEach(function(ye){ye._errorSteps(y)}),K._readRequests=new T):(K._readIntoRequests.forEach(function(ye){ye._errorSteps(y)}),K._readIntoRequests=new T))}function ur(r){return new TypeError("ReadableStream.prototype."+r+" can only be used on a ReadableStream")}function dn(r,y){ce(r,y);var K=null==r?void 0:r.highWaterMark;return G(K,"highWaterMark","QueuingStrategyInit"),{highWaterMark:L(K)}}Object.defineProperties(rr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(rr.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof a.asyncIterator&&Object.defineProperty(rr.prototype,a.asyncIterator,{value:rr.prototype.values,writable:!0,configurable:!0});var Zn=function(r){return r.byteLength};Object.defineProperty(Zn,"name",{value:"size",configurable:!0});var Wr=function(){function r(y){J(y,1,"ByteLengthQueuingStrategy"),y=dn(y,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=y.highWaterMark}return Object.defineProperty(r.prototype,"highWaterMark",{get:function(){if(!Ln(this))throw Mn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){if(!Ln(this))throw Mn("size");return Zn},enumerable:!1,configurable:!0}),r}();function Mn(r){return new TypeError("ByteLengthQueuingStrategy.prototype."+r+" can only be used on a ByteLengthQueuingStrategy")}function Ln(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_byteLengthQueuingStrategyHighWaterMark"))&&r instanceof Wr}Object.defineProperties(Wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Wr.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var In=function(){return 1};Object.defineProperty(In,"name",{value:"size",configurable:!0});var Z=function(){function r(y){J(y,1,"CountQueuingStrategy"),y=dn(y,"First parameter"),this._countQueuingStrategyHighWaterMark=y.highWaterMark}return Object.defineProperty(r.prototype,"highWaterMark",{get:function(){if(!t(this))throw ae("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){if(!t(this))throw ae("size");return In},enumerable:!1,configurable:!0}),r}();function ae(r){return new TypeError("CountQueuingStrategy.prototype."+r+" can only be used on a CountQueuingStrategy")}function t(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_countQueuingStrategyHighWaterMark"))&&r instanceof Z}function W(r,y,K){return de(r,K),function(ye){return m(r,y,[ye])}}function Se(r,y,K){return de(r,K),function(ye){return x(r,y,[ye])}}function Be(r,y,K){return de(r,K),function(ye,Oe){return m(r,y,[ye,Oe])}}Object.defineProperties(Z.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Z.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Je=function(){function r(y,K,ye){void 0===y&&(y={}),void 0===K&&(K={}),void 0===ye&&(ye={}),void 0===y&&(y=null);var Oe=Zr(K,"Second parameter"),He=Zr(ye,"Third parameter"),Ve=function(r,y){ce(r,y);var K=null==r?void 0:r.flush,ye=null==r?void 0:r.readableType,Oe=null==r?void 0:r.start,He=null==r?void 0:r.transform,Ve=null==r?void 0:r.writableType;return{flush:void 0===K?void 0:W(K,r,y+" has member 'flush' that"),readableType:ye,start:void 0===Oe?void 0:Se(Oe,r,y+" has member 'start' that"),transform:void 0===He?void 0:Be(He,r,y+" has member 'transform' that"),writableType:Ve}}(y,"First parameter");if(void 0!==Ve.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==Ve.writableType)throw new RangeError("Invalid writableType specified");var Tt,Ye=_r(He,0),Ke=br(He),ut=_r(Oe,1),At=br(Oe);(function(r,y,K,ye,Oe,He){function Ve(){return y}function Ye(Rt){return function(r,y){var K=r._transformStreamController;return r._backpressure?l(r._backpressureChangePromise,function(){var Oe=r._writable;if("erroring"===Oe._state)throw Oe._storedError;return pr(K,y)}):pr(K,y)}(r,Rt)}function Ke(Rt){return function(r,y){return nt(r,y),j(void 0)}(r,Rt)}function ut(){return function(r){var y=r._readable,K=r._transformStreamController,ye=K._flushAlgorithm();return Yt(K),l(ye,function(){if("errored"===y._state)throw y._storedError;Pr(y._readableStreamController)},function(Oe){throw nt(r,Oe),y._storedError})}(r)}function At(){return function(r){return rt(r,!1),r._backpressureChangePromise}(r)}function Tt(Rt){return Lt(r,Rt),j(void 0)}r._writable=function(r,y,K,ye,Oe,He){void 0===Oe&&(Oe=1),void 0===He&&(He=function(){return 1});var Ve=Object.create(Ar.prototype);return Lr(Ve),An(Ve,Object.create(dr.prototype),r,y,K,ye,Oe,He),Ve}(Ve,Ye,ut,Ke,K,ye),r._readable=un(Ve,At,Tt,Oe,He),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,rt(r,!0),r._transformStreamController=void 0})(this,V(function(gr){Tt=gr}),ut,At,Ye,Ke),function(r,y){var K=Object.create(yt.prototype),ye=function(He){try{return ot(K,He),j(void 0)}catch(Ve){return e(Ve)}},Oe=function(){return j(void 0)};void 0!==y.transform&&(ye=function(He){return y.transform(He,K)}),void 0!==y.flush&&(Oe=function(){return y.flush(K)}),function(r,y,K,ye){y._controlledTransformStream=r,r._transformStreamController=y,y._transformAlgorithm=K,y._flushAlgorithm=ye}(r,K,ye,Oe)}(this,Ve),Tt(void 0!==Ve.start?Ve.start(this._transformStreamController):void 0)}return Object.defineProperty(r.prototype,"readable",{get:function(){if(!it(this))throw Ia("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"writable",{get:function(){if(!it(this))throw Ia("writable");return this._writable},enumerable:!1,configurable:!0}),r}();function it(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_transformStreamController"))&&r instanceof Je}function nt(r,y){tr(r._readable._readableStreamController,y),Lt(r,y)}function Lt(r,y){Yt(r._transformStreamController),tn(r._writable._writableStreamController,y),r._backpressure&&rt(r,!1)}function rt(r,y){void 0!==r._backpressureChangePromise&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=V(function(K){r._backpressureChangePromise_resolve=K}),r._backpressure=y}Object.defineProperties(Je.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Je.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});var yt=function(){function r(){throw new TypeError("Illegal constructor")}return Object.defineProperty(r.prototype,"desiredSize",{get:function(){if(!pt(this))throw Fn("desiredSize");return ln(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),r.prototype.enqueue=function(y){if(void 0===y&&(y=void 0),!pt(this))throw Fn("enqueue");ot(this,y)},r.prototype.error=function(y){if(void 0===y&&(y=void 0),!pt(this))throw Fn("error");!function(r,y){nt(r._controlledTransformStream,y)}(this,y)},r.prototype.terminate=function(){if(!pt(this))throw Fn("terminate");!function(r){var y=r._controlledTransformStream;Pr(y._readable._readableStreamController),Lt(y,new TypeError("TransformStream terminated"))}(this)},r}();function pt(r){return!(!B(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledTransformStream"))&&r instanceof yt}function Yt(r){r._transformAlgorithm=void 0,r._flushAlgorithm=void 0}function ot(r,y){var K=r._controlledTransformStream,ye=K._readable._readableStreamController;if(!hr(ye))throw new TypeError("Readable side is not in a state that permits enqueue");try{jr(ye,y)}catch(He){throw Lt(K,He),K._readable._storedError}(function(r){return!Pn(r)})(ye)!==K._backpressure&&rt(K,!0)}function pr(r,y){return l(r._transformAlgorithm(y),void 0,function(ye){throw nt(r._controlledTransformStream,ye),ye})}function Fn(r){return new TypeError("TransformStreamDefaultController.prototype."+r+" can only be used on a TransformStreamDefaultController")}function Ia(r){return new TypeError("TransformStream.prototype."+r+" can only be used on a TransformStream")}Object.defineProperties(yt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(yt.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),n.ByteLengthQueuingStrategy=Wr,n.CountQueuingStrategy=Z,n.ReadableByteStreamController=Xe,n.ReadableStream=rr,n.ReadableStreamBYOBReader=Mt,n.ReadableStreamBYOBRequest=$e,n.ReadableStreamDefaultController=fr,n.ReadableStreamDefaultReader=Fe,n.TransformStream=Je,n.TransformStreamDefaultController=yt,n.WritableStream=Ar,n.WritableStreamDefaultController=dr,n.WritableStreamDefaultWriter=Tr,Object.defineProperty(n,"__esModule",{value:!0})}(k)},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.BaseSVGFactory=k.BaseStandardFontDataFactory=k.BaseCMapReaderFactory=k.BaseCanvasFactory=void 0;var e,a=(e=n(2))&&e.__esModule?e:{default:e},I=n(4);function w(e,F,q,M,f,l,u){try{var b=e[l](u),x=b.value}catch(m){return void q(m)}b.done?F(x):Promise.resolve(x).then(M,f)}function B(e){return function(){var F=this,q=arguments;return new Promise(function(M,f){var l=e.apply(F,q);function u(x){w(l,M,f,u,b,"next",x)}function b(x){w(l,M,f,u,b,"throw",x)}u(void 0)})}}function R(e,F){if(!(e instanceof F))throw new TypeError("Cannot call a class as a function")}function H(e,F){for(var q=0;q<F.length;q++){var M=F[q];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(e,M.key,M)}}function z(e,F,q){return F&&H(e.prototype,F),q&&H(e,q),e}k.BaseCanvasFactory=function(){function e(){R(this,e),this.constructor===e&&(0,I.unreachable)("Cannot initialize BaseCanvasFactory.")}return z(e,[{key:"create",value:function(q,M){if(q<=0||M<=0)throw new Error("Invalid canvas size");var f=this._createCanvas(q,M);return{canvas:f,context:f.getContext("2d")}}},{key:"reset",value:function(q,M,f){if(!q.canvas)throw new Error("Canvas is not specified");if(M<=0||f<=0)throw new Error("Invalid canvas size");q.canvas.width=M,q.canvas.height=f}},{key:"destroy",value:function(q){if(!q.canvas)throw new Error("Canvas is not specified");q.canvas.width=0,q.canvas.height=0,q.canvas=null,q.context=null}},{key:"_createCanvas",value:function(q,M){(0,I.unreachable)("Abstract method `_createCanvas` called.")}}]),e}(),k.BaseCMapReaderFactory=function(){function e(F){var q=F.baseUrl,M=void 0===q?null:q,f=F.isCompressed,l=void 0!==f&&f;R(this,e),this.constructor===e&&(0,I.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=M,this.isCompressed=l}return z(e,[{key:"fetch",value:(F=B(a.default.mark(function M(f){var u,b,l=this;return a.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=f.name,this.baseUrl){d.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(u){d.next=5;break}throw new Error("CMap name must be specified.");case 5:return d.abrupt("return",this._fetchData(b=this.baseUrl+u+(this.isCompressed?".bcmap":""),this.isCompressed?I.CMapCompressionType.BINARY:I.CMapCompressionType.NONE).catch(function(T){throw new Error("Unable to load ".concat(l.isCompressed?"binary ":"","CMap at: ").concat(b))}));case 8:case"end":return d.stop()}},M,this)})),function(M){return F.apply(this,arguments)})},{key:"_fetchData",value:function(q,M){(0,I.unreachable)("Abstract method `_fetchData` called.")}}]),e;var F}(),k.BaseStandardFontDataFactory=function(){function e(F){var q=F.baseUrl,M=void 0===q?null:q;R(this,e),this.constructor===e&&(0,I.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=M}return z(e,[{key:"fetch",value:(F=B(a.default.mark(function M(f){var l,u;return a.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(l=f.filename,this.baseUrl){x.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(l){x.next=5;break}throw new Error("Font filename must be specified.");case 5:return u="".concat(this.baseUrl).concat(l),x.abrupt("return",this._fetchData(u).catch(function(m){throw new Error("Unable to load font data at: ".concat(u))}));case 7:case"end":return x.stop()}},M,this)})),function(M){return F.apply(this,arguments)})},{key:"_fetchData",value:function(q){(0,I.unreachable)("Abstract method `_fetchData` called.")}}]),e;var F}(),k.BaseSVGFactory=function(){function e(){R(this,e),this.constructor===e&&(0,I.unreachable)("Cannot initialize BaseSVGFactory.")}return z(e,[{key:"create",value:function(q,M){if(q<=0||M<=0)throw new Error("Invalid SVG dimensions");var f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width","".concat(q,"px")),f.setAttribute("height","".concat(M,"px")),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox","0 0 ".concat(q," ").concat(M)),f}},{key:"createElement",value:function(q){if("string"!=typeof q)throw new Error("Invalid SVG element type");return this._createSVG(q)}},{key:"_createSVG",value:function(q){(0,I.unreachable)("Abstract method `_createSVG` called.")}}]),e}()},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(120),_node_utils=__w_pdfjs_require__(121),_annotation_storage=__w_pdfjs_require__(122),_canvas=__w_pdfjs_require__(123),_worker_options=__w_pdfjs_require__(125),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(126),_metadata=__w_pdfjs_require__(127),_optional_content_config=__w_pdfjs_require__(128),_transport_stream=__w_pdfjs_require__(129),_xfa_text=__w_pdfjs_require__(130);function _interopRequireDefault(Y){return Y&&Y.__esModule?Y:{default:Y}}function _toConsumableArray(Y){return _arrayWithoutHoles(Y)||_iterableToArray(Y)||_unsupportedIterableToArray(Y)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(Y){if("undefined"!=typeof Symbol&&null!=Y[Symbol.iterator]||null!=Y["@@iterator"])return Array.from(Y)}function _arrayWithoutHoles(Y){if(Array.isArray(Y))return _arrayLikeToArray(Y)}function _createForOfIteratorHelper(Y,k){var n="undefined"!=typeof Symbol&&Y[Symbol.iterator]||Y["@@iterator"];if(!n){if(Array.isArray(Y)||(n=_unsupportedIterableToArray(Y))||k&&Y&&"number"==typeof Y.length){n&&(Y=n);var a=0,I=function(){};return{s:I,n:function(){return a>=Y.length?{done:!0}:{done:!1,value:Y[a++]}},e:function(H){throw H},f:I}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var B,E=!0,w=!1;return{s:function(){n=n.call(Y)},n:function(){var H=n.next();return E=H.done,H},e:function(H){w=!0,B=H},f:function(){try{!E&&null!=n.return&&n.return()}finally{if(w)throw B}}}}function _classCallCheck(Y,k){if(!(Y instanceof k))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Y,k){for(var n=0;n<k.length;n++){var a=k[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(Y,a.key,a)}}function _createClass(Y,k,n){return k&&_defineProperties(Y.prototype,k),n&&_defineProperties(Y,n),Y}function asyncGeneratorStep(Y,k,n,a,I,E,w){try{var B=Y[E](w),R=B.value}catch(H){return void n(H)}B.done?k(R):Promise.resolve(R).then(a,I)}function _asyncToGenerator(Y){return function(){var k=this,n=arguments;return new Promise(function(a,I){var E=Y.apply(k,n);function w(R){asyncGeneratorStep(E,a,I,w,B,"next",R)}function B(R){asyncGeneratorStep(E,a,I,w,B,"throw",R)}w(void 0)})}}function _slicedToArray(Y,k){return _arrayWithHoles(Y)||_iterableToArrayLimit(Y,k)||_unsupportedIterableToArray(Y,k)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(Y,k){if(Y){if("string"==typeof Y)return _arrayLikeToArray(Y,k);var n=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===n&&Y.constructor&&(n=Y.constructor.name),"Map"===n||"Set"===n)return Array.from(Y);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(Y,k)}}function _arrayLikeToArray(Y,k){(null==k||k>Y.length)&&(k=Y.length);for(var n=0,a=new Array(k);n<k;n++)a[n]=Y[n];return a}function _iterableToArrayLimit(Y,k){var n=null==Y?null:"undefined"!=typeof Symbol&&Y[Symbol.iterator]||Y["@@iterator"];if(null!=n){var w,B,a=[],I=!0,E=!1;try{for(n=n.call(Y);!(I=(w=n.next()).done)&&(a.push(w.value),!k||a.length!==k);I=!0);}catch(R){E=!0,B=R}finally{try{!I&&null!=n.return&&n.return()}finally{if(E)throw B}}return a}}function _arrayWithHoles(Y){if(Array.isArray(Y))return Y}function _typeof(Y){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(Y)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(Y){createPDFNetworkStream=Y}function getDocument(Y){var n,k=new PDFDocumentLoadingTask;if("string"==typeof Y||Y instanceof URL)n={url:Y};else if((0,_util.isArrayBuffer)(Y))n={data:Y};else if(Y instanceof PDFDataRangeTransport)n={range:Y};else{if("object"!==_typeof(Y))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Y.url&&!Y.data&&!Y.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=Y}var a=Object.create(null),I=null,E=null;for(var w in n){var B=n[w];switch(w){case"url":if("undefined"!=typeof window)try{a[w]=new URL(B,window.location).href;continue}catch(z){(0,_util.warn)('Cannot create valid URL: "'.concat(z,'".'))}else if("string"==typeof B||B instanceof URL){a[w]=B.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":I=B;continue;case"worker":E=B;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&B instanceof Buffer)a[w]=new Uint8Array(B);else{if(B instanceof Uint8Array)break;if("string"==typeof B)a[w]=(0,_util.stringToBytes)(B);else if("object"!==_typeof(B)||null===B||isNaN(B.length)){if(!(0,_util.isArrayBuffer)(B))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");a[w]=new Uint8Array(B)}else a[w]=new Uint8Array(B)}continue}a[w]=B}if(a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.StandardFontDataFactory=a.StandardFontDataFactory||DefaultStandardFontDataFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.fontExtraProperties=!0===a.fontExtraProperties,a.pdfBug=!0===a.pdfBug,a.enableXfa=!0===a.enableXfa,("string"!=typeof a.docBaseUrl||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),"boolean"!=typeof a.useWorkerFetch&&(a.useWorkerFetch=a.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&a.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof a.useSystemFonts&&(a.useSystemFonts=!_is_node.isNodeJS&&!a.disableFontFace),void 0===a.ownerDocument&&(a.ownerDocument=globalThis.document),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!E){var R={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};E=R.port?PDFWorker.fromPort(R):new PDFWorker(R),k._worker=E}var H=k.docId;return E.promise.then(function(){if(k.destroyed)throw new Error("Loading aborted");var z=_fetchDocument(E,a,I,H),D=new Promise(function(X){var V;I?V=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},I):a.data||(V=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),X(V)});return Promise.all([z,D]).then(function(X){var V=_slicedToArray(X,2),j=V[0],e=V[1];if(k.destroyed)throw new Error("Loading aborted");var F=new _message_handler.MessageHandler(H,j,E.port);F.postMessageTransfers=E.postMessageTransfers;var q=new WorkerTransport(F,k,e,a);k._transport=q,F.send("Ready",null)})}).catch(k._capability.reject),k}function _fetchDocument(Y,k,n,a){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function Y(k,n,a,I){var E;return _regenerator.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!k.destroyed){B.next=2;break}throw new Error("Worker was destroyed");case 2:return a&&(n.length=a.length,n.initialData=a.initialData,n.progressiveDone=a.progressiveDone,n.contentDispositionFilename=a.contentDispositionFilename),B.next=5,k.messageHandler.sendWithPromise("GetDocRequest",{docId:I,apiVersion:"2.11.338",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,postMessageTransfers:k.postMessageTransfers,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:if(E=B.sent,!k.destroyed){B.next=8;break}throw new Error("Worker was destroyed");case 8:return B.abrupt("return",E);case 9:case"end":return B.stop()}},Y)}))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function Y(){_classCallCheck(this,Y),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(Y.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(Y,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(k=_asyncToGenerator(_regenerator.default.mark(function a(){var I;return _regenerator.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.destroyed=!0,w.next=3,null===(I=this._transport)||void 0===I?void 0:I.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return w.stop()}},a,this)})),function(){return k.apply(this,arguments)})}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),Y;var k}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function Y(k,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],I=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,Y),this.length=k,this.initialData=n,this.progressiveDone=a,this.contentDispositionFilename=I,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(Y,[{key:"addRangeListener",value:function(n){this._rangeListeners.push(n)}},{key:"addProgressListener",value:function(n){this._progressListeners.push(n)}},{key:"addProgressiveReadListener",value:function(n){this._progressiveReadListeners.push(n)}},{key:"addProgressiveDoneListener",value:function(n){this._progressiveDoneListeners.push(n)}},{key:"onDataRange",value:function(n,a){var E,I=_createForOfIteratorHelper(this._rangeListeners);try{for(I.s();!(E=I.n()).done;)(0,E.value)(n,a)}catch(B){I.e(B)}finally{I.f()}}},{key:"onDataProgress",value:function(n,a){var I=this;this._readyCapability.promise.then(function(){var w,E=_createForOfIteratorHelper(I._progressListeners);try{for(E.s();!(w=E.n()).done;)(0,w.value)(n,a)}catch(R){E.e(R)}finally{E.f()}})}},{key:"onDataProgressiveRead",value:function(n){var a=this;this._readyCapability.promise.then(function(){var E,I=_createForOfIteratorHelper(a._progressiveReadListeners);try{for(I.s();!(E=I.n()).done;)(0,E.value)(n)}catch(B){I.e(B)}finally{I.f()}})}},{key:"onDataProgressiveDone",value:function(){var n=this;this._readyCapability.promise.then(function(){var I,a=_createForOfIteratorHelper(n._progressiveDoneListeners);try{for(a.s();!(I=a.n()).done;)(0,I.value)()}catch(w){a.e(w)}finally{a.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(n,a){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),Y}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function Y(k,n){_classCallCheck(this,Y),this._pdfInfo=k,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}})}return _createClass(Y,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(n){return this._transport.getPage(n)}},{key:"getPageIndex",value:function(n){return this._transport.getPageIndex(n)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(n){return this._transport.getDestination(n)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(n||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),Y}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function Y(k,n,a,I){var E=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,Y),this._pageIndex=k,this._pageInfo=n,this._ownerDocument=I,this._transport=a,this._stats=E?new _display_utils.StatTimer:null,this._pdfBug=E,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}return _createClass(Y,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.scale,I=n.rotation,E=void 0===I?this.rotate:I,w=n.offsetX,B=void 0===w?0:w,R=n.offsetY,H=void 0===R?0:R,z=n.dontFlip,D=void 0!==z&&z;return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:E,offsetX:B,offsetY:H,dontFlip:D})}},{key:"getAnnotations",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.intent,I=void 0===a?"display":a,E=this._transport.getRenderingIntent(I),w=this._annotationPromises.get(E.cacheKey);return w||(w=this._transport.getAnnotations(this._pageIndex,E.renderingIntent),this._annotationPromises.set(E.cacheKey,w),w=w.then(function(B){var H,R=_createForOfIteratorHelper(B);try{var z=function(){var X=H.value;void 0!==X.titleObj&&Object.defineProperty(X,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),X.titleObj.str}}),void 0!==X.contentsObj&&Object.defineProperty(X,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),X.contentsObj.str}})};for(R.s();!(H=R.n()).done;)z()}catch(D){R.e(D)}finally{R.f()}return B})),w}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(k=_asyncToGenerator(_regenerator.default.mark(function a(){var I;return _regenerator.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(null===(I=this._transport._htmlForXfa)||void 0===I?void 0:I.children[this._pageIndex])||null);case 1:case"end":return w.stop()}},a,this)})),function(){return k.apply(this,arguments)})},{key:"render",value:function(n){var a,I,w,E=this,B=n.canvasContext,R=n.viewport,H=n.intent,z=void 0===H?"display":H,D=n.annotationMode,X=void 0===D?_util.AnnotationMode.ENABLE:D,V=n.transform,j=void 0===V?null:V,e=n.imageLayer,F=void 0===e?null:e,q=n.canvasFactory,M=void 0===q?null:q,f=n.background,l=void 0===f?null:f,u=n.optionalContentConfigPromise,b=void 0===u?null:u;void 0!==(null===(a=arguments[0])||void 0===a?void 0:a.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&X===_util.AnnotationMode.ENABLE&&(X=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(I=arguments[0])||void 0===I?void 0:I.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&X===_util.AnnotationMode.ENABLE&&(X=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var x=this._transport.getRenderingIntent(z,X);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());var m=this._intentStates.get(x.cacheKey);m||(m=Object.create(null),this._intentStates.set(x.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);var d=M||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),T=!!(x.renderingIntent&_util.RenderingIntentFlag.PRINT);m.displayReadyCapability||(m.displayReadyCapability=(0,_util.createPromiseCapability)(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(x));var O=function(P){m.renderTasks.delete(_),(E.cleanupAfterRender||T)&&(E.pendingCleanup=!0),E._tryCleanup(),P?(_.capability.reject(P),E._abortOperatorList({intentState:m,reason:P instanceof Error?P:new Error(P)})):_.capability.resolve(),E._stats&&(E._stats.timeEnd("Rendering"),E._stats.timeEnd("Overall"))},_=new InternalRenderTask({callback:O,params:{canvasContext:B,viewport:R,transform:j,imageLayer:F,background:l},objs:this.objs,commonObjs:this.commonObjs,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:d,useRequestAnimationFrame:!T,pdfBug:this._pdfBug});((w=m).renderTasks||(w.renderTasks=new Set)).add(_);var C=_.task;return Promise.all([m.displayReadyCapability.promise,b]).then(function(S){var P=_slicedToArray(S,2),A=P[0],p=P[1];E.pendingCleanup?O():(E._stats&&E._stats.time("Rendering"),_.initializeGraphics({transparency:A,optionalContentConfig:p}),_.operatorListChanged())}).catch(O),C}},{key:"getOperatorList",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.intent,I=void 0===a?"display":a,E=n.annotationMode,w=void 0===E?_util.AnnotationMode.ENABLE:E;function B(){H.operatorList.lastChunk&&(H.opListReadCapability.resolve(H.operatorList),H.renderTasks.delete(z))}var z,D,R=this._transport.getRenderingIntent(I,w,!0),H=this._intentStates.get(R.cacheKey);return H||(H=Object.create(null),this._intentStates.set(R.cacheKey,H)),H.opListReadCapability||((z=Object.create(null)).operatorListChanged=B,H.opListReadCapability=(0,_util.createPromiseCapability)(),((D=H).renderTasks||(D.renderTasks=new Set)).add(z),H.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(R)),H.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.normalizeWhitespace,I=void 0!==a&&a,E=n.disableCombineTextItems,w=void 0!==E&&E,B=n.includeMarkedContent,R=void 0!==B&&B,H=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===I,combineTextItems:!0!==w,includeMarkedContent:!0===R},{highWaterMark:H,size:function(D){return D.items.length}})}},{key:"getTextContent",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(I){return _xfa_text.XfaText.textContent(I)});var a=this.streamTextContent(n);return new Promise(function(I,E){var B=a.getReader(),R={items:[],styles:Object.create(null)};!function w(){B.read().then(function(H){var z,D=H.value;H.done?I(R):(Object.assign(R.styles,D.styles),(z=R.items).push.apply(z,_toConsumableArray(D.items)),w())},E)}()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var I,n=[],a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(I=a.n()).done;){var E=I.value;if(this._abortOperatorList({intentState:E,reason:new Error("Page was destroyed."),force:!0}),!E.opListReadCapability){var B,w=_createForOfIteratorHelper(E.renderTasks);try{for(w.s();!(B=w.n()).done;){var R=B.value;n.push(R.completed),R.cancel()}}catch(H){w.e(H)}finally{w.f()}}}}catch(H){a.e(H)}finally{a.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(n)}},{key:"cleanup",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(n)}},{key:"_tryCleanup",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var I,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(I=a.n()).done;){var E=I.value,w=E.renderTasks,B=E.operatorList;if(w.size>0||!B.lastChunk)return!1}}catch(R){a.e(R)}finally{a.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,n&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(n,a){var I=this._intentStates.get(a);!I||(this._stats&&this._stats.timeEnd("Page Request"),I.displayReadyCapability&&I.displayReadyCapability.resolve(n))}},{key:"_renderPageChunk",value:function(n,a){for(var I=0,E=n.length;I<E;I++)a.operatorList.fnArray.push(n.fnArray[I]),a.operatorList.argsArray.push(n.argsArray[I]);a.operatorList.lastChunk=n.lastChunk;var B,w=_createForOfIteratorHelper(a.renderTasks);try{for(w.s();!(B=w.n()).done;)B.value.operatorListChanged()}catch(H){w.e(H)}finally{w.f()}n.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(n){var a=this,I=n.renderingIntent,E=n.cacheKey,B=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:I,cacheKey:E,annotationStorage:I&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),R=this._intentStates.get(E);R.streamReader=B,function z(){B.read().then(function(D){var X=D.value;D.done?R.streamReader=null:a._transport.destroyed||(a._renderPageChunk(X,R),z())},function(D){if(R.streamReader=null,!a._transport.destroyed){if(R.operatorList){R.operatorList.lastChunk=!0;var V,X=_createForOfIteratorHelper(R.renderTasks);try{for(X.s();!(V=X.n()).done;)V.value.operatorListChanged()}catch(e){X.e(e)}finally{X.f()}a._tryCleanup()}if(R.displayReadyCapability)R.displayReadyCapability.reject(D);else{if(!R.opListReadCapability)throw D;R.opListReadCapability.reject(D)}}})}()}},{key:"_abortOperatorList",value:function(n){var a=this,I=n.intentState,E=n.reason,w=n.force;if(I.streamReader){if(void 0===w||!w){if(I.renderTasks.size>0)return;if(E instanceof _display_utils.RenderingCancelledException)return void(I.streamReaderCancelTimeout=setTimeout(function(){a._abortOperatorList({intentState:I,reason:E,force:!0}),I.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(I.streamReader.cancel(new _util.AbortException(E.message)).catch(function(){}),I.streamReader=null,!this._transport.destroyed){var H,R=_createForOfIteratorHelper(this._intentStates);try{for(R.s();!(H=R.n()).done;){var z=_slicedToArray(H.value,2);if(z[1]===I){this._intentStates.delete(z[0]);break}}}catch(V){R.e(V)}finally{R.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),Y;var k}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function Y(){_classCallCheck(this,Y),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(Y,[{key:"postMessage",value:function(n,a){var I=this,w=new WeakMap,B={data:function E(R){if("function"==typeof R||"symbol"===_typeof(R)||R instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null==R?void 0:R.toString()));if("object"!==_typeof(R)||null===R)return R;if(w.has(R))return w.get(R);var H,z;if((H=R.buffer)&&(0,_util.isArrayBuffer)(H))return z=null!=a&&a.includes(H)?new R.constructor(H,R.byteOffset,R.byteLength):new R.constructor(R),w.set(R,z),z;if(R instanceof Map){z=new Map,w.set(R,z);var X,D=_createForOfIteratorHelper(R);try{for(D.s();!(X=D.n()).done;){var V=_slicedToArray(X.value,2);z.set(V[0],E(V[1]))}}catch(x){D.e(x)}finally{D.f()}return z}if(R instanceof Set){z=new Set,w.set(R,z);var q,F=_createForOfIteratorHelper(R);try{for(F.s();!(q=F.n()).done;)z.add(E(q.value))}catch(x){F.e(x)}finally{F.f()}return z}for(var f in z=Array.isArray(R)?[]:Object.create(null),w.set(R,z),R){for(var l,u=void 0,b=R;!(u=Object.getOwnPropertyDescriptor(b,f));)b=Object.getPrototypeOf(b);void 0!==u.value&&("function"==typeof u.value&&(null===(l=R.hasOwnProperty)||void 0===l||!l.call(R,f))||(z[f]=E(u.value)))}return z}(n)};this._deferred.then(function(){var H,R=_createForOfIteratorHelper(I._listeners);try{for(R.s();!(H=R.n()).done;)H.value.call(I,B)}catch(D){R.e(D)}finally{R.f()}})}},{key:"addEventListener",value:function(n,a){this._listeners.push(a)}},{key:"removeEventListener",value:function(n,a){var I=this._listeners.indexOf(a);this._listeners.splice(I,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),Y}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(Y){var k='importScripts("'.concat(Y,'");');return URL.createObjectURL(new Blob([k]))};var PDFWorker=function(){function PDFWorker(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=Y.name,n=void 0===k?null:k,a=Y.port,I=void 0===a?null:a,E=Y.verbosity,w=void 0===E?(0,_util.getVerbosityLevel)():E;if(_classCallCheck(this,PDFWorker),I&&PDFWorker._workerPorts.has(I))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=n,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=w,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,I)return PDFWorker._workerPorts.set(I,this),void this._initializeFromPort(I);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(k){this._port=k,this._messageHandler=new _message_handler.MessageHandler("main","worker",k),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var k=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var n=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,n)||(n=PDFWorkerUtil.createCDNWrapper(new URL(n,window.location).href));var a=new Worker(n),I=new _message_handler.MessageHandler("main","worker",a),E=function(){a.removeEventListener("error",w),I.destroy(),a.terminate(),k.destroyed?k._readyCapability.reject(new Error("Worker was destroyed")):k._setupFakeWorker()},w=function(){k._webWorker||E()};a.addEventListener("error",w),I.on("test",function(R){a.removeEventListener("error",w),k.destroyed?E():R?(k._messageHandler=I,k._port=a,k._webWorker=a,R.supportTransfers||(k.postMessageTransfers=!1),k._readyCapability.resolve(),I.send("configure",{verbosity:k.verbosity})):(k._setupFakeWorker(),I.destroy(),a.terminate())}),I.on("ready",function(R){if(a.removeEventListener("error",w),k.destroyed)E();else try{B()}catch(H){k._setupFakeWorker()}});var B=function(){var H=new Uint8Array([k.postMessageTransfers?255:0]);try{I.send("test",H,[H.buffer])}catch(z){(0,_util.warn)("Cannot use postMessage transfers."),H[0]=0,I.send("test",H)}};return void B()}catch(R){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var k=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(n){if(k.destroyed)k._readyCapability.reject(new Error("Worker was destroyed"));else{var a=new LoopbackPort;k._port=a;var I="fake".concat(PDFWorkerUtil.fakeWorkerId++),E=new _message_handler.MessageHandler(I+"_worker",I,a);n.setup(E,a);var w=new _message_handler.MessageHandler(I,I+"_worker",a);k._messageHandler=w,k._readyCapability.resolve(),w.send("configure",{verbosity:k.verbosity})}}).catch(function(n){k._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(n.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(k){if(null==k||!k.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(k.port)?this._workerPorts.get(k.port):new PDFWorker(k)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var k;return(null===(k=globalThis.pdfjsWorker)||void 0===k?void 0:k.WorkerMessageHandler)||null}catch(n){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this10=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee3(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=_this10._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_this10.workerSrc),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_this10.workerSrc);case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}},_callee3)}));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var WorkerTransport=function(){function Y(k,n,a,I){_classCallCheck(this,Y),this.messageHandler=k,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:I.ownerDocument,styleElement:I.styleElement}),this._params=I,I.useWorkerFetch||(this.CMapReaderFactory=new I.CMapReaderFactory({baseUrl:I.cMapUrl,isCompressed:I.cMapPacked}),this.StandardFontDataFactory=new I.StandardFontDataFactory({baseUrl:I.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(Y,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"getRenderingIntent",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],E=_util.RenderingIntentFlag.DISPLAY,w="";switch(n){case"any":E=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":E=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(n))}switch(a){case _util.AnnotationMode.DISABLE:E+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:E+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:E+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,w=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(a))}return I&&(E+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:E,cacheKey:"".concat(E,"_").concat(w)}}},{key:"destroy",value:function(){var n=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var E,a=[],I=_createForOfIteratorHelper(this.pageCache);try{for(I.s();!(E=I.n()).done;){var w=E.value;w&&a.push(w._destroy())}}catch(R){I.e(R)}finally{I.f()}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var B=this.messageHandler.sendWithPromise("Terminate",null);return a.push(B),Promise.all(a).then(function(){n.commonObjs.clear(),n.fontLoader.clear(),n._getFieldObjectsPromise=null,n._hasJSActionsPromise=null,n._networkStream&&n._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),n.messageHandler&&(n.messageHandler.destroy(),n.messageHandler=null),n.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var n=this,a=this.messageHandler,I=this.loadingTask;a.on("GetReader",function(E,w){(0,_util.assert)(n._networkStream,"GetReader - no `IPDFStream` instance available."),n._fullReader=n._networkStream.getFullReader(),n._fullReader.onProgress=function(B){n._lastProgress={loaded:B.loaded,total:B.total}},w.onPull=function(){n._fullReader.read().then(function(B){var R=B.value;B.done?w.close():((0,_util.assert)((0,_util.isArrayBuffer)(R),"GetReader - expected an ArrayBuffer."),w.enqueue(new Uint8Array(R),1,[R]))}).catch(function(B){w.error(B)})},w.onCancel=function(B){n._fullReader.cancel(B),w.ready.catch(function(R){if(!n.destroyed)throw R})}}),a.on("ReaderHeadersReady",function(E){var w=(0,_util.createPromiseCapability)(),B=n._fullReader;return B.headersReady.then(function(){(!B.isStreamingSupported||!B.isRangeSupported)&&(n._lastProgress&&I.onProgress&&I.onProgress(n._lastProgress),B.onProgress=function(R){I.onProgress&&I.onProgress({loaded:R.loaded,total:R.total})}),w.resolve({isStreamingSupported:B.isStreamingSupported,isRangeSupported:B.isRangeSupported,contentLength:B.contentLength})},w.reject),w.promise}),a.on("GetRangeReader",function(E,w){(0,_util.assert)(n._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var B=n._networkStream.getRangeReader(E.begin,E.end);B?(w.onPull=function(){B.read().then(function(R){var H=R.value;R.done?w.close():((0,_util.assert)((0,_util.isArrayBuffer)(H),"GetRangeReader - expected an ArrayBuffer."),w.enqueue(new Uint8Array(H),1,[H]))}).catch(function(R){w.error(R)})},w.onCancel=function(R){B.cancel(R),w.ready.catch(function(H){if(!n.destroyed)throw H})}):w.close()}),a.on("GetDoc",function(E){var w=E.pdfInfo;n._numPages=w.numPages,n._htmlForXfa=w.htmlForXfa,delete w.htmlForXfa,I._capability.resolve(new PDFDocumentProxy(w,n))}),a.on("DocException",function(E){var w;switch(E.name){case"PasswordException":w=new _util.PasswordException(E.message,E.code);break;case"InvalidPDFException":w=new _util.InvalidPDFException(E.message);break;case"MissingPDFException":w=new _util.MissingPDFException(E.message);break;case"UnexpectedResponseException":w=new _util.UnexpectedResponseException(E.message,E.status);break;case"UnknownErrorException":w=new _util.UnknownErrorException(E.message,E.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}I._capability.reject(w)}),a.on("PasswordRequest",function(E){if(n._passwordCapability=(0,_util.createPromiseCapability)(),I.onPassword)try{I.onPassword(function(R){n._passwordCapability.resolve({password:R})},E.code)}catch(B){n._passwordCapability.reject(B)}else n._passwordCapability.reject(new _util.PasswordException(E.message,E.code));return n._passwordCapability.promise}),a.on("DataLoaded",function(E){I.onProgress&&I.onProgress({loaded:E.length,total:E.length}),n.downloadInfoCapability.resolve(E)}),a.on("StartRenderPage",function(E){n.destroyed||n.pageCache[E.pageIndex]._startRenderPage(E.transparency,E.cacheKey)}),a.on("commonobj",function(E){var w;if(!n.destroyed){var B=_slicedToArray(E,3),R=B[0],H=B[1],z=B[2];if(!n.commonObjs.has(R))switch(H){case"Font":var D=n._params;if("error"in z){var X=z.error;(0,_util.warn)("Error during font loading: ".concat(X)),n.commonObjs.resolve(R,X);break}var V=null;D.pdfBug&&null!==(w=globalThis.FontInspector)&&void 0!==w&&w.enabled&&(V={registerFont:function(F,q){globalThis.FontInspector.fontAdded(F,q)}});var j=new _font_loader.FontFaceObject(z,{isEvalSupported:D.isEvalSupported,disableFontFace:D.disableFontFace,ignoreErrors:D.ignoreErrors,onUnsupportedFeature:n._onUnsupportedFeature.bind(n),fontRegistry:V});n.fontLoader.bind(j).catch(function(e){return a.sendWithPromise("FontFallback",{id:R})}).finally(function(){!D.fontExtraProperties&&j.data&&(j.data=null),n.commonObjs.resolve(R,j)});break;case"FontPath":case"Image":n.commonObjs.resolve(R,z);break;default:throw new Error("Got unknown common object type ".concat(H))}}}),a.on("obj",function(E){var w;if(!n.destroyed){var B=_slicedToArray(E,4),R=B[0],z=B[2],D=B[3],X=n.pageCache[B[1]];if(!X.objs.has(R))switch(z){case"Image":X.objs.resolve(R,D),(null==D||null===(w=D.data)||void 0===w?void 0:w.length)>8e6&&(X.cleanupAfterRender=!0);break;case"Pattern":X.objs.resolve(R,D);break;default:throw new Error("Got unknown object type ".concat(z))}}}),a.on("DocProgress",function(E){n.destroyed||I.onProgress&&I.onProgress({loaded:E.loaded,total:E.total})}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",function(E){return n.destroyed?Promise.reject(new Error("Worker was destroyed.")):n.CMapReaderFactory?n.CMapReaderFactory.fetch(E):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),a.on("FetchStandardFontData",function(E){return n.destroyed?Promise.reject(new Error("Worker was destroyed.")):n.StandardFontDataFactory?n.StandardFontDataFactory.fetch(E):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(n){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(n.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(n){var a=this;if(!Number.isInteger(n)||n<=0||n>this._numPages)return Promise.reject(new Error("Invalid page request"));var I=n-1;if(I in this.pagePromises)return this.pagePromises[I];var E=this.messageHandler.sendWithPromise("GetPage",{pageIndex:I}).then(function(w){if(a.destroyed)throw new Error("Transport destroyed");var B=new PDFPageProxy(I,w,a,a._params.ownerDocument,a._params.pdfBug);return a.pageCache[I]=B,B});return this.pagePromises[I]=E,E}},{key:"getPageIndex",value:function(n){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:n})}},{key:"getAnnotations",value:function(n,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:n,intent:a})}},{key:"saveDocument",value:function(){var n,a,I=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(n=null===(a=this._fullReader)||void 0===a?void 0:a.filename)&&void 0!==n?n:null}).finally(function(){I.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(n){return"string"!=typeof n?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:n})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(n){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:n})}},{key:"getStructTree",value:function(n){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:n})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(n){return new _optional_content_config.OptionalContentConfig(n)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var n=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){var I,E,w,B;return{info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:null!==(I=null===(E=n._fullReader)||void 0===E?void 0:E.filename)&&void 0!==I?I:null,contentLength:null!==(w=null===(B=n._fullReader)||void 0===B?void 0:B.contentLength)&&void 0!==w?w:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(k=_asyncToGenerator(_regenerator.default.mark(function a(){var I,E,w,B,H=arguments;return _regenerator.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return I=H.length>0&&void 0!==H[0]&&H[0],D.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){D.next=5;break}return D.abrupt("return");case 5:E=0,w=this.pageCache.length;case 6:if(!(E<w)){D.next=16;break}if(B=this.pageCache[E]){D.next=10;break}return D.abrupt("continue",13);case 10:if(B.cleanup()){D.next=13;break}throw new Error("startCleanup: Page ".concat(E+1," is currently rendering."));case 13:E++,D.next=6;break;case 16:this.commonObjs.clear(),I||this.fontLoader.clear(),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 20:case"end":return D.stop()}},a,this)})),function(){return k.apply(this,arguments)})},{key:"loadingParams",get:function(){var n=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:n.disableAutoFetch,enableXfa:n.enableXfa})}}]),Y;var k}(),PDFObjects=function(){function Y(){_classCallCheck(this,Y),this._objs=Object.create(null)}return _createClass(Y,[{key:"_ensureObj",value:function(n){return this._objs[n]?this._objs[n]:this._objs[n]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a)return this._ensureObj(n).capability.promise.then(a),null;var I=this._objs[n];if(!I||!I.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(n,"."));return I.data}},{key:"has",value:function(n){var a=this._objs[n];return(null==a?void 0:a.resolved)||!1}},{key:"resolve",value:function(n,a){var I=this._ensureObj(n);I.resolved=!0,I.data=a,I.capability.resolve(a)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),Y}(),RenderTask=function(){function Y(k){_classCallCheck(this,Y),this._internalRenderTask=k,this.onContinue=null}return _createClass(Y,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),Y}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function Y(k){var n=k.callback,a=k.params,I=k.objs,E=k.commonObjs,w=k.operatorList,B=k.pageIndex,R=k.canvasFactory,H=k.useRequestAnimationFrame,z=void 0!==H&&H,D=k.pdfBug,X=void 0!==D&&D;_classCallCheck(this,Y),this.callback=n,this.params=a,this.objs=I,this.commonObjs=E,this.operatorListIdx=null,this.operatorList=w,this._pageIndex=B,this.canvasFactory=R,this._pdfBug=X,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===z&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=a.canvasContext.canvas}return _createClass(Y,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(n){var a,I=n.transparency,E=void 0!==I&&I,w=n.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(Y.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Y.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(a=globalThis.StepperManager)&&void 0!==a&&a.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var B=this.params,H=B.viewport,z=B.transform,X=B.background;this.gfx=new _canvas.CanvasGraphics(B.canvasContext,this.commonObjs,this.objs,this.canvasFactory,B.imageLayer,w),this.gfx.beginDrawing({transform:z,viewport:H,transparency:E,background:X}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Y.canvasInUse.delete(this._canvas),this.callback(n||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var n=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){n._nextBound().catch(n._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(k=_asyncToGenerator(_regenerator.default.mark(function a(){return _regenerator.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!this.cancelled){E.next=2;break}return E.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Y.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return E.stop()}},a,this)})),function(){return k.apply(this,arguments)})}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),Y;var k}(),version="2.11.338";exports.version=version;var build="dedff3c98";exports.build=build},(Y,k,n)=>{"use strict";function a(d){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(d)}Object.defineProperty(k,"__esModule",{value:!0}),k.FontLoader=k.FontFaceObject=void 0;var d,I=(d=n(2))&&d.__esModule?d:{default:d},E=n(4);function R(d,T){return(R=Object.setPrototypeOf||function(_,C){return _.__proto__=C,_})(d,T)}function z(d,T){if(T&&("object"===a(T)||"function"==typeof T))return T;if(void 0!==T)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(d)}function V(d){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(d)}function j(d,T,O,_,C,S,P){try{var A=d[S](P),p=A.value}catch(o){return void O(o)}A.done?T(p):Promise.resolve(p).then(_,C)}function F(d,T){var O="undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(!O){if(Array.isArray(d)||(O=function(d,T){if(d){if("string"==typeof d)return M(d,T);var O=Object.prototype.toString.call(d).slice(8,-1);if("Object"===O&&d.constructor&&(O=d.constructor.name),"Map"===O||"Set"===O)return Array.from(d);if("Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return M(d,T)}}(d))||T&&d&&"number"==typeof d.length){O&&(d=O);var _=0,C=function(){};return{s:C,n:function(){return _>=d.length?{done:!0}:{done:!1,value:d[_++]}},e:function(o){throw o},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,S=!0,P=!1;return{s:function(){O=O.call(d)},n:function(){var o=O.next();return S=o.done,o},e:function(o){P=!0,A=o},f:function(){try{!S&&null!=O.return&&O.return()}finally{if(P)throw A}}}}function M(d,T){(null==T||T>d.length)&&(T=d.length);for(var O=0,_=new Array(T);O<T;O++)_[O]=d[O];return _}function f(d,T){if(!(d instanceof T))throw new TypeError("Cannot call a class as a function")}function l(d,T){for(var O=0;O<T.length;O++){var _=T[O];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(d,_.key,_)}}function u(d,T,O){return T&&l(d.prototype,T),O&&l(d,O),d}var x,b=function(){function d(T){var O=T.docId,_=T.onUnsupportedFeature,C=T.ownerDocument,S=void 0===C?globalThis.document:C;f(this,d),this.constructor===d&&(0,E.unreachable)("Cannot initialize BaseFontLoader."),this.docId=O,this._onUnsupportedFeature=_,this._document=S,this.nativeFontFaces=[],this.styleElement=null}return u(d,[{key:"addNativeFontFace",value:function(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}},{key:"insertRule",value:function(O){var _=this.styleElement;_||((_=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(_));var C=_.sheet;C.insertRule(O,C.cssRules.length)}},{key:"clear",value:function(){var _,O=F(this.nativeFontFaces);try{for(O.s();!(_=O.n()).done;)this._document.fonts.delete(_.value)}catch(S){O.e(S)}finally{O.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(T=function(d){return function(){var T=this,O=arguments;return new Promise(function(_,C){var S=d.apply(T,O);function P(p){j(S,_,C,P,A,"next",p)}function A(p){j(S,_,C,P,A,"throw",p)}P(void 0)})}}(I.default.mark(function _(C){var P,A,S=this;return I.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!C.attached&&!C.missingFile){o.next=2;break}return o.abrupt("return");case 2:if(C.attached=!0,!this.isFontLoadingAPISupported){o.next=19;break}if(!(P=C.createNativeFontFace())){o.next=18;break}return this.addNativeFontFace(P),o.prev=7,o.next=10,P.loaded;case 10:o.next=18;break;case 12:throw o.prev=12,o.t0=o.catch(7),this._onUnsupportedFeature({featureId:E.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,E.warn)("Failed to load font '".concat(P.family,"': '").concat(o.t0,"'.")),C.disableFontFace=!0,o.t0;case 18:return o.abrupt("return");case 19:if(!(A=C.createFontFaceRule())){o.next=26;break}if(this.insertRule(A),!this.isSyncFontLoadingSupported){o.next=24;break}return o.abrupt("return");case 24:return o.next=26,new Promise(function(s){var c=S._queueLoadingCallback(s);S._prepareFontLoadEvent([A],[C],c)});case 26:case"end":return o.stop()}},_,this,[[7,12]])})),function(_){return T.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(O){(0,E.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var O,_=!(null===(O=this._document)||void 0===O||!O.fonts);return(0,E.shadow)(this,"isFontLoadingAPISupported",_)}},{key:"isSyncFontLoadingSupported",get:function(){(0,E.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,E.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(O,_,C){(0,E.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),d;var T}();k.FontLoader=x,k.FontLoader=x=function(d){!function(d,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(T&&T.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),T&&R(d,T)}(O,d);var T=function(d){var T=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}();return function(){var C,_=V(d);if(T){var S=V(this).constructor;C=Reflect.construct(_,arguments,S)}else C=_.apply(this,arguments);return z(this,C)}}(O);function O(_){var C;return f(this,O),(C=T.call(this,_)).loadingContext={requests:[],nextRequestId:0},C.loadTestFontId=0,C}return u(O,[{key:"isSyncFontLoadingSupported",get:function(){var C=!1;if("undefined"==typeof navigator)C=!0;else{var S=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==S?void 0:S[1])>=14&&(C=!0)}return(0,E.shadow)(this,"isSyncFontLoadingSupported",C)}},{key:"_queueLoadingCallback",value:function(C){var P=this.loadingContext,A={id:"pdfjs-font-loading-".concat(P.nextRequestId++),done:!1,complete:function(){for((0,E.assert)(!A.done,"completeRequest() cannot be called twice."),A.done=!0;P.requests.length>0&&P.requests[0].done;){var p=P.requests.shift();setTimeout(p.callback,0)}},callback:C};return P.requests.push(A),A}},{key:"_loadTestFont",get:function(){return(0,E.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(C,S,P){var A=this;function p(Ze,Ee){return Ze.charCodeAt(Ee)<<24|Ze.charCodeAt(Ee+1)<<16|Ze.charCodeAt(Ee+2)<<8|255&Ze.charCodeAt(Ee+3)}function o(Ze,Ee,Fe,le){return Ze.substring(0,Ee)+le+Ze.substring(Ee+Fe)}var s,c,i=this._document.createElement("canvas");i.width=1,i.height=1;var h=i.getContext("2d"),v=0,ee="lt".concat(Date.now()).concat(this.loadTestFontId++),Q=this._loadTestFont,de=1482184792,be=p(Q=o(Q,976,ee.length,ee),16);for(s=0,c=ee.length-3;s<c;s+=4)be=be-de+p(ee,s)|0;s<ee.length&&(be=be-de+p(ee+"XXX",s)|0),Q=o(Q,16,4,(0,E.string32)(be));var ie="url(data:font/opentype;base64,".concat(btoa(Q),");"),J='@font-face {font-family:"'.concat(ee,'";src:').concat(ie,"}");this.insertRule(J);var N,G=[],L=F(S);try{for(L.s();!(N=L.n()).done;)G.push(N.value.loadedName)}catch(Ze){L.e(Ze)}finally{L.f()}G.push(ee);var te=this._document.createElement("div");te.style.visibility="hidden",te.style.width=te.style.height="10px",te.style.position="absolute",te.style.top=te.style.left="0px";for(var se=0,me=G;se<me.length;se++){var ke=me[se],Pe=this._document.createElement("span");Pe.textContent="Hi",Pe.style.fontFamily=ke,te.appendChild(Pe)}this._document.body.appendChild(te),function U(Ze,Ee){if(++v>30)return(0,E.warn)("Load test font never loaded."),void Ee();h.font="30px "+Ze,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0?Ee():setTimeout(U.bind(null,Ze,Ee))}(ee,function(){A._document.body.removeChild(te),P.complete()})}}]),O}(b),k.FontFaceObject=function(){function d(T,O){var _=O.isEvalSupported,C=void 0===_||_,S=O.disableFontFace,P=void 0!==S&&S,A=O.ignoreErrors,p=void 0!==A&&A,o=O.onUnsupportedFeature,s=O.fontRegistry,c=void 0===s?null:s;for(var i in f(this,d),this.compiledGlyphs=Object.create(null),T)this[i]=T[i];this.isEvalSupported=!1!==C,this.disableFontFace=!0===P,this.ignoreErrors=!0===p,this._onUnsupportedFeature=o,this.fontRegistry=c}return u(d,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var O;if(this.cssFontInfo){var _={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(_.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),O=new FontFace(this.cssFontInfo.fontFamily,this.data,_)}else O=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),O}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var C,O=(0,E.bytesToString)(this.data),_="url(data:".concat(this.mimetype,";base64,").concat(btoa(O),");");if(this.cssFontInfo){var S="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(S+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),C='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(S,"src:").concat(_,"}")}else C='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(_,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,_),C}},{key:"getPathGenerator",value:function(O,_){if(void 0!==this.compiledGlyphs[_])return this.compiledGlyphs[_];var C;try{C=O.get(this.loadedName+"_path_"+_)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature({featureId:E.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,E.warn)('getPathGenerator - ignoring character: "'.concat(s,'".')),this.compiledGlyphs[_]=function(c,i){}}if(this.isEvalSupported&&E.IsEvalSupportedCached.value){var A,S=[],P=F(C);try{for(P.s();!(A=P.n()).done;){var p=A.value,o=void 0!==p.args?p.args.join(","):"";S.push("c.",p.cmd,"(",o,");\n")}}catch(s){P.e(s)}finally{P.f()}return this.compiledGlyphs[_]=new Function("c","size",S.join(""))}return this.compiledGlyphs[_]=function(s,c){var h,i=F(C);try{for(i.s();!(h=i.n()).done;){var v=h.value;"scale"===v.cmd&&(v.args=[c,-c]),s[v.cmd].apply(s,v.args)}}catch(U){i.e(U)}finally{i.f()}}}}]),d}()},(Y,k,n)=>{"use strict";function a(u){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(u)}Object.defineProperty(k,"__esModule",{value:!0}),k.NodeStandardFontDataFactory=k.NodeCMapReaderFactory=k.NodeCanvasFactory=void 0;var I=n(118),E=n(6),w=n(4);function B(u,b){for(var x=0;x<b.length;x++){var m=b[x];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(u,m.key,m)}}function R(u,b,x){return b&&B(u.prototype,b),x&&B(u,x),u}function H(u,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(b&&b.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),b&&z(u,b)}function z(u,b){return(z=Object.setPrototypeOf||function(m,d){return m.__proto__=d,m})(u,b)}function D(u){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}();return function(){var d,m=e(u);if(b){var T=e(this).constructor;d=Reflect.construct(m,arguments,T)}else d=m.apply(this,arguments);return X(this,d)}}function X(u,b){if(b&&("object"===a(b)||"function"==typeof b))return b;if(void 0!==b)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}function e(u){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(u)}function F(u,b){if(!(u instanceof b))throw new TypeError("Cannot call a class as a function")}var q=function u(){F(this,u),(0,w.unreachable)("Not implemented: NodeCanvasFactory")};k.NodeCanvasFactory=q;var M=function u(){F(this,u),(0,w.unreachable)("Not implemented: NodeCMapReaderFactory")};k.NodeCMapReaderFactory=M;var f=function u(){F(this,u),(0,w.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(k.NodeStandardFontDataFactory=f,E.isNodeJS){var l=function(b){return new Promise(function(x,m){__webpack_require__(2767).readFile(b,function(T,O){!T&&O?x(new Uint8Array(O)):m(new Error(T))})})};k.NodeCanvasFactory=q=function(u){H(x,u);var b=D(x);function x(){return F(this,x),b.apply(this,arguments)}return R(x,[{key:"_createCanvas",value:function(d,T){return __webpack_require__(4601).createCanvas(d,T)}}]),x}(I.BaseCanvasFactory),k.NodeCMapReaderFactory=M=function(u){H(x,u);var b=D(x);function x(){return F(this,x),b.apply(this,arguments)}return R(x,[{key:"_fetchData",value:function(d,T){return l(d).then(function(O){return{cMapData:O,compressionType:T}})}}]),x}(I.BaseCMapReaderFactory),k.NodeStandardFontDataFactory=f=function(u){H(x,u);var b=D(x);function x(){return F(this,x),b.apply(this,arguments)}return R(x,[{key:"_fetchData",value:function(d){return l(d)}}]),x}(I.BaseStandardFontDataFactory)}},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationStorage=void 0;var a=n(4);function I(j,e){return function(j){if(Array.isArray(j))return j}(j)||function(j,e){var F=null==j?null:"undefined"!=typeof Symbol&&j[Symbol.iterator]||j["@@iterator"];if(null!=F){var l,u,q=[],M=!0,f=!1;try{for(F=F.call(j);!(M=(l=F.next()).done)&&(q.push(l.value),!e||q.length!==e);M=!0);}catch(b){f=!0,u=b}finally{try{!M&&null!=F.return&&F.return()}finally{if(f)throw u}}return q}}(j,e)||function(j,e){if(j){if("string"==typeof j)return B(j,e);var F=Object.prototype.toString.call(j).slice(8,-1);if("Object"===F&&j.constructor&&(F=j.constructor.name),"Map"===F||"Set"===F)return Array.from(j);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return B(j,e)}}(j,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(j,e){(null==e||e>j.length)&&(e=j.length);for(var F=0,q=new Array(e);F<e;F++)q[F]=j[F];return q}function D(j,e){for(var F=0;F<e.length;F++){var q=e[F];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(j,q.key,q)}}k.AnnotationStorage=function(){function j(){(function(j,e){if(!(j instanceof e))throw new TypeError("Cannot call a class as a function")})(this,j),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}return function(j,e,F){e&&D(j.prototype,e)}(j,[{key:"getValue",value:function(F,q){var M=this._storage.get(F);return void 0===M?q:Object.assign(q,M)}},{key:"setValue",value:function(F,q){var M=this._storage.get(F),f=!1;if(void 0!==M)for(var l=0,u=Object.entries(q);l<u.length;l++){var b=I(u[l],2),x=b[0],m=b[1];M[x]!==m&&(f=!0,M[x]=m)}else f=!0,this._storage.set(F,q);f&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}]),j}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.CanvasGraphics=void 0;var a=n(4),I=n(124),E=n(1);function w(J){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(J)}function B(J,G){var L="undefined"!=typeof Symbol&&J[Symbol.iterator]||J["@@iterator"];if(!L){if(Array.isArray(J)||(L=V(J))||G&&J&&"number"==typeof J.length){L&&(J=L);var N=0,$=function(){};return{s:$,n:function(){return N>=J.length?{done:!0}:{done:!1,value:J[N++]}},e:function(Pe){throw Pe},f:$}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var me,te=!0,se=!1;return{s:function(){L=L.call(J)},n:function(){var Pe=L.next();return te=Pe.done,Pe},e:function(Pe){se=!0,me=Pe},f:function(){try{!te&&null!=L.return&&L.return()}finally{if(se)throw me}}}}function R(J,G){if(!(J instanceof G))throw new TypeError("Cannot call a class as a function")}function H(J,G){for(var L=0;L<G.length;L++){var N=G[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(J,N.key,N)}}function z(J,G,L){return G&&H(J.prototype,G),L&&H(J,L),J}function D(J,G){return function(J){if(Array.isArray(J))return J}(J)||function(J,G){var L=null==J?null:"undefined"!=typeof Symbol&&J[Symbol.iterator]||J["@@iterator"];if(null!=L){var se,me,N=[],$=!0,te=!1;try{for(L=L.call(J);!($=(se=L.next()).done)&&(N.push(se.value),!G||N.length!==G);$=!0);}catch(ke){te=!0,me=ke}finally{try{!$&&null!=L.return&&L.return()}finally{if(te)throw me}}return N}}(J,G)||V(J,G)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(J,G){if(J){if("string"==typeof J)return j(J,G);var L=Object.prototype.toString.call(J).slice(8,-1);if("Object"===L&&J.constructor&&(L=J.constructor.name),"Map"===L||"Set"===L)return Array.from(J);if("Arguments"===L||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return j(J,G)}}function j(J,G){(null==G||G>J.length)&&(G=J.length);for(var L=0,N=new Array(G);L<G;L++)N[L]=J[L];return N}var f=4096,d=16;function O(J){if(!J.mozCurrentTransform){J._originalSave=J.save,J._originalRestore=J.restore,J._originalRotate=J.rotate,J._originalScale=J.scale,J._originalTranslate=J.translate,J._originalTransform=J.transform,J._originalSetTransform=J.setTransform,J._originalResetTransform=J.resetTransform,J._transformMatrix=J._transformMatrix||[1,0,0,1,0,0],J._transformStack=[];try{var G=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(J),"lineWidth");J._setLineWidth=G.set,J._getLineWidth=G.get,Object.defineProperty(J,"lineWidth",{set:function(N){this._setLineWidth(1.000001*N)},get:function(){return this._getLineWidth()}})}catch(L){}Object.defineProperty(J,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(J,"mozCurrentTransformInverse",{get:function(){var N=D(this._transformMatrix,6),$=N[0],te=N[1],se=N[2],me=N[3],ke=N[4],Pe=N[5],Ze=$*me-te*se,Ee=te*se-$*me;return[me/Ze,te/Ee,se/Ee,$/Ze,(me*ke-se*Pe)/Ee,(te*ke-$*Pe)/Ze]}}),J.save=function(){var N=this._transformMatrix;this._transformStack.push(N),this._transformMatrix=N.slice(0,6),this._originalSave()},J.restore=function(){var N=this._transformStack.pop();N&&(this._transformMatrix=N,this._originalRestore())},J.translate=function(N,$){var te=this._transformMatrix;te[4]=te[0]*N+te[2]*$+te[4],te[5]=te[1]*N+te[3]*$+te[5],this._originalTranslate(N,$)},J.scale=function(N,$){var te=this._transformMatrix;te[0]*=N,te[1]*=N,te[2]*=$,te[3]*=$,this._originalScale(N,$)},J.transform=function(N,$,te,se,me,ke){var Pe=this._transformMatrix;this._transformMatrix=[Pe[0]*N+Pe[2]*$,Pe[1]*N+Pe[3]*$,Pe[0]*te+Pe[2]*se,Pe[1]*te+Pe[3]*se,Pe[0]*me+Pe[2]*ke+Pe[4],Pe[1]*me+Pe[3]*ke+Pe[5]],J._originalTransform(N,$,te,se,me,ke)},J.setTransform=function(N,$,te,se,me,ke){this._transformMatrix=[N,$,te,se,me,ke],J._originalSetTransform(N,$,te,se,me,ke)},J.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],J._originalResetTransform()},J.rotate=function(N){var $=Math.cos(N),te=Math.sin(N),se=this._transformMatrix;this._transformMatrix=[se[0]*$+se[2]*te,se[1]*$+se[3]*te,se[0]*-te+se[2]*$,se[1]*-te+se[3]*$,se[4],se[5]],this._originalRotate(N)}}}var _=function(){function J(G){R(this,J),this.canvasFactory=G,this.cache=Object.create(null)}return z(J,[{key:"getCanvas",value:function(L,N,$,te){var se;return void 0!==this.cache[L]?(this.canvasFactory.reset(se=this.cache[L],N,$),se.context.setTransform(1,0,0,1,0,0)):(se=this.canvasFactory.create(N,$),this.cache[L]=se),te&&O(se.context),se}},{key:"clear",value:function(){for(var L in this.cache)this.canvasFactory.destroy(this.cache[L]),delete this.cache[L]}}]),J}(),C=function(){function J(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;R(this,J),this._cache=new Map,this._maxSize=G}return z(J,[{key:"has",value:function(L){return this._cache.has(L)}},{key:"get",value:function(L){if(this._cache.has(L)){var N=this._cache.get(L);this._cache.delete(L),this._cache.set(L,N)}return this._cache.get(L)}},{key:"set",value:function(L,N){this._maxSize<=0||(this._cache.size+1>this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(L,N))}},{key:"clear",value:function(){this._cache.clear()}}]),J}(),P=function(){function J(){R(this,J),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return z(J,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(L,N){this.x=L,this.y=N}}]),J}();function A(J,G){var L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&G instanceof ImageData)J.putImageData(G,0,0);else{var Ze,le,ge,re,ue,ne,fe,_e,xe,N=G.height,$=G.width,te=N%d,se=(N-te)/d,me=0===te?se:se+1,ke=J.createImageData($,d),Pe=0,Ee=G.data,Fe=ke.data;if(L)switch(L.length){case 1:ne=L[0],fe=L[0],_e=L[0],xe=L[0];break;case 4:ne=L[0],fe=L[1],_e=L[2],xe=L[3]}if(G.kind===a.ImageKind.GRAYSCALE_1BPP){var Re=Ee.byteLength,ve=new Uint32Array(Fe.buffer,0,Fe.byteLength>>2),Ie=ve.length,oe=$+7>>3,Ae=4294967295,pe=a.IsLittleEndianCached.value?4278190080:255;if(xe&&255===xe[0]&&0===xe[255]){var Ce=[pe,Ae];Ae=Ce[0],pe=Ce[1]}for(le=0;le<me;le++){for(re=le<se?d:te,Ze=0,ge=0;ge<re;ge++){for(var Ne=Re-Pe,Me=0,qe=Ne>oe?$:8*Ne-7,je=-8&qe,Ue=0,Ge=0;Me<je;Me+=8)Ge=Ee[Pe++],ve[Ze++]=128&Ge?Ae:pe,ve[Ze++]=64&Ge?Ae:pe,ve[Ze++]=32&Ge?Ae:pe,ve[Ze++]=16&Ge?Ae:pe,ve[Ze++]=8&Ge?Ae:pe,ve[Ze++]=4&Ge?Ae:pe,ve[Ze++]=2&Ge?Ae:pe,ve[Ze++]=1&Ge?Ae:pe;for(;Me<qe;Me++)0===Ue&&(Ge=Ee[Pe++],Ue=128),ve[Ze++]=Ge&Ue?Ae:pe,Ue>>=1}for(;Ze<Ie;)ve[Ze++]=0;J.putImageData(ke,0,le*d)}}else if(G.kind===a.ImageKind.RGBA_32BPP){var We=!!(ne||fe||_e);for(ge=0,ue=$*d*4,le=0;le<se;le++){if(Fe.set(Ee.subarray(Pe,Pe+ue)),Pe+=ue,We)for(var $e=0;$e<ue;$e+=4)ne&&(Fe[$e+0]=ne[Fe[$e+0]]),fe&&(Fe[$e+1]=fe[Fe[$e+1]]),_e&&(Fe[$e+2]=_e[Fe[$e+2]]);J.putImageData(ke,0,ge),ge+=d}if(le<me){if(Fe.set(Ee.subarray(Pe,Pe+(ue=$*te*4))),We)for(var Xe=0;Xe<ue;Xe+=4)ne&&(Fe[Xe+0]=ne[Fe[Xe+0]]),fe&&(Fe[Xe+1]=fe[Fe[Xe+1]]),_e&&(Fe[Xe+2]=_e[Fe[Xe+2]]);J.putImageData(ke,0,ge)}}else{if(G.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(G.kind));var st=!!(ne||fe||_e);for(ue=$*(re=d),le=0;le<me;le++){for(le>=se&&(ue=$*(re=te)),Ze=0,ge=ue;ge--;)Fe[Ze++]=Ee[Pe++],Fe[Ze++]=Ee[Pe++],Fe[Ze++]=Ee[Pe++],Fe[Ze++]=255;if(st)for(var ct=0;ct<Ze;ct+=4)ne&&(Fe[ct+0]=ne[Fe[ct+0]]),fe&&(Fe[ct+1]=fe[Fe[ct+1]]),_e&&(Fe[ct+2]=_e[Fe[ct+2]]);J.putImageData(ke,0,le*d)}}}}function p(J,G){for(var L=G.height,N=G.width,$=L%d,te=(L-$)/d,se=0===$?te:te+1,me=J.createImageData(N,d),ke=0,Pe=G.data,Ze=me.data,Ee=0;Ee<se;Ee++){for(var Fe=Ee<te?d:$,le=3,ge=0;ge<Fe;ge++)for(var re=void 0,ue=0,ne=0;ne<N;ne++)ue||(re=Pe[ke++],ue=128),Ze[le]=re&ue?0:255,le+=4,ue>>=1;J.putImageData(me,0,Ee*d)}}function o(J,G){for(var L=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],N=0,$=L.length;N<$;N++){var te=L[N];void 0!==J[te]&&(G[te]=J[te])}void 0!==J.setLineDash&&(G.setLineDash(J.getLineDash()),G.lineDashOffset=J.lineDashOffset)}function s(J){J.strokeStyle="#000000",J.fillStyle="#000000",J.fillRule="nonzero",J.globalAlpha=1,J.lineWidth=1,J.lineCap="butt",J.lineJoin="miter",J.miterLimit=10,J.globalCompositeOperation="source-over",J.font="10px sans-serif",void 0!==J.setLineDash&&(J.setLineDash([]),J.lineDashOffset=0)}function c(J,G,L,N){for(var $=J.length,te=3;te<$;te+=4){var se=J[te];if(0===se)J[te-3]=G,J[te-2]=L,J[te-1]=N;else if(se<255){var me=255-se;J[te-3]=J[te-3]*se+G*me>>8,J[te-2]=J[te-2]*se+L*me>>8,J[te-1]=J[te-1]*se+N*me>>8}}}function i(J,G,L){for(var N=J.length,te=3;te<N;te+=4)G[te]=G[te]*(L?L[J[te]]:J[te])*.00392156862745098|0}function h(J,G,L){for(var N=J.length,$=3;$<N;$+=4){var te=77*J[$-3]+152*J[$-2]+28*J[$-1];G[$]=L?G[$]*L[te>>8]>>8:G[$]*te>>16}}function U(J,G,L){var N=G.canvas,$=G.context;J.setTransform(G.scaleX,0,0,G.scaleY,G.offsetX,G.offsetY),function(J,G,L,N,$,te,se){var Ee,me=!!te,ke=me?te[0]:0,Pe=me?te[1]:0,Ze=me?te[2]:0;Ee="Luminosity"===$?h:i;for(var le=Math.min(N,Math.ceil(1048576/L)),ge=0;ge<N;ge+=le){var re=Math.min(le,N-ge),ue=J.getImageData(0,ge,L,re),ne=G.getImageData(0,ge,L,re);me&&c(ue.data,ke,Pe,Ze),Ee(ue.data,ne.data,se),J.putImageData(ne,0,ge)}}($,L,N.width,N.height,G.subtype,G.backdrop,G.transferMap),J.drawImage(N,0,0)}function ee(J,G){var L=a.Util.singularValueDecompose2dScale(J);L[0]=Math.fround(L[0]),L[1]=Math.fround(L[1]);var N=Math.fround((globalThis.devicePixelRatio||1)*E.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==G?G:L[0]<=N||L[1]<=N}var Q=["butt","round","square"],he=["miter","round","bevel"],ce={},de={},be=function(){function J(G,L,N,$,te,se){R(this,J),this.ctx=G,this.current=new P,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=L,this.objs=N,this.canvasFactory=$,this.imageLayer=te,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=se,this.cachedCanvases=new _(this.canvasFactory),this.cachedCanvasPatterns=new C(2),this.cachedPatterns=new Map,G&&O(G),this._cachedGetSinglePixelWidth=null}return z(J,[{key:"beginDrawing",value:function(L){var N=L.transform,$=L.viewport,te=L.transparency,se=void 0!==te&&te,me=L.background,ke=void 0===me?null:me,Pe=this.ctx.canvas.width,Ze=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=ke||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,Pe,Ze),this.ctx.restore(),se){var Ee=this.cachedCanvases.getCanvas("transparent",Pe,Ze,!0);this.compositeCtx=this.ctx,this.transparentCanvas=Ee.canvas,this.ctx=Ee.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),s(this.ctx),N&&this.ctx.transform.apply(this.ctx,N),this.ctx.transform.apply(this.ctx,$.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(L,N,$,te){var se=L.argsArray,me=L.fnArray,ke=N||0,Pe=se.length;if(Pe===ke)return ke;for(var re,Ze=Pe-ke>10&&"function"==typeof $,Ee=Ze?Date.now()+15:0,Fe=0,le=this.commonObjs,ge=this.objs;;){if(void 0!==te&&ke===te.nextBreakPoint)return te.breakIt(ke,$),ke;if((re=me[ke])!==a.OPS.dependency)this[re].apply(this,se[ke]);else{var ne,ue=B(se[ke]);try{for(ue.s();!(ne=ue.n()).done;){var fe=ne.value,_e=fe.startsWith("g_")?le:ge;if(!_e.has(fe))return _e.get(fe,$),ke}}catch(xe){ue.e(xe)}finally{ue.f()}}if(++ke===Pe)return ke;if(Ze&&++Fe>10){if(Date.now()>Ee)return $(),ke;Fe=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedCanvasPatterns.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(L,N){for(var Ee,Fe,$=L.width,te=L.height,se=Math.max(Math.hypot(N[0],N[1]),1),me=Math.max(Math.hypot(N[2],N[3]),1),ke=$,Pe=te,Ze="prescale1";se>2&&ke>1||me>2&&Pe>1;){var le=ke,ge=Pe;se>2&&ke>1&&(se/=ke/(le=Math.ceil(ke/2))),me>2&&Pe>1&&(me/=Pe/(ge=Math.ceil(Pe/2))),(Fe=(Ee=this.cachedCanvases.getCanvas(Ze,le,ge)).context).clearRect(0,0,le,ge),Fe.drawImage(L,0,0,ke,Pe,0,0,le,ge),L=Ee.canvas,ke=le,Pe=ge,Ze="prescale1"===Ze?"prescale2":"prescale1"}return{img:L,paintWidth:ke,paintHeight:Pe}}},{key:"_createMaskCanvas",value:function(L){var N=this.ctx,$=L.width,te=L.height,se=this.current.fillColor,me=this.current.patternFill,ke=this.cachedCanvases.getCanvas("maskCanvas",$,te);p(ke.context,L);var Ee=a.Util.transform(N.mozCurrentTransform,[1/$,0,0,-1/te,0,0]);Ee=a.Util.transform(Ee,[1,0,0,1,0,-te]);var Fe=a.Util.applyTransform([0,0],Ee),le=a.Util.applyTransform([$,te],Ee),ge=a.Util.normalizeRect([Fe[0],Fe[1],le[0],le[1]]),re=Math.ceil(ge[2]-ge[0]),ue=Math.ceil(ge[3]-ge[1]),ne=this.cachedCanvases.getCanvas("fillCanvas",re,ue,!0),fe=ne.context,_e=Math.min(Fe[0],le[0]),xe=Math.min(Fe[1],le[1]);fe.translate(-_e,-xe),fe.transform.apply(fe,Ee);var Re=this._scaleImage(ke.canvas,fe.mozCurrentTransformInverse);fe.imageSmoothingEnabled=ee(fe.mozCurrentTransform,L.interpolate),fe.drawImage(Re.img,0,0,Re.img.width,Re.img.height,0,0,$,te),fe.globalCompositeOperation="source-in";var ve=a.Util.transform(fe.mozCurrentTransformInverse,[1,0,0,1,-_e,-xe]);return fe.fillStyle=me?se.getPattern(N,this,ve,!1):se,fe.fillRect(0,0,$,te),{canvas:ne.canvas,offsetX:Math.round(_e),offsetY:Math.round(xe)}}},{key:"setLineWidth",value:function(L){this.current.lineWidth=L,this.ctx.lineWidth=L}},{key:"setLineCap",value:function(L){this.ctx.lineCap=Q[L]}},{key:"setLineJoin",value:function(L){this.ctx.lineJoin=he[L]}},{key:"setMiterLimit",value:function(L){this.ctx.miterLimit=L}},{key:"setDash",value:function(L,N){var $=this.ctx;void 0!==$.setLineDash&&($.setLineDash(L),$.lineDashOffset=N)}},{key:"setRenderingIntent",value:function(L){}},{key:"setFlatness",value:function(L){}},{key:"setGState",value:function(L){for(var N=0,$=L.length;N<$;N++){var te=L[N],me=te[1];switch(te[0]){case"LW":this.setLineWidth(me);break;case"LC":this.setLineCap(me);break;case"LJ":this.setLineJoin(me);break;case"ML":this.setMiterLimit(me);break;case"D":this.setDash(me[0],me[1]);break;case"RI":this.setRenderingIntent(me);break;case"FL":this.setFlatness(me);break;case"Font":this.setFont(me[0],me[1]);break;case"CA":this.current.strokeAlpha=te[1];break;case"ca":this.current.fillAlpha=te[1],this.ctx.globalAlpha=te[1];break;case"BM":this.ctx.globalCompositeOperation=me;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=me?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=me}}}},{key:"beginSMaskGroup",value:function(){var L=this.current.activeSMask,se=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,L.canvas.width,L.canvas.height,!0),me=this.ctx,ke=me.mozCurrentTransform;this.ctx.save();var Pe=se.context;Pe.scale(1/L.scaleX,1/L.scaleY),Pe.translate(-L.offsetX,-L.offsetY),Pe.transform.apply(Pe,ke),L.startTransformInverse=Pe.mozCurrentTransformInverse,o(me,Pe),this.ctx=Pe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(me),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var L=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),U(this.ctx,this.current.activeSMask,L),this.ctx.restore(),this.ctx.save(),o(L,this.ctx),this.current.resumeSMaskCtx=L;var N=a.Util.transform(this.current.activeSMask.startTransformInverse,L.mozCurrentTransform);this.ctx.transform.apply(this.ctx,N),L.save(),L.setTransform(1,0,0,1,0,0),L.clearRect(0,0,L.canvas.width,L.canvas.height),L.restore()}},{key:"resumeSMaskGroup",value:function(){var N=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(N),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var L=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),U(this.ctx,this.current.activeSMask,L),this.ctx.restore(),o(L,this.ctx);var N=a.Util.transform(this.current.activeSMask.startTransformInverse,L.mozCurrentTransform);this.ctx.transform.apply(this.ctx,N)}},{key:"save",value:function(){this.ctx.save();var L=this.current;this.stateStack.push(L),this.current=L.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(L,N,$,te,se,me){this.ctx.transform(L,N,$,te,se,me),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(L,N){for(var $=this.ctx,te=this.current,se=te.x,me=te.y,ke=0,Pe=0,Ze=L.length;ke<Ze;ke++)switch(0|L[ke]){case a.OPS.rectangle:se=N[Pe++],me=N[Pe++];var Ee=N[Pe++],Fe=N[Pe++],le=se+Ee,ge=me+Fe;$.moveTo(se,me),0===Ee||0===Fe?$.lineTo(le,ge):($.lineTo(le,me),$.lineTo(le,ge),$.lineTo(se,ge)),$.closePath();break;case a.OPS.moveTo:se=N[Pe++],me=N[Pe++],$.moveTo(se,me);break;case a.OPS.lineTo:se=N[Pe++],me=N[Pe++],$.lineTo(se,me);break;case a.OPS.curveTo:$.bezierCurveTo(N[Pe],N[Pe+1],N[Pe+2],N[Pe+3],se=N[Pe+4],me=N[Pe+5]),Pe+=6;break;case a.OPS.curveTo2:$.bezierCurveTo(se,me,N[Pe],N[Pe+1],N[Pe+2],N[Pe+3]),se=N[Pe+2],me=N[Pe+3],Pe+=4;break;case a.OPS.curveTo3:$.bezierCurveTo(N[Pe],N[Pe+1],se=N[Pe+2],me=N[Pe+3],se,me),Pe+=4;break;case a.OPS.closePath:$.closePath()}te.setCurrentPoint(se,me)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(L){L=void 0===L||L;var N=this.ctx,$=this.current.strokeColor;if(N.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===w($)&&null!=$&&$.getPattern){var te=this.getSinglePixelWidth();N.save(),N.strokeStyle=$.getPattern(N,this,N.mozCurrentTransformInverse),N.lineWidth=Math.max(te,this.current.lineWidth),N.stroke(),N.restore()}else{var se=this.getSinglePixelWidth();se<0&&-se>=this.current.lineWidth?(N.save(),N.resetTransform(),N.lineWidth=Math.round(this._combinedScaleFactor),N.stroke(),N.restore()):(N.lineWidth=Math.max(se,this.current.lineWidth),N.stroke())}L&&this.consumePath(),N.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(L){L=void 0===L||L;var N=this.ctx,$=this.current.fillColor,se=!1;this.current.patternFill&&(N.save(),N.fillStyle=$.getPattern(N,this,N.mozCurrentTransformInverse),se=!0),this.contentVisible&&(this.pendingEOFill?(N.fill("evenodd"),this.pendingEOFill=!1):N.fill()),se&&N.restore(),L&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=ce}},{key:"eoClip",value:function(){this.pendingClip=de}},{key:"beginText",value:function(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var L=this.pendingTextPaths,N=this.ctx;if(void 0!==L){N.save(),N.beginPath();for(var $=0;$<L.length;$++){var te=L[$];N.setTransform.apply(N,te.transform),N.translate(te.x,te.y),te.addToPath(N,te.fontSize)}N.restore(),N.clip(),N.beginPath(),delete this.pendingTextPaths}else N.beginPath()}},{key:"setCharSpacing",value:function(L){this.current.charSpacing=L}},{key:"setWordSpacing",value:function(L){this.current.wordSpacing=L}},{key:"setHScale",value:function(L){this.current.textHScale=L/100}},{key:"setLeading",value:function(L){this.current.leading=-L}},{key:"setFont",value:function(L,N){var $=this.commonObjs.get(L),te=this.current;if(!$)throw new Error("Can't find font for ".concat(L));if(te.fontMatrix=$.fontMatrix||a.FONT_IDENTITY_MATRIX,(0===te.fontMatrix[0]||0===te.fontMatrix[3])&&(0,a.warn)("Invalid font matrix for font "+L),N<0?(N=-N,te.fontDirection=-1):te.fontDirection=1,this.current.font=$,this.current.fontSize=N,!$.isType3Font){var me="normal";$.black?me="900":$.bold&&(me="bold");var ke=$.italic?"italic":"normal",Pe='"'.concat($.loadedName||"sans-serif",'", ').concat($.fallbackName),Ze=N;N<16?Ze=16:N>100&&(Ze=100),this.current.fontSizeScale=N/Ze,this.ctx.font="".concat(ke," ").concat(me," ").concat(Ze,"px ").concat(Pe)}}},{key:"setTextRenderingMode",value:function(L){this.current.textRenderingMode=L}},{key:"setTextRise",value:function(L){this.current.textRise=L}},{key:"moveText",value:function(L,N){this.current.x=this.current.lineX+=L,this.current.y=this.current.lineY+=N}},{key:"setLeadingMoveText",value:function(L,N){this.setLeading(-N),this.moveText(L,N)}},{key:"setTextMatrix",value:function(L,N,$,te,se,me){this.current.textMatrix=[L,N,$,te,se,me],this.current.textMatrixScale=Math.hypot(L,N),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(L,N,$,te,se){var re,me=this.ctx,ke=this.current,Pe=ke.font,Ze=ke.textRenderingMode,Ee=ke.fontSize/ke.fontSizeScale,Fe=Ze&a.TextRenderingMode.FILL_STROKE_MASK,le=!!(Ze&a.TextRenderingMode.ADD_TO_PATH_FLAG),ge=ke.patternFill&&!Pe.missingFile;(Pe.disableFontFace||le||ge)&&(re=Pe.getPathGenerator(this.commonObjs,L)),Pe.disableFontFace||ge?(me.save(),me.translate(N,$),me.beginPath(),re(me,Ee),te&&me.setTransform.apply(me,te),(Fe===a.TextRenderingMode.FILL||Fe===a.TextRenderingMode.FILL_STROKE)&&me.fill(),(Fe===a.TextRenderingMode.STROKE||Fe===a.TextRenderingMode.FILL_STROKE)&&(se&&(me.resetTransform(),me.lineWidth=Math.round(this._combinedScaleFactor)),me.stroke()),me.restore()):((Fe===a.TextRenderingMode.FILL||Fe===a.TextRenderingMode.FILL_STROKE)&&me.fillText(L,N,$),(Fe===a.TextRenderingMode.STROKE||Fe===a.TextRenderingMode.FILL_STROKE)&&(se?(me.save(),me.moveTo(N,$),me.resetTransform(),me.lineWidth=Math.round(this._combinedScaleFactor),me.strokeText(L,0,0),me.restore()):me.strokeText(L,N,$))),le&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:me.mozCurrentTransform,x:N,y:$,fontSize:Ee,addToPath:re})}},{key:"isFontSubpixelAAEnabled",get:function(){var N=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;N.scale(1.5,1),N.fillText("I",0,10);for(var $=N.getImageData(0,0,10,10).data,te=!1,se=3;se<$.length;se+=4)if($[se]>0&&$[se]<255){te=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",te)}},{key:"showText",value:function(L){var N=this.current,$=N.font;if($.isType3Font)return this.showType3Text(L);var te=N.fontSize;if(0!==te){var fe,se=this.ctx,me=N.fontSizeScale,ke=N.charSpacing,Pe=N.wordSpacing,Ze=N.fontDirection,Ee=N.textHScale*Ze,Fe=L.length,le=$.vertical,ge=le?1:-1,re=$.defaultVMetrics,ue=te*N.fontMatrix[0],ne=N.textRenderingMode===a.TextRenderingMode.FILL&&!$.disableFontFace&&!N.patternFill;if(se.save(),N.patternFill){se.save();var _e=N.fillColor.getPattern(se,this,se.mozCurrentTransformInverse);fe=se.mozCurrentTransform,se.restore(),se.fillStyle=_e}se.transform.apply(se,N.textMatrix),se.translate(N.x,N.y+N.textRise),se.scale(Ee,Ze>0?-1:1);var xe=N.lineWidth,Re=!1,ve=N.textMatrixScale;if(0===ve||0===xe){var Ie=N.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(Ie===a.TextRenderingMode.STROKE||Ie===a.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Re=(xe=this.getSinglePixelWidth())<0)}else xe/=ve;1!==me&&(se.scale(me,me),xe/=me),se.lineWidth=xe;var Ae,oe=0;for(Ae=0;Ae<Fe;++Ae){var pe=L[Ae];if((0,a.isNum)(pe))oe+=ge*pe*te/1e3;else{var Ce=!1,Ne=(pe.isSpace?Pe:0)+ke,Me=pe.fontChar,qe=pe.accent,je=void 0,Ue=void 0,Ge=pe.width;if(le){var We=pe.vmetric||re,$e=-(pe.vmetric?We[1]:.5*Ge)*ue;Ge=We?-We[0]:Ge,je=$e/me,Ue=(oe+We[2]*ue)/me}else je=oe/me,Ue=0;if($.remeasure&&Ge>0){var st=1e3*se.measureText(Me).width/te*me;if(Ge<st&&this.isFontSubpixelAAEnabled){var ct=Ge/st;Ce=!0,se.save(),se.scale(ct,1),je/=ct}else Ge!==st&&(je+=(Ge-st)/2e3*te/me)}this.contentVisible&&(pe.isInFont||$.missingFile)&&(ne&&!qe?se.fillText(Me,je,Ue):(this.paintChar(Me,je,Ue,fe,Re),qe&&this.paintChar(qe.fontChar,je+te*qe.offset.x/me,Ue-te*qe.offset.y/me,fe,Re))),oe+=le?Ge*ue-Ne*Ze:Ge*ue+Ne*Ze,Ce&&se.restore()}}le?N.y-=oe:N.x+=oe*Ee,se.restore()}}},{key:"showType3Text",value:function(L){var re,ue,ne,fe,N=this.ctx,$=this.current,te=$.font,se=$.fontSize,me=$.fontDirection,ke=te.vertical?1:-1,Pe=$.charSpacing,Ze=$.wordSpacing,Ee=$.textHScale*me,Fe=$.fontMatrix||a.FONT_IDENTITY_MATRIX,le=L.length;if($.textRenderingMode!==a.TextRenderingMode.INVISIBLE&&0!==se){for(this._cachedGetSinglePixelWidth=null,N.save(),N.transform.apply(N,$.textMatrix),N.translate($.x,$.y),N.scale(Ee,me),re=0;re<le;++re)if((0,a.isNum)(ue=L[re]))this.ctx.translate(fe=ke*ue*se/1e3,0),$.x+=fe*Ee;else{var _e=(ue.isSpace?Ze:0)+Pe,xe=te.charProcOperatorList[ue.operatorListId];if(xe){this.contentVisible&&(this.processingType3=ue,this.save(),N.scale(se,se),N.transform.apply(N,Fe),this.executeOperatorList(xe),this.restore());var Re=a.Util.applyTransform([ue.width,0],Fe);N.translate(ne=Re[0]*se+_e,0),$.x+=ne*Ee}else(0,a.warn)('Type3 character "'.concat(ue.operatorListId,'" is not available.'))}N.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(L,N){}},{key:"setCharWidthAndBounds",value:function(L,N,$,te,se,me){this.ctx.rect($,te,se-$,me-te),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(L){var $,N=this;if("TilingPattern"===L[0]){var te=L[1],se=this.baseTransform||this.ctx.mozCurrentTransform.slice();$=new I.TilingPattern(L,te,this.ctx,{createCanvasGraphics:function(Pe){return new J(Pe,N.commonObjs,N.objs,N.canvasFactory)}},se)}else $=this._getPattern(L[1],L[2]);return $}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(L,N,$){var te=a.Util.makeHexColor(L,N,$);this.ctx.strokeStyle=te,this.current.strokeColor=te}},{key:"setFillRGBColor",value:function(L,N,$){var te=a.Util.makeHexColor(L,N,$);this.ctx.fillStyle=te,this.current.fillColor=te,this.current.patternFill=!1}},{key:"_getPattern",value:function(L){var $,N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(L)?$=this.cachedPatterns.get(L):($=(0,I.getShadingPattern)(this.objs.get(L),this.cachedCanvasPatterns),this.cachedPatterns.set(L,$)),N&&($.matrix=N),$}},{key:"shadingFill",value:function(L){if(this.contentVisible){var N=this.ctx;this.save();var $=this._getPattern(L);N.fillStyle=$.getPattern(N,this,N.mozCurrentTransformInverse,!0);var te=N.mozCurrentTransformInverse;if(te){var se=N.canvas,me=se.width,ke=se.height,Pe=a.Util.applyTransform([0,0],te),Ze=a.Util.applyTransform([0,ke],te),Ee=a.Util.applyTransform([me,0],te),Fe=a.Util.applyTransform([me,ke],te),le=Math.min(Pe[0],Ze[0],Ee[0],Fe[0]),ge=Math.min(Pe[1],Ze[1],Ee[1],Fe[1]),re=Math.max(Pe[0],Ze[0],Ee[0],Fe[0]),ue=Math.max(Pe[1],Ze[1],Ee[1],Fe[1]);this.ctx.fillRect(le,ge,re-le,ue-ge)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,a.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,a.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(L,N){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(L)&&6===L.length&&this.transform.apply(this,L),this.baseTransform=this.ctx.mozCurrentTransform,N)&&(this.ctx.rect(N[0],N[1],N[2]-N[0],N[3]-N[1]),this.clip(),this.endPath())}},{key:"paintFormXObjectEnd",value:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(L){if(this.contentVisible){this.save();var N=this.ctx;L.isolated||(0,a.info)("TODO: Support non-isolated groups."),L.knockout&&(0,a.warn)("Knockout groups not supported.");var $=N.mozCurrentTransform;if(L.matrix&&N.transform.apply(N,L.matrix),!L.bbox)throw new Error("Bounding box is required.");var te=a.Util.getAxialAlignedBoundingBox(L.bbox,N.mozCurrentTransform);te=a.Util.intersect(te,[0,0,N.canvas.width,N.canvas.height])||[0,0,0,0];var me=Math.floor(te[0]),ke=Math.floor(te[1]),Pe=Math.max(Math.ceil(te[2])-me,1),Ze=Math.max(Math.ceil(te[3])-ke,1),Ee=1,Fe=1;Pe>f&&(Ee=Pe/f,Pe=f),Ze>f&&(Fe=Ze/f,Ze=f);var le="groupAt"+this.groupLevel;L.smask&&(le+="_smask_"+this.smaskCounter++%2);var ge=this.cachedCanvases.getCanvas(le,Pe,Ze,!0),re=ge.context;re.scale(1/Ee,1/Fe),re.translate(-me,-ke),re.transform.apply(re,$),L.smask?this.smaskStack.push({canvas:ge.canvas,context:re,offsetX:me,offsetY:ke,scaleX:Ee,scaleY:Fe,subtype:L.smask.subtype,backdrop:L.smask.backdrop,transferMap:L.smask.transferMap||null,startTransformInverse:null}):(N.setTransform(1,0,0,1,0,0),N.translate(me,ke),N.scale(Ee,Fe)),o(N,re),this.ctx=re,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(N),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(L){if(this.contentVisible){this.groupLevel--;var N=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled=!1,L.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(N.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(L,N,$,te){this.save(),s(this.ctx),this.current=new P,Array.isArray(N)&&4===N.length&&(this.ctx.rect(N[0],N[1],N[2]-N[0],N[3]-N[1]),this.clip(),this.endPath()),this.transform.apply(this,$),this.transform.apply(this,te)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(L){if(this.contentVisible){var N=this.ctx,$=L.width,te=L.height,se=this.processingType3;if(se&&void 0===se.compiled&&(se.compiled=$<=1e3&&te<=1e3?function(J){var se,me,ke,Pe,L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=J.width,$=J.height,te=N+1,Ze=new Uint8Array(te*($+1)),Ee=N+7&-8,Fe=J.data,le=new Uint8Array(Ee*$),ge=0;for(se=0,me=Fe.length;se<me;se++)for(var re=Fe[se],ue=128;ue>0;)le[ge++]=re&ue?0:255,ue>>=1;var ne=0;for(0!==le[ge=0]&&(Ze[0]=1,++ne),ke=1;ke<N;ke++)le[ge]!==le[ge+1]&&(Ze[ke]=le[ge]?2:1,++ne),ge++;for(0!==le[ge]&&(Ze[ke]=2,++ne),se=1;se<$;se++){Pe=se*te,le[(ge=se*Ee)-Ee]!==le[ge]&&(Ze[Pe]=le[ge]?1:8,++ne);var fe=(le[ge]?4:0)+(le[ge-Ee]?8:0);for(ke=1;ke<N;ke++)L[fe=(fe>>2)+(le[ge+1]?4:0)+(le[ge-Ee+1]?8:0)]&&(Ze[Pe+ke]=L[fe],++ne),ge++;if(le[ge-Ee]!==le[ge]&&(Ze[Pe+ke]=le[ge]?2:4,++ne),ne>1e3)return null}for(Pe=se*te,0!==le[ge=Ee*($-1)]&&(Ze[Pe]=8,++ne),ke=1;ke<N;ke++)le[ge]!==le[ge+1]&&(Ze[Pe+ke]=le[ge]?4:8,++ne),ge++;if(0!==le[ge]&&(Ze[Pe+ke]=4,++ne),ne>1e3)return null;var _e=new Int32Array([0,te,-1,0,-te,0,0,0,1]),xe=[];for(se=0;ne&&se<=$;se++){for(var Re=se*te,ve=Re+N;Re<ve&&!Ze[Re];)Re++;if(Re!==ve){var Ie=[Re%te,se],oe=Re,Ae=Ze[Re];do{var pe=_e[Ae];do{Re+=pe}while(!Ze[Re]);var Ce=Ze[Re];5!==Ce&&10!==Ce?(Ae=Ce,Ze[Re]=0):Ze[Re]&=(Ae=Ce&51*Ae>>4)>>2|Ae<<2,Ie.push(Re%te,Re/te|0),Ze[Re]||--ne}while(oe!==Re);xe.push(Ie),--se}}return function(qe){qe.save(),qe.scale(1/N,-1/$),qe.translate(0,-$),qe.beginPath();for(var je=0,Ue=xe.length;je<Ue;je++){var Ge=xe[je];qe.moveTo(Ge[0],Ge[1]);for(var We=2,$e=Ge.length;We<$e;We+=2)qe.lineTo(Ge[We],Ge[We+1])}qe.fill(),qe.beginPath(),qe.restore()}}({data:L.data,width:$,height:te}):null),null!=se&&se.compiled)return void se.compiled(N);var me=this._createMaskCanvas(L),ke=me.canvas;N.save(),N.setTransform(1,0,0,1,0,0),N.drawImage(ke,me.offsetX,me.offsetY),N.restore()}}},{key:"paintImageMaskXObjectRepeat",value:function(L,N){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,te=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,se=arguments.length>4?arguments[4]:void 0,me=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var ke=this.ctx;ke.save();var Pe=ke.mozCurrentTransform;ke.transform(N,$,te,se,0,0);var Ze=this._createMaskCanvas(L);ke.setTransform(1,0,0,1,0,0);for(var Ee=0,Fe=me.length;Ee<Fe;Ee+=2){var le=a.Util.transform(Pe,[N,$,te,se,me[Ee],me[Ee+1]]),ge=a.Util.applyTransform([0,0],le),re=D(ge,2),ue=re[0],ne=re[1];ke.drawImage(Ze.canvas,ue,ne)}ke.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(L){if(this.contentVisible)for(var N=this.ctx,$=this.current.fillColor,te=this.current.patternFill,se=0,me=L.length;se<me;se++){var ke=L[se],Pe=ke.width,Ze=ke.height,Ee=this.cachedCanvases.getCanvas("maskCanvas",Pe,Ze),Fe=Ee.context;Fe.save(),p(Fe,ke),Fe.globalCompositeOperation="source-in",Fe.fillStyle=te?$.getPattern(Fe,this,N.mozCurrentTransformInverse,!1):$,Fe.fillRect(0,0,Pe,Ze),Fe.restore(),N.save(),N.transform.apply(N,ke.transform),N.scale(1,-1),N.drawImage(Ee.canvas,0,0,Pe,Ze,0,-1,1,1),N.restore()}}},{key:"paintImageXObject",value:function(L){if(this.contentVisible){var N=L.startsWith("g_")?this.commonObjs.get(L):this.objs.get(L);if(!N)return void(0,a.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject(N)}}},{key:"paintImageXObjectRepeat",value:function(L,N,$,te){if(this.contentVisible){var se=L.startsWith("g_")?this.commonObjs.get(L):this.objs.get(L);if(!se)return void(0,a.warn)("Dependent image isn't ready yet");for(var me=se.width,ke=se.height,Pe=[],Ze=0,Ee=te.length;Ze<Ee;Ze+=2)Pe.push({transform:[N,0,0,$,te[Ze],te[Ze+1]],x:0,y:0,w:me,h:ke});this.paintInlineImageXObjectGroup(se,Pe)}}},{key:"paintInlineImageXObject",value:function(L){if(this.contentVisible){var se,N=L.width,$=L.height,te=this.ctx;if(this.save(),te.scale(1/N,-1/$),"function"==typeof HTMLElement&&L instanceof HTMLElement||!L.data)se=L;else{var me=this.cachedCanvases.getCanvas("inlineImage",N,$);A(me.context,L,this.current.transferMaps),se=me.canvas}var Pe=this._scaleImage(se,te.mozCurrentTransformInverse);if(te.imageSmoothingEnabled=ee(te.mozCurrentTransform,L.interpolate),te.drawImage(Pe.img,0,0,Pe.paintWidth,Pe.paintHeight,0,-$,N,$),this.imageLayer){var Ze=this.getCanvasPosition(0,-$);this.imageLayer.appendImage({imgData:L,left:Ze[0],top:Ze[1],width:N/te.mozCurrentTransformInverse[0],height:$/te.mozCurrentTransformInverse[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(L,N){if(this.contentVisible){var $=this.ctx,te=L.width,se=L.height,me=this.cachedCanvases.getCanvas("inlineImage",te,se);A(me.context,L,this.current.transferMaps);for(var Pe=0,Ze=N.length;Pe<Ze;Pe++){var Ee=N[Pe];if($.save(),$.transform.apply($,Ee.transform),$.scale(1,-1),$.drawImage(me.canvas,Ee.x,Ee.y,Ee.w,Ee.h,0,-1,1,1),this.imageLayer){var Fe=this.getCanvasPosition(Ee.x,Ee.y);this.imageLayer.appendImage({imgData:L,left:Fe[0],top:Fe[1],width:te,height:se})}$.restore()}}}},{key:"paintSolidColorImageMask",value:function(){!this.contentVisible||this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(L){}},{key:"markPointProps",value:function(L,N){}},{key:"beginMarkedContent",value:function(L){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(L,N){this.markedContentStack.push("OC"===L?{visible:this.optionalContentConfig.isVisible(N)}:{visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var L=this.ctx;this.pendingClip&&(this.pendingClip===de?L.clip("evenodd"):L.clip(),this.pendingClip=null),L.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var L=this.ctx.mozCurrentTransform,N=Math.abs(L[0]*L[3]-L[2]*L[1]),$=Math.pow(L[0],2)+Math.pow(L[2],2),te=Math.pow(L[1],2)+Math.pow(L[3],2),se=Math.sqrt(Math.max($,te))/N;this._cachedGetSinglePixelWidth=$!==te&&this._combinedScaleFactor*se>1?-this._combinedScaleFactor*se:N>Number.EPSILON?se:1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(L,N){var $=this.ctx.mozCurrentTransform;return[$[0]*L+$[2]*N+$[4],$[1]*L+$[3]*N+$[5]]}},{key:"isContentVisible",value:function(){for(var L=this.markedContentStack.length-1;L>=0;L--)if(!this.markedContentStack[L].visible)return!1;return!0}}]),J}();for(var ie in k.CanvasGraphics=be,a.OPS)void 0!==be.prototype[ie]&&(be.prototype[a.OPS[ie]]=be.prototype[ie])},(Y,k,n)=>{"use strict";function a(_){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}Object.defineProperty(k,"__esModule",{value:!0}),k.getShadingPattern=function(_,C){switch(_[0]){case"RadialAxial":return new l(_,C);case"Mesh":return new x(_);case"Dummy":return new m}throw new Error("Unknown IR type: ".concat(_[0]))},k.TilingPattern=void 0;var I=n(4);function E(_,C){var S="undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(!S){if(Array.isArray(_)||(S=function(_,C){if(_){if("string"==typeof _)return B(_,C);var S=Object.prototype.toString.call(_).slice(8,-1);if("Object"===S&&_.constructor&&(S=_.constructor.name),"Map"===S||"Set"===S)return Array.from(_);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return B(_,C)}}(_))||C&&_&&"number"==typeof _.length){S&&(_=S);var P=0,A=function(){};return{s:A,n:function(){return P>=_.length?{done:!0}:{done:!1,value:_[P++]}},e:function(i){throw i},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,p=!0,o=!1;return{s:function(){S=S.call(_)},n:function(){var i=S.next();return p=i.done,i},e:function(i){o=!0,s=i},f:function(){try{!p&&null!=S.return&&S.return()}finally{if(o)throw s}}}}function B(_,C){(null==C||C>_.length)&&(C=_.length);for(var S=0,P=new Array(C);S<C;S++)P[S]=_[S];return P}function R(_,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),C&&H(_,C)}function H(_,C){return(H=Object.setPrototypeOf||function(P,A){return P.__proto__=A,P})(_,C)}function z(_){var C=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_){return!1}}();return function(){var A,P=j(_);if(C){var p=j(this).constructor;A=Reflect.construct(P,arguments,p)}else A=P.apply(this,arguments);return D(this,A)}}function D(_,C){if(C&&("object"===a(C)||"function"==typeof C))return C;if(void 0!==C)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_)}function j(_){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(_)}function e(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function F(_,C){for(var S=0;S<C.length;S++){var P=C[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}function q(_,C,S){return C&&F(_.prototype,C),S&&F(_,S),_}function M(_,C){if(C&&"undefined"!=typeof Path2D){var S=C[2]-C[0],P=C[3]-C[1],A=new Path2D;A.rect(C[0],C[1],S,P),_.clip(A)}}var f=function(){function _(){e(this,_),this.constructor===_&&(0,I.unreachable)("Cannot initialize BaseShadingPattern.")}return q(_,[{key:"getPattern",value:function(){(0,I.unreachable)("Abstract method `getPattern` called.")}}]),_}(),l=function(_){R(S,_);var C=z(S);function S(P,A){var p;return e(this,S),(p=C.call(this))._type=P[1],p._bbox=P[2],p._colorStops=P[3],p._p0=P[4],p._p1=P[5],p._r0=P[6],p._r1=P[7],p.matrix=null,p.cachedCanvasPatterns=A,p}return q(S,[{key:"_createGradient",value:function(A){var p;"axial"===this._type?p=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(p=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var s,o=E(this._colorStops);try{for(o.s();!(s=o.n()).done;){var c=s.value;p.addColorStop(c[0],c[1])}}catch(i){o.e(i)}finally{o.f()}return p}},{key:"getPattern",value:function(A,p,o){var c,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(s)M(A,this._bbox),c=this._createGradient(A);else if(this.cachedCanvasPatterns.has(this))c=this.cachedCanvasPatterns.get(this);else{var i=p.cachedCanvases.getCanvas("pattern",p.ctx.canvas.width,p.ctx.canvas.height,!0),h=i.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.setTransform.apply(h,p.baseTransform),this.matrix&&h.transform.apply(h,this.matrix),M(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),c=A.createPattern(i.canvas,"repeat"),this.cachedCanvasPatterns.set(this,c)}if(!s){var v=new DOMMatrix(o);try{c.setTransform(v)}catch(U){(0,I.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==U?void 0:U.message,'".'))}}return c}}]),S}(f);function u(_,C,S,P,A,p,o,s){var U,c=C.coords,i=C.colors,h=_.data,v=4*_.width;c[S+1]>c[P+1]&&(U=S,S=P,P=U,U=p,p=o,o=U),c[P+1]>c[A+1]&&(U=P,P=A,A=U,U=o,o=s,s=U),c[S+1]>c[P+1]&&(U=S,S=P,P=U,U=p,p=o,o=U);var ee=(c[S]+C.offsetX)*C.scaleX,Q=(c[S+1]+C.offsetY)*C.scaleY,he=(c[P]+C.offsetX)*C.scaleX,ce=(c[P+1]+C.offsetY)*C.scaleY,de=(c[A]+C.offsetX)*C.scaleX,be=(c[A+1]+C.offsetY)*C.scaleY;if(!(Q>=be))for(var Ze,Ee,Fe,le,ge,re,ue,ne,ie=i[p],J=i[p+1],G=i[p+2],L=i[o],N=i[o+1],$=i[o+2],te=i[s],se=i[s+1],me=i[s+2],ke=Math.round(Q),Pe=Math.round(be),fe=ke;fe<=Pe;fe++){if(fe<ce){var _e;Ze=ee-(ee-he)*(_e=fe<Q?0:(Q-fe)/(Q-ce)),Ee=ie-(ie-L)*_e,Fe=J-(J-N)*_e,le=G-(G-$)*_e}else{var xe;Ze=he-(he-de)*(xe=fe>be?1:ce===be?0:(ce-fe)/(ce-be)),Ee=L-(L-te)*xe,Fe=N-(N-se)*xe,le=$-($-me)*xe}var Re=void 0;ge=ee-(ee-de)*(Re=fe<Q?0:fe>be?1:(Q-fe)/(Q-be)),re=ie-(ie-te)*Re,ue=J-(J-se)*Re,ne=G-(G-me)*Re;for(var ve=Math.round(Math.min(Ze,ge)),Ie=Math.round(Math.max(Ze,ge)),oe=v*fe+4*ve,Ae=ve;Ae<=Ie;Ae++)(Re=(Ze-Ae)/(Ze-ge))<0?Re=0:Re>1&&(Re=1),h[oe++]=Ee-(Ee-re)*Re|0,h[oe++]=Fe-(Fe-ue)*Re|0,h[oe++]=le-(le-ne)*Re|0,h[oe++]=255}}function b(_,C,S){var p,o,P=C.coords,A=C.colors;switch(C.type){case"lattice":var s=C.verticesPerRow,c=Math.floor(P.length/s)-1,i=s-1;for(p=0;p<c;p++)for(var h=p*s,v=0;v<i;v++,h++)u(_,S,P[h],P[h+1],P[h+s],A[h],A[h+1],A[h+s]),u(_,S,P[h+s+1],P[h+1],P[h+s],A[h+s+1],A[h+1],A[h+s]);break;case"triangles":for(p=0,o=P.length;p<o;p+=3)u(_,S,P[p],P[p+1],P[p+2],A[p],A[p+1],A[p+2]);break;default:throw new Error("illegal figure")}}var x=function(_){R(S,_);var C=z(S);function S(P){var A;return e(this,S),(A=C.call(this))._coords=P[2],A._colors=P[3],A._figures=P[4],A._bounds=P[5],A._bbox=P[7],A._background=P[8],A.matrix=null,A}return q(S,[{key:"_createMeshCanvas",value:function(A,p,o){var h=Math.floor(this._bounds[0]),v=Math.floor(this._bounds[1]),U=Math.ceil(this._bounds[2])-h,ee=Math.ceil(this._bounds[3])-v,Q=Math.min(Math.ceil(Math.abs(U*A[0]*1.1)),3e3),he=Math.min(Math.ceil(Math.abs(ee*A[1]*1.1)),3e3),ce=U/Q,de=ee/he,be={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-v,scaleX:1/ce,scaleY:1/de},G=o.getCanvas("mesh",Q+4,he+4,!1),L=G.context,N=L.createImageData(Q,he);if(p)for(var $=N.data,te=0,se=$.length;te<se;te+=4)$[te]=p[0],$[te+1]=p[1],$[te+2]=p[2],$[te+3]=255;var ke,me=E(this._figures);try{for(me.s();!(ke=me.n()).done;)b(N,ke.value,be)}catch(Ee){me.e(Ee)}finally{me.f()}return L.putImageData(N,2,2),{canvas:G.canvas,offsetX:h-2*ce,offsetY:v-2*de,scaleX:ce,scaleY:de}}},{key:"getPattern",value:function(A,p,o){var c,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(M(A,this._bbox),s)c=I.Util.singularValueDecompose2dScale(A.mozCurrentTransform);else if(c=I.Util.singularValueDecompose2dScale(p.baseTransform),this.matrix){var i=I.Util.singularValueDecompose2dScale(this.matrix);c=[c[0]*i[0],c[1]*i[1]]}var h=this._createMeshCanvas(c,s?null:this._background,p.cachedCanvases);return s||(A.setTransform.apply(A,p.baseTransform),this.matrix&&A.transform.apply(A,this.matrix)),A.translate(h.offsetX,h.offsetY),A.scale(h.scaleX,h.scaleY),A.createPattern(h.canvas,"no-repeat")}}]),S}(f),m=function(_){R(S,_);var C=z(S);function S(){return e(this,S),C.apply(this,arguments)}return q(S,[{key:"getPattern",value:function(){return"hotpink"}}]),S}(f);k.TilingPattern=function(){function _(C,S,P,A,p){e(this,_),this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=S,this.ctx=P,this.canvasGraphicsFactory=A,this.baseTransform=p}return q(_,[{key:"createPatternCanvas",value:function(S){var P=this.operatorList,A=this.bbox,p=this.xstep,o=this.ystep,s=this.paintType,i=this.color,h=this.canvasGraphicsFactory;(0,I.info)("TilingType: "+this.tilingType);var v=A[0],U=A[1],ee=A[2],Q=A[3],he=I.Util.singularValueDecompose2dScale(this.matrix),ce=I.Util.singularValueDecompose2dScale(this.baseTransform),de=[he[0]*ce[0],he[1]*ce[1]],be=this.getSizeAndScale(p,this.ctx.canvas.width,de[0]),ie=this.getSizeAndScale(o,this.ctx.canvas.height,de[1]),J=S.cachedCanvases.getCanvas("pattern",be.size,ie.size,!0),G=J.context,L=h.createCanvasGraphics(G);L.groupLevel=S.groupLevel,this.setFillAndStrokeStyleToContext(L,s,i);var N=v,$=U,te=ee,se=Q;return v<0&&(N=0,te+=Math.abs(v)),U<0&&($=0,se+=Math.abs(U)),G.translate(-be.scale*N,-ie.scale*$),L.transform(be.scale,0,0,ie.scale,0,0),this.clipBbox(L,N,$,te,se),L.baseTransform=L.ctx.mozCurrentTransform.slice(),L.executeOperatorList(P),L.endDrawing(),{canvas:J.canvas,scaleX:be.scale,scaleY:ie.scale,offsetX:N,offsetY:$}}},{key:"getSizeAndScale",value:function(S,P,A){S=Math.abs(S);var p=Math.max(_.MAX_PATTERN_SIZE,P),o=Math.ceil(S*A);return o>=p?o=p:A=o/S,{scale:A,size:o}}},{key:"clipBbox",value:function(S,P,A,p,o){S.ctx.rect(P,A,p-P,o-A),S.clip(),S.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(S,P,A){var p=S.ctx,o=S.current;switch(P){case 1:var s=this.ctx;p.fillStyle=s.fillStyle,p.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case 2:var c=I.Util.makeHexColor(A[0],A[1],A[2]);p.fillStyle=c,p.strokeStyle=c,o.fillColor=c,o.strokeColor=c;break;default:throw new I.FormatError("Unsupported paint type: ".concat(P))}}},{key:"getPattern",value:function(S,P,A){var p=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=A;p||(o=I.Util.transform(o,P.baseTransform),this.matrix&&(o=I.Util.transform(o,this.matrix)));var s=this.createPatternCanvas(P),c=new DOMMatrix(o);c=(c=c.translate(s.offsetX,s.offsetY)).scale(1/s.scaleX,1/s.scaleY);var i=S.createPattern(s.canvas,"repeat");try{i.setTransform(c)}catch(h){(0,I.warn)('TilingPattern.getPattern: "'.concat(null==h?void 0:h.message,'".'))}return i}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,I.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),_}()},(Y,k)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.GlobalWorkerOptions=void 0;var n=Object.create(null);k.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.MessageHandler=void 0;var F,a=(F=n(2))&&F.__esModule?F:{default:F},I=n(4);function w(F,q,M,f,l,u,b){try{var x=F[u](b),m=x.value}catch(d){return void M(d)}x.done?q(m):Promise.resolve(m).then(f,l)}function H(F,q){for(var M=0;M<q.length;M++){var f=q[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}function D(F){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(F)}function j(F){if(!(F instanceof Error||"object"===D(F)&&null!==F))return(0,I.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),F;switch(F.name){case"AbortException":return new I.AbortException(F.message);case"MissingPDFException":return new I.MissingPDFException(F.message);case"PasswordException":return new I.PasswordException(F.message,F.code);case"UnexpectedResponseException":return new I.UnexpectedResponseException(F.message,F.status);case"UnknownErrorException":return new I.UnknownErrorException(F.message,F.details);default:return new I.UnknownErrorException(F.message,F.toString())}}k.MessageHandler=function(){function F(q,M,f){var l=this;(function(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")})(this,F),this.sourceName=q,this.targetName=M,this.comObj=f,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(u){var b=u.data;if(b.targetName===l.sourceName){if(b.stream)return void l._processStreamMessage(b);if(b.callback){var x=b.callbackId,m=l.callbackCapabilities[x];if(!m)throw new Error("Cannot resolve callback ".concat(x));if(delete l.callbackCapabilities[x],1===b.callback)m.resolve(b.data);else{if(2!==b.callback)throw new Error("Unexpected callback case");m.reject(j(b.reason))}return}var d=l.actionHandler[b.action];if(!d)throw new Error("Unknown action from worker: ".concat(b.action));if(b.callbackId){var T=l.sourceName,O=b.sourceName;return void new Promise(function(_){_(d(b.data))}).then(function(_){f.postMessage({sourceName:T,targetName:O,callback:1,callbackId:b.callbackId,data:_})},function(_){f.postMessage({sourceName:T,targetName:O,callback:2,callbackId:b.callbackId,reason:j(_)})})}if(b.streamId)return void l._createStreamSink(b);d(b.data)}},f.addEventListener("message",this._onComObjOnMessage)}return function(F,q,M){q&&H(F.prototype,q)}(F,[{key:"on",value:function(M,f){var l=this.actionHandler;if(l[M])throw new Error('There is already an actionName called "'.concat(M,'"'));l[M]=f}},{key:"send",value:function(M,f,l){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,data:f},l)}},{key:"sendWithPromise",value:function(M,f,l){var u=this.callbackId++,b=(0,I.createPromiseCapability)();this.callbackCapabilities[u]=b;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:M,callbackId:u,data:f},l)}catch(x){b.reject(x)}return b.promise}},{key:"sendWithStream",value:function(M,f,l,u){var b=this,x=this.streamId++,m=this.sourceName,d=this.targetName,T=this.comObj;return new ReadableStream({start:function(_){var C=(0,I.createPromiseCapability)();return b.streamControllers[x]={controller:_,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},b._postMessage({sourceName:m,targetName:d,action:M,streamId:x,data:f,desiredSize:_.desiredSize},u),C.promise},pull:function(_){var C=(0,I.createPromiseCapability)();return b.streamControllers[x].pullCall=C,T.postMessage({sourceName:m,targetName:d,stream:6,streamId:x,desiredSize:_.desiredSize}),C.promise},cancel:function(_){(0,I.assert)(_ instanceof Error,"cancel must have a valid reason");var C=(0,I.createPromiseCapability)();return b.streamControllers[x].cancelCall=C,b.streamControllers[x].isClosed=!0,T.postMessage({sourceName:m,targetName:d,stream:1,streamId:x,reason:j(_)}),C.promise}},l)}},{key:"_createStreamSink",value:function(M){var f=M.streamId,l=this.sourceName,u=M.sourceName,b=this.comObj,x=this,m=this.actionHandler[M.action],d={enqueue:function(O){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,C=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var S=this.desiredSize;this.desiredSize-=_,S>0&&this.desiredSize<=0&&(this.sinkCapability=(0,I.createPromiseCapability)(),this.ready=this.sinkCapability.promise),x._postMessage({sourceName:l,targetName:u,stream:4,streamId:f,chunk:O},C)}},close:function(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:l,targetName:u,stream:3,streamId:f}),delete x.streamSinks[f])},error:function(O){(0,I.assert)(O instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:l,targetName:u,stream:5,streamId:f,reason:j(O)}))},sinkCapability:(0,I.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:M.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[f]=d,new Promise(function(T){T(m(M.data,d))}).then(function(){b.postMessage({sourceName:l,targetName:u,stream:8,streamId:f,success:!0})},function(T){b.postMessage({sourceName:l,targetName:u,stream:8,streamId:f,reason:j(T)})})}},{key:"_processStreamMessage",value:function(M){var f=M.streamId,l=this.sourceName,u=M.sourceName,b=this.comObj,x=this.streamControllers[f],m=this.streamSinks[f];switch(M.stream){case 8:M.success?x.startCall.resolve():x.startCall.reject(j(M.reason));break;case 7:M.success?x.pullCall.resolve():x.pullCall.reject(j(M.reason));break;case 6:if(!m){b.postMessage({sourceName:l,targetName:u,stream:7,streamId:f,success:!0});break}m.desiredSize<=0&&M.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=M.desiredSize,new Promise(function(d){d(m.onPull&&m.onPull())}).then(function(){b.postMessage({sourceName:l,targetName:u,stream:7,streamId:f,success:!0})},function(d){b.postMessage({sourceName:l,targetName:u,stream:7,streamId:f,reason:j(d)})});break;case 4:if((0,I.assert)(x,"enqueue should have stream controller"),x.isClosed)break;x.controller.enqueue(M.chunk);break;case 3:if((0,I.assert)(x,"close should have stream controller"),x.isClosed)break;x.isClosed=!0,x.controller.close(),this._deleteStreamController(x,f);break;case 5:(0,I.assert)(x,"error should have stream controller"),x.controller.error(j(M.reason)),this._deleteStreamController(x,f);break;case 2:M.success?x.cancelCall.resolve():x.cancelCall.reject(j(M.reason)),this._deleteStreamController(x,f);break;case 1:if(!m)break;new Promise(function(d){d(m.onCancel&&m.onCancel(j(M.reason)))}).then(function(){b.postMessage({sourceName:l,targetName:u,stream:2,streamId:f,success:!0})},function(d){b.postMessage({sourceName:l,targetName:u,stream:2,streamId:f,reason:j(d)})}),m.sinkCapability.reject(j(M.reason)),m.isCancelled=!0,delete this.streamSinks[f];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(q=function(F){return function(){var q=this,M=arguments;return new Promise(function(f,l){var u=F.apply(q,M);function b(m){w(u,f,l,b,x,"next",m)}function x(m){w(u,f,l,b,x,"throw",m)}b(void 0)})}}(a.default.mark(function f(l,u){return a.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Promise.allSettled([l.startCall&&l.startCall.promise,l.pullCall&&l.pullCall.promise,l.cancelCall&&l.cancelCall.promise]);case 2:delete this.streamControllers[u];case 3:case"end":return x.stop()}},f,this)})),function(f,l){return q.apply(this,arguments)})},{key:"_postMessage",value:function(M,f){f&&this.postMessageTransfers?this.comObj.postMessage(M,f):this.comObj.postMessage(M)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),F;var q}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.Metadata=void 0;var a=n(4);function E(R,H){for(var z=0;z<H.length;z++){var D=H[z];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(R,D.key,D)}}k.Metadata=function(){function R(H){var z=H.parsedData,D=H.rawData;(function(R,H){if(!(R instanceof H))throw new TypeError("Cannot call a class as a function")})(this,R),this._metadataMap=z,this._data=D}return function(R,H,z){H&&E(R.prototype,H)}(R,[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(z){var D;return null!==(D=this._metadataMap.get(z))&&void 0!==D?D:null}},{key:"getAll",value:function(){return(0,a.objectFromMap)(this._metadataMap)}},{key:"has",value:function(z){return this._metadataMap.has(z)}}]),R}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.OptionalContentConfig=void 0;var a=n(4);function I(X,V){var j="undefined"!=typeof Symbol&&X[Symbol.iterator]||X["@@iterator"];if(!j){if(Array.isArray(X)||(j=function(X,V){if(X){if("string"==typeof X)return w(X,V);var j=Object.prototype.toString.call(X).slice(8,-1);if("Object"===j&&X.constructor&&(j=X.constructor.name),"Map"===j||"Set"===j)return Array.from(X);if("Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return w(X,V)}}(X))||V&&X&&"number"==typeof X.length){j&&(X=j);var e=0,F=function(){};return{s:F,n:function(){return e>=X.length?{done:!0}:{done:!1,value:X[e++]}},e:function(u){throw u},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,q=!0,M=!1;return{s:function(){j=j.call(X)},n:function(){var u=j.next();return q=u.done,u},e:function(u){M=!0,f=u},f:function(){try{!q&&null!=j.return&&j.return()}finally{if(M)throw f}}}}function w(X,V){(null==V||V>X.length)&&(V=X.length);for(var j=0,e=new Array(V);j<V;j++)e[j]=X[j];return e}function B(X,V){for(var j=0;j<V.length;j++){var e=V[j];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(X,e.key,e)}}function H(X,V){if(!(X instanceof V))throw new TypeError("Cannot call a class as a function")}var z=function X(V,j){H(this,X),this.visible=!0,this.name=V,this.intent=j};k.OptionalContentConfig=function(){function X(V){if(H(this,X),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==V){this.name=V.name,this.creator=V.creator,this._order=V.order;var e,j=I(V.groups);try{for(j.s();!(e=j.n()).done;){var F=e.value;this._groups.set(F.id,new z(F.name,F.intent))}}catch(T){j.e(T)}finally{j.f()}if("OFF"===V.baseState){var M,q=I(this._groups);try{for(q.s();!(M=q.n()).done;)M.value.visible=!1}catch(T){q.e(T)}finally{q.f()}}var u,l=I(V.on);try{for(l.s();!(u=l.n()).done;)this._groups.get(u.value).visible=!0}catch(T){l.e(T)}finally{l.f()}var m,x=I(V.off);try{for(x.s();!(m=x.n()).done;)this._groups.get(m.value).visible=!1}catch(T){x.e(T)}finally{x.f()}}}return function(X,V,j){V&&B(X.prototype,V)}(X,[{key:"_evaluateVisibilityExpression",value:function(j){var e=j.length;if(e<2)return!0;for(var F=j[0],q=1;q<e;q++){var M=j[q],f=void 0;if(Array.isArray(M))f=this._evaluateVisibilityExpression(M);else{if(!this._groups.has(M))return(0,a.warn)("Optional content group not found: ".concat(M)),!0;f=this._groups.get(M).visible}switch(F){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return"And"===F}},{key:"isVisible",value:function(j){if(0===this._groups.size)return!0;if(!j)return(0,a.warn)("Optional content group not defined."),!0;if("OCG"===j.type)return this._groups.has(j.id)?this._groups.get(j.id).visible:((0,a.warn)("Optional content group not found: ".concat(j.id)),!0);if("OCMD"===j.type){if(j.expression)return this._evaluateVisibilityExpression(j.expression);if(!j.policy||"AnyOn"===j.policy){var F,e=I(j.ids);try{for(e.s();!(F=e.n()).done;){var q=F.value;if(!this._groups.has(q))return(0,a.warn)("Optional content group not found: ".concat(q)),!0;if(this._groups.get(q).visible)return!0}}catch(O){e.e(O)}finally{e.f()}return!1}if("AllOn"===j.policy){var f,M=I(j.ids);try{for(M.s();!(f=M.n()).done;){var l=f.value;if(!this._groups.has(l))return(0,a.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(O){M.e(O)}finally{M.f()}return!0}if("AnyOff"===j.policy){var b,u=I(j.ids);try{for(u.s();!(b=u.n()).done;){var x=b.value;if(!this._groups.has(x))return(0,a.warn)("Optional content group not found: ".concat(x)),!0;if(!this._groups.get(x).visible)return!0}}catch(O){u.e(O)}finally{u.f()}return!1}if("AllOff"===j.policy){var d,m=I(j.ids);try{for(m.s();!(d=m.n()).done;){var T=d.value;if(!this._groups.has(T))return(0,a.warn)("Optional content group not found: ".concat(T)),!0;if(this._groups.get(T).visible)return!1}}catch(O){m.e(O)}finally{m.f()}return!0}return(0,a.warn)("Unknown optional content policy ".concat(j.policy,".")),!0}return(0,a.warn)("Unknown group type ".concat(j.type,".")),!0}},{key:"setVisibility",value:function(j){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(j)?this._groups.get(j).visible=!!e:(0,a.warn)("Optional content group not found: ".concat(j))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,a.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(j){return this._groups.get(j)||null}}]),X}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.PDFDataTransportStream=void 0;var M,a=(M=n(2))&&M.__esModule?M:{default:M},I=n(4),E=n(1);function B(M,f,l,u,b,x,m){try{var d=M[x](m),T=d.value}catch(O){return void l(O)}d.done?f(T):Promise.resolve(T).then(u,b)}function R(M){return function(){var f=this,l=arguments;return new Promise(function(u,b){var x=M.apply(f,l);function m(T){B(x,u,b,m,d,"next",T)}function d(T){B(x,u,b,m,d,"throw",T)}m(void 0)})}}function H(M,f){var l="undefined"!=typeof Symbol&&M[Symbol.iterator]||M["@@iterator"];if(!l){if(Array.isArray(M)||(l=function(M,f){if(M){if("string"==typeof M)return D(M,f);var l=Object.prototype.toString.call(M).slice(8,-1);if("Object"===l&&M.constructor&&(l=M.constructor.name),"Map"===l||"Set"===l)return Array.from(M);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return D(M,f)}}(M))||f&&M&&"number"==typeof M.length){l&&(M=l);var u=0,b=function(){};return{s:b,n:function(){return u>=M.length?{done:!0}:{done:!1,value:M[u++]}},e:function(O){throw O},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,x=!0,m=!1;return{s:function(){l=l.call(M)},n:function(){var O=l.next();return x=O.done,O},e:function(O){m=!0,d=O},f:function(){try{!x&&null!=l.return&&l.return()}finally{if(m)throw d}}}}function D(M,f){(null==f||f>M.length)&&(f=M.length);for(var l=0,u=new Array(f);l<f;l++)u[l]=M[l];return u}function X(M,f){if(!(M instanceof f))throw new TypeError("Cannot call a class as a function")}function V(M,f){for(var l=0;l<f.length;l++){var u=f[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(M,u.key,u)}}function j(M,f,l){return f&&V(M.prototype,f),l&&V(M,l),M}k.PDFDataTransportStream=function(){function M(f,l){var u=this;X(this,M),(0,I.assert)(l,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f.progressiveDone||!1,this._contentDispositionFilename=f.contentDispositionFilename||null;var b=f.initialData;if((null==b?void 0:b.length)>0){var x=new Uint8Array(b).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=l,this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._contentLength=f.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(m,d){u._onReceiveData({begin:m,chunk:d})}),this._pdfDataRangeTransport.addProgressListener(function(m,d){u._onProgress({loaded:m,total:d})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(m){u._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){u._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return j(M,[{key:"_onReceiveData",value:function(l){var u=new Uint8Array(l.chunk).buffer;if(void 0===l.begin)this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u);else{var b=this._rangeReaders.some(function(x){return x._begin===l.begin&&(x._enqueue(u),!0)});(0,I.assert)(b,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var l,u;return null!==(l=null===(u=this._fullRequestReader)||void 0===u?void 0:u._loaded)&&void 0!==l?l:0}},{key:"_onProgress",value:function(l){if(void 0===l.total){var u=this._rangeReaders[0];null!=u&&u.onProgress&&u.onProgress({loaded:l.loaded})}else{var b=this._fullRequestReader;null!=b&&b.onProgress&&b.onProgress({loaded:l.loaded,total:l.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(l){var u=this._rangeReaders.indexOf(l);u>=0&&this._rangeReaders.splice(u,1)}},{key:"getFullReader",value:function(){(0,I.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var l=this._queuedChunks;return this._queuedChunks=null,new F(this,l,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(l,u){if(u<=this._progressiveDataLength)return null;var b=new q(this,l,u);return this._pdfDataRangeTransport.requestDataRange(l,u),this._rangeReaders.push(b),b}},{key:"cancelAllRequests",value:function(l){this._fullRequestReader&&this._fullRequestReader.cancel(l);var b,u=H(this._rangeReaders.slice(0));try{for(u.s();!(b=u.n()).done;)b.value.cancel(l)}catch(m){u.e(m)}finally{u.f()}this._pdfDataRangeTransport.abort()}}]),M}();var F=function(){function M(f,l){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;X(this,M),this._stream=f,this._done=u||!1,this._filename=(0,E.isPdfFile)(b)?b:null,this._queuedChunks=l||[],this._loaded=0;var m,x=H(this._queuedChunks);try{for(x.s();!(m=x.n()).done;){var d=m.value;this._loaded+=d.byteLength}}catch(T){x.e(T)}finally{x.f()}this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}return j(M,[{key:"_enqueue",value:function(l){this._done||(this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunks.push(l),this._loaded+=l.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(f=R(a.default.mark(function u(){var b,x;return a.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(this._queuedChunks.length>0)){d.next=3;break}return b=this._queuedChunks.shift(),d.abrupt("return",{value:b,done:!1});case 3:if(!this._done){d.next=5;break}return d.abrupt("return",{value:void 0,done:!0});case 5:return x=(0,I.createPromiseCapability)(),this._requests.push(x),d.abrupt("return",x.promise);case 8:case"end":return d.stop()}},u,this)})),function(){return f.apply(this,arguments)})},{key:"cancel",value:function(l){this._done=!0;var b,u=H(this._requests);try{for(u.s();!(b=u.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(m){u.e(m)}finally{u.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),M;var f}(),q=function(){function M(f,l,u){X(this,M),this._stream=f,this._begin=l,this._end=u,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return j(M,[{key:"_enqueue",value:function(l){if(!this._done){if(0===this._requests.length)this._queuedChunk=l;else{this._requests.shift().resolve({value:l,done:!1});var x,b=H(this._requests);try{for(b.s();!(x=b.n()).done;)x.value.resolve({value:void 0,done:!0})}catch(d){b.e(d)}finally{b.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(f=R(a.default.mark(function u(){var b,x;return a.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this._queuedChunk){d.next=4;break}return b=this._queuedChunk,this._queuedChunk=null,d.abrupt("return",{value:b,done:!1});case 4:if(!this._done){d.next=6;break}return d.abrupt("return",{value:void 0,done:!0});case 6:return x=(0,I.createPromiseCapability)(),this._requests.push(x),d.abrupt("return",x.promise);case 9:case"end":return d.stop()}},u,this)})),function(){return f.apply(this,arguments)})},{key:"cancel",value:function(l){this._done=!0;var b,u=H(this._requests);try{for(u.s();!(b=u.n()).done;)b.value.resolve({value:void 0,done:!0})}catch(m){u.e(m)}finally{u.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),M;var f}()},(Y,k)=>{"use strict";function I(H,z){(null==z||z>H.length)&&(z=H.length);for(var D=0,X=new Array(z);D<z;D++)X[D]=H[D];return X}function w(H,z){for(var D=0;D<z.length;D++){var X=z[D];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(H,X.key,X)}}Object.defineProperty(k,"__esModule",{value:!0}),k.XfaText=void 0,k.XfaText=function(){function H(){!function(H,z){if(!(H instanceof z))throw new TypeError("Cannot call a class as a function")}(this,H)}return function(H,z,D){D&&w(H,D)}(H,0,[{key:"textContent",value:function(D){var X=[],V={items:X,styles:Object.create(null)};return function j(e){var F;if(e){var q=null,M=e.name;if("#text"===M)q=e.value;else{if(!H.shouldBuildText(M))return;null!=e&&null!==(F=e.attributes)&&void 0!==F&&F.textContent?q=e.attributes.textContent:e.value&&(q=e.value)}if(null!==q&&X.push({str:q}),e.children){var l,f=function(H,z){var D="undefined"!=typeof Symbol&&H[Symbol.iterator]||H["@@iterator"];if(!D){if(Array.isArray(H)||(D=function(H,z){if(H){if("string"==typeof H)return I(H,z);var D=Object.prototype.toString.call(H).slice(8,-1);if("Object"===D&&H.constructor&&(D=H.constructor.name),"Map"===D||"Set"===D)return Array.from(H);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return I(H,z)}}(H))||z&&H&&"number"==typeof H.length){D&&(H=D);var X=0,V=function(){};return{s:V,n:function(){return X>=H.length?{done:!0}:{done:!1,value:H[X++]}},e:function(M){throw M},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,j=!0,e=!1;return{s:function(){D=D.call(H)},n:function(){var M=D.next();return j=M.done,M},e:function(M){e=!0,F=M},f:function(){try{!j&&null!=D.return&&D.return()}finally{if(e)throw F}}}}(e.children);try{for(f.s();!(l=f.n()).done;)j(l.value)}catch(b){f.e(b)}finally{f.f()}}}}(D),V}},{key:"shouldBuildText",value:function(D){return!("textarea"===D||"input"===D||"option"===D||"select"===D)}}]),H}()},(Y,k,n)=>{"use strict";function a(le){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(le)}Object.defineProperty(k,"__esModule",{value:!0}),k.AnnotationLayer=void 0;var I=n(4),E=n(1),w=n(122),B=n(132);function R(le,ge,re){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(ne,fe,_e){var xe=function(le,ge){for(;!Object.prototype.hasOwnProperty.call(le,ge)&&null!==(le=d(le)););return le}(ne,fe);if(xe){var Re=Object.getOwnPropertyDescriptor(xe,fe);return Re.get?Re.get.call(_e):Re.value}})(le,ge,re||le)}function z(le,ge,re){return ge in le?Object.defineProperty(le,ge,{value:re,enumerable:!0,configurable:!0,writable:!0}):le[ge]=re,le}function D(le,ge){return function(le){if(Array.isArray(le))return le}(le)||function(le,ge){var re=null==le?null:"undefined"!=typeof Symbol&&le[Symbol.iterator]||le["@@iterator"];if(null!=re){var _e,xe,ue=[],ne=!0,fe=!1;try{for(re=re.call(le);!(ne=(_e=re.next()).done)&&(ue.push(_e.value),!ge||ue.length!==ge);ne=!0);}catch(Re){fe=!0,xe=Re}finally{try{!ne&&null!=re.return&&re.return()}finally{if(fe)throw xe}}return ue}}(le,ge)||O(le,ge)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(le){return function(le){if(Array.isArray(le))return _(le)}(le)||function(le){if("undefined"!=typeof Symbol&&null!=le[Symbol.iterator]||null!=le["@@iterator"])return Array.from(le)}(le)||O(le)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(le,ge){if("function"!=typeof ge&&null!==ge)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(ge&&ge.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),ge&&l(le,ge)}function l(le,ge){return(l=Object.setPrototypeOf||function(ue,ne){return ue.__proto__=ne,ue})(le,ge)}function u(le){var ge=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(le){return!1}}();return function(){var ne,ue=d(le);if(ge){var fe=d(this).constructor;ne=Reflect.construct(ue,arguments,fe)}else ne=ue.apply(this,arguments);return b(this,ne)}}function b(le,ge){if(ge&&("object"===a(ge)||"function"==typeof ge))return ge;if(void 0!==ge)throw new TypeError("Derived constructors may only return object or undefined");return x(le)}function x(le){if(void 0===le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function d(le){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)})(le)}function T(le,ge){var re="undefined"!=typeof Symbol&&le[Symbol.iterator]||le["@@iterator"];if(!re){if(Array.isArray(le)||(re=O(le))||ge&&le&&"number"==typeof le.length){re&&(le=re);var ue=0,ne=function(){};return{s:ne,n:function(){return ue>=le.length?{done:!0}:{done:!1,value:le[ue++]}},e:function(ve){throw ve},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var xe,fe=!0,_e=!1;return{s:function(){re=re.call(le)},n:function(){var ve=re.next();return fe=ve.done,ve},e:function(ve){_e=!0,xe=ve},f:function(){try{!fe&&null!=re.return&&re.return()}finally{if(_e)throw xe}}}}function O(le,ge){if(le){if("string"==typeof le)return _(le,ge);var re=Object.prototype.toString.call(le).slice(8,-1);if("Object"===re&&le.constructor&&(re=le.constructor.name),"Map"===re||"Set"===re)return Array.from(le);if("Arguments"===re||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return _(le,ge)}}function _(le,ge){(null==ge||ge>le.length)&&(ge=le.length);for(var re=0,ue=new Array(ge);re<ge;re++)ue[re]=le[re];return ue}function C(le,ge){if(!(le instanceof ge))throw new TypeError("Cannot call a class as a function")}function S(le,ge){for(var re=0;re<ge.length;re++){var ue=ge[re];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(le,ue.key,ue)}}function P(le,ge,re){return ge&&S(le.prototype,ge),re&&S(le,re),le}var A=1e3,p=new WeakSet,o=function(){function le(){C(this,le)}return P(le,null,[{key:"create",value:function(re){switch(re.data.annotationType){case I.AnnotationType.LINK:return new c(re);case I.AnnotationType.TEXT:return new i(re);case I.AnnotationType.WIDGET:switch(re.data.fieldType){case"Tx":return new v(re);case"Btn":return re.data.radioButton?new ee(re):re.data.checkBox?new U(re):new Q(re);case"Ch":return new he(re)}return new h(re);case I.AnnotationType.POPUP:return new ce(re);case I.AnnotationType.FREETEXT:return new be(re);case I.AnnotationType.LINE:return new ie(re);case I.AnnotationType.SQUARE:return new J(re);case I.AnnotationType.CIRCLE:return new G(re);case I.AnnotationType.POLYLINE:return new L(re);case I.AnnotationType.CARET:return new $(re);case I.AnnotationType.INK:return new te(re);case I.AnnotationType.POLYGON:return new N(re);case I.AnnotationType.HIGHLIGHT:return new se(re);case I.AnnotationType.UNDERLINE:return new me(re);case I.AnnotationType.SQUIGGLY:return new ke(re);case I.AnnotationType.STRIKEOUT:return new Pe(re);case I.AnnotationType.STAMP:return new Ze(re);case I.AnnotationType.FILEATTACHMENT:return new Ee(re);default:return new s(re)}}}]),le}(),s=function(){function le(ge){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ue=re.isRenderable,ne=void 0!==ue&&ue,fe=re.ignoreBorder,_e=void 0!==fe&&fe,xe=re.createQuadrilaterals,Re=void 0!==xe&&xe;C(this,le),this.isRenderable=ne,this.data=ge.data,this.layer=ge.layer,this.page=ge.page,this.viewport=ge.viewport,this.linkService=ge.linkService,this.downloadManager=ge.downloadManager,this.imageResourcesPath=ge.imageResourcesPath,this.renderForms=ge.renderForms,this.svgFactory=ge.svgFactory,this.annotationStorage=ge.annotationStorage,this.enableScripting=ge.enableScripting,this.hasJSActions=ge.hasJSActions,this._fieldObjects=ge.fieldObjects,this._mouseState=ge.mouseState,ne&&(this.container=this._createContainer(_e)),Re&&(this.quadrilaterals=this._createQuadrilaterals(_e))}return P(le,[{key:"_createContainer",value:function(){var re=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ue=this.data,ne=this.page,fe=this.viewport,_e=document.createElement("section"),xe=ue.rect[2]-ue.rect[0],Re=ue.rect[3]-ue.rect[1];_e.setAttribute("data-annotation-id",ue.id);var ve=I.Util.normalizeRect([ue.rect[0],ne.view[3]-ue.rect[1]+ne.view[1],ue.rect[2],ne.view[3]-ue.rect[3]+ne.view[1]]);if(_e.style.transform="matrix(".concat(fe.transform.join(","),")"),_e.style.transformOrigin="".concat(-ve[0],"px ").concat(-ve[1],"px"),!re&&ue.borderStyle.width>0){_e.style.borderWidth="".concat(ue.borderStyle.width,"px"),ue.borderStyle.style!==I.AnnotationBorderStyleType.UNDERLINE&&(xe-=2*ue.borderStyle.width,Re-=2*ue.borderStyle.width);var Ie=ue.borderStyle.horizontalCornerRadius,oe=ue.borderStyle.verticalCornerRadius;if(Ie>0||oe>0){var Ae="".concat(Ie,"px / ").concat(oe,"px");_e.style.borderRadius=Ae}switch(ue.borderStyle.style){case I.AnnotationBorderStyleType.SOLID:_e.style.borderStyle="solid";break;case I.AnnotationBorderStyleType.DASHED:_e.style.borderStyle="dashed";break;case I.AnnotationBorderStyleType.BEVELED:(0,I.warn)("Unimplemented border style: beveled");break;case I.AnnotationBorderStyleType.INSET:(0,I.warn)("Unimplemented border style: inset");break;case I.AnnotationBorderStyleType.UNDERLINE:_e.style.borderBottomStyle="solid"}var pe=ue.borderColor||ue.color||null;pe?_e.style.borderColor=I.Util.makeHexColor(0|ue.color[0],0|ue.color[1],0|ue.color[2]):_e.style.borderWidth=0}return _e.style.left="".concat(ve[0],"px"),_e.style.top="".concat(ve[1],"px"),_e.style.width="".concat(xe,"px"),_e.style.height="".concat(Re,"px"),_e}},{key:"_createQuadrilaterals",value:function(){var re=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var _e,ue=[],ne=this.data.rect,fe=T(this.data.quadPoints);try{for(fe.s();!(_e=fe.n()).done;){var xe=_e.value;this.data.rect=[xe[2].x,xe[2].y,xe[1].x,xe[1].y],ue.push(this._createContainer(re))}}catch(Re){fe.e(Re)}finally{fe.f()}return this.data.rect=ne,ue}},{key:"_createPopup",value:function(re,ue){var ne=this.container;this.quadrilaterals&&(re=re||this.quadrilaterals,ne=this.quadrilaterals[0]),re||((re=document.createElement("div")).style.height=ne.style.height,re.style.width=ne.style.width,ne.appendChild(re));var _e=new de({container:ne,trigger:re,color:ue.color,titleObj:ue.titleObj,modificationDate:ue.modificationDate,contentsObj:ue.contentsObj,hideWrapper:!0}).render();_e.style.left=ne.style.width,ne.appendChild(_e)}},{key:"_renderQuadrilaterals",value:function(re){var ne,ue=T(this.quadrilaterals);try{for(ue.s();!(ne=ue.n()).done;)ne.value.className=re}catch(_e){ue.e(_e)}finally{ue.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,I.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(re){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ne=[];if(this._fieldObjects){var fe=this._fieldObjects[re];if(fe){var xe,_e=T(fe);try{for(_e.s();!(xe=_e.n()).done;){var Re=xe.value,ve=Re.page,Ie=Re.id,oe=Re.exportValues;if(-1!==ve&&Ie!==ue){var Ae="string"==typeof oe?oe:null,pe=document.getElementById(Ie);if(pe&&!p.has(pe)){(0,I.warn)("_getElementsByName - element not allowed: ".concat(Ie));continue}ne.push({id:Ie,exportValue:Ae,domElement:pe})}}}catch(Ue){_e.e(Ue)}finally{_e.f()}}return ne}var Ne,Ce=T(document.getElementsByName(re));try{for(Ce.s();!(Ne=Ce.n()).done;){var Me=Ne.value,qe=Me.id,je=Me.exportValue;qe!==ue&&(!p.has(Me)||ne.push({id:qe,exportValue:je,domElement:Me}))}}catch(Ue){Ce.e(Ue)}finally{Ce.f()}return ne}}],[{key:"platform",get:function(){var re="undefined"!=typeof navigator?navigator.platform:"";return(0,I.shadow)(this,"platform",{isWin:re.includes("Win"),isMac:re.includes("Mac")})}}]),le}(),c=function(le){f(re,le);var ge=u(re);function re(ue){return C(this,re),ge.call(this,ue,{isRenderable:!!(ue.data.url||ue.data.dest||ue.data.action||ue.data.isTooltipOnly||ue.data.resetForm||ue.data.actions&&(ue.data.actions.Action||ue.data.actions["Mouse Up"]||ue.data.actions["Mouse Down"])),createQuadrilaterals:!0})}return P(re,[{key:"render",value:function(){var xe,ne=this.data,fe=this.linkService,_e=document.createElement("a");if(ne.url)fe.addLinkAttributes||(0,I.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(xe=fe.addLinkAttributes)||void 0===xe||xe.call(fe,_e,ne.url,ne.newWindow);else if(ne.action)this._bindNamedAction(_e,ne.action);else if(ne.dest)this._bindLink(_e,ne.dest);else{var Re=!1;ne.actions&&(ne.actions.Action||ne.actions["Mouse Up"]||ne.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(Re=!0,this._bindJSAction(_e,ne)),ne.resetForm?this._bindResetFormAction(_e,ne.resetForm):Re||this._bindLink(_e,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(ve,Ie){var oe=0===Ie?_e:_e.cloneNode();return ve.appendChild(oe),ve}):(this.container.className="linkAnnotation",this.container.appendChild(_e),this.container)}},{key:"_bindLink",value:function(ne,fe){var _e=this;ne.href=this.linkService.getDestinationHash(fe),ne.onclick=function(){return fe&&_e.linkService.goToDestination(fe),!1},(fe||""===fe)&&(ne.className="internalLink")}},{key:"_bindNamedAction",value:function(ne,fe){var _e=this;ne.href=this.linkService.getAnchorUrl(""),ne.onclick=function(){return _e.linkService.executeNamedAction(fe),!1},ne.className="internalLink"}},{key:"_bindJSAction",value:function(ne,fe){var _e=this;ne.href=this.linkService.getAnchorUrl("");for(var xe=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),Re=function(){var pe=Ie[ve],Ce=xe.get(pe);if(!Ce)return"continue";ne[Ce]=function(){var Ne;return null===(Ne=_e.linkService.eventBus)||void 0===Ne||Ne.dispatch("dispatcheventinsandbox",{source:_e,detail:{id:fe.id,name:pe}}),!1}},ve=0,Ie=Object.keys(fe.actions);ve<Ie.length;ve++)Re();ne.onclick||(ne.onclick=function(){return!1}),ne.className="internalLink"}},{key:"_bindResetFormAction",value:function(ne,fe){var _e=this,xe=ne.onclick;if(xe||(ne.href=this.linkService.getAnchorUrl("")),ne.className="internalLink",!this._fieldObjects)return(0,I.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(xe||(ne.onclick=function(){return!1}));ne.onclick=function(){xe&&xe();var De,Re=fe.fields,ve=fe.refs,Ie=fe.include,oe=[];if(0!==Re.length||0!==ve.length){var Ce,Ae=new Set(ve),pe=T(Re);try{for(pe.s();!(Ce=pe.n()).done;){var je,qe=T(_e._fieldObjects[Ce.value]||[]);try{for(qe.s();!(je=qe.n()).done;)Ae.add(je.value.id)}catch(Te){qe.e(Te)}finally{qe.f()}}}catch(Te){pe.e(Te)}finally{pe.f()}for(var Ge=0,We=Object.values(_e._fieldObjects);Ge<We.length;Ge++){var st,Xe=T(We[Ge]);try{for(Xe.s();!(st=Xe.n()).done;){var ct=st.value;Ae.has(ct.id)===Ie&&oe.push(ct)}}catch(Te){Xe.e(Te)}finally{Xe.f()}}}else for(var ft=0,It=Object.values(_e._fieldObjects);ft<It.length;ft++)oe.push.apply(oe,e(It[ft]));for(var Ft=_e.annotationStorage,Et=[],Ut=0,Nt=oe;Ut<Nt.length;Ut++){var Ot=Nt[Ut],kt=Ot.id;switch(Et.push(kt),Ot.type){case"text":var Bt=Ot.defaultValue||"";Ft.setValue(kt,{value:Bt,valueAsString:Bt});break;case"checkbox":case"radiobutton":Ft.setValue(kt,{value:Ot.defaultValue===Ot.exportValues});break;case"combobox":case"listbox":Ft.setValue(kt,{value:Ot.defaultValue||""});break;default:continue}var we=document.getElementById(kt);!we||!p.has(we)||we.dispatchEvent(new Event("resetform"))}return _e.enableScripting&&(null===(De=_e.linkService.eventBus)||void 0===De||De.dispatch("dispatcheventinsandbox",{source:_e,detail:{id:"app",ids:Et,name:"ResetForm"}})),!1}}}]),re}(s),i=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e})}return P(re,[{key:"render",value:function(){this.container.className="textAnnotation";var ne=document.createElement("img");return ne.style.height=this.container.style.height,ne.style.width=this.container.style.width,ne.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ne.alt="[{{type}} Annotation]",ne.dataset.l10nId="text_annotation_type",ne.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ne,this.data),this.container.appendChild(ne),this.container}}]),re}(s),h=function(le){f(re,le);var ge=u(re);function re(){return C(this,re),ge.apply(this,arguments)}return P(re,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(ne){var fe=s.platform;return fe.isWin&&ne.ctrlKey||fe.isMac&&ne.metaKey}},{key:"_setEventListener",value:function(ne,fe,_e,xe){var Re=this;fe.includes("mouse")?ne.addEventListener(fe,function(ve){var Ie;null===(Ie=Re.linkService.eventBus)||void 0===Ie||Ie.dispatch("dispatcheventinsandbox",{source:Re,detail:{id:Re.data.id,name:_e,value:xe(ve),shift:ve.shiftKey,modifier:Re._getKeyModifier(ve)}})}):ne.addEventListener(fe,function(ve){var Ie;null===(Ie=Re.linkService.eventBus)||void 0===Ie||Ie.dispatch("dispatcheventinsandbox",{source:Re,detail:{id:Re.data.id,name:_e,value:ve.target.checked}})})}},{key:"_setEventListeners",value:function(ne,fe,_e){var Re,xe=T(fe);try{for(xe.s();!(Re=xe.n()).done;){var ve,Ie=D(Re.value,2),Ae=Ie[1];("Action"===Ae||null!==(ve=this.data.actions)&&void 0!==ve&&ve[Ae])&&this._setEventListener(ne,Ie[0],Ae,_e)}}catch(pe){xe.e(pe)}finally{xe.f()}}},{key:"_setBackgroundColor",value:function(ne){var fe=this.data.backgroundColor||null;ne.style.backgroundColor=null===fe?"transparent":I.Util.makeHexColor(fe[0],fe[1],fe[2])}},{key:"_dispatchEventFromSandbox",value:function(ne,fe){for(var _e=this,xe=function(Ce,Ne,Me){var qe=Me.detail[Ce];Me.target.style[Ne]=B.ColorConverters["".concat(qe[0],"_HTML")](qe.slice(1))},Re={display:function(Ce){var Ne=Ce.detail.display%2==1;Ce.target.style.visibility=Ne?"hidden":"visible",_e.annotationStorage.setValue(_e.data.id,{hidden:Ne,print:0===Ce.detail.display||3===Ce.detail.display})},print:function(Ce){_e.annotationStorage.setValue(_e.data.id,{print:Ce.detail.print})},hidden:function(Ce){Ce.target.style.visibility=Ce.detail.hidden?"hidden":"visible",_e.annotationStorage.setValue(_e.data.id,{hidden:Ce.detail.hidden})},focus:function(Ce){setTimeout(function(){return Ce.target.focus({preventScroll:!1})},0)},userName:function(Ce){Ce.target.title=Ce.detail.userName},readonly:function(Ce){Ce.detail.readonly?Ce.target.setAttribute("readonly",""):Ce.target.removeAttribute("readonly")},required:function(Ce){Ce.detail.required?Ce.target.setAttribute("required",""):Ce.target.removeAttribute("required")},bgColor:function(Ce){xe("bgColor","backgroundColor",Ce)},fillColor:function(Ce){xe("fillColor","backgroundColor",Ce)},fgColor:function(Ce){xe("fgColor","color",Ce)},textColor:function(Ce){xe("textColor","color",Ce)},borderColor:function(Ce){xe("borderColor","borderColor",Ce)},strokeColor:function(Ce){xe("strokeColor","borderColor",Ce)}},ve=0,Ie=Object.keys(fe.detail);ve<Ie.length;ve++){var oe=Ie[ve],Ae=ne[oe]||Re[oe];Ae&&Ae(fe)}}}]),re}(s),v=function(le){f(re,le);var ge=u(re);function re(ue){return C(this,re),ge.call(this,ue,{isRenderable:ue.renderForms||!ue.data.hasAppearance&&!!ue.data.fieldValue})}return P(re,[{key:"setPropertyOnSiblings",value:function(ne,fe,_e,xe){var Ie,Re=this.annotationStorage,ve=T(this._getElementsByName(ne.name,ne.id));try{for(ve.s();!(Ie=ve.n()).done;){var oe=Ie.value;oe.domElement&&(oe.domElement[fe]=_e),Re.setValue(oe.id,z({},xe,_e))}}catch(Ae){ve.e(Ae)}finally{ve.f()}}},{key:"render",value:function(){var ne=this,fe=this.annotationStorage,_e=this.data.id;this.container.className="textWidgetAnnotation";var xe=null;if(this.renderForms){var Re=fe.getValue(_e,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),ve=Re.valueAsString||Re.value||"",Ie={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(xe=document.createElement("textarea")).textContent=ve:((xe=document.createElement("input")).type="text",xe.setAttribute("value",ve)),p.add(xe),xe.disabled=this.data.readOnly,xe.name=this.data.fieldName,xe.tabIndex=A,Ie.userValue=ve,xe.setAttribute("id",_e),xe.addEventListener("input",function(Me){fe.setValue(_e,{value:Me.target.value}),ne.setPropertyOnSiblings(xe,"value",Me.target.value,"value")}),xe.addEventListener("resetform",function(Me){xe.value=Ie.userValue=ne.data.defaultFieldValue||"",delete Ie.formattedValue});var oe=function(qe){Ie.formattedValue&&(qe.target.value=Ie.formattedValue),qe.target.scrollLeft=0,Ie.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var Ae;xe.addEventListener("focus",function(Me){Ie.userValue&&(Me.target.value=Ie.userValue)}),xe.addEventListener("updatefromsandbox",function(Me){ne._dispatchEventFromSandbox({value:function(Ue){Ie.userValue=Ue.detail.value||"",fe.setValue(_e,{value:Ie.userValue.toString()}),Ie.formattedValue||(Ue.target.value=Ie.userValue)},valueAsString:function(Ue){Ie.formattedValue=Ue.detail.valueAsString||"",Ue.target!==document.activeElement&&(Ue.target.value=Ie.formattedValue),fe.setValue(_e,{formattedValue:Ie.formattedValue})},selRange:function(Ue){var Ge=D(Ue.detail.selRange,2),We=Ge[0],$e=Ge[1];We>=0&&$e<Ue.target.value.length&&Ue.target.setSelectionRange(We,$e)}},Me)}),xe.addEventListener("keydown",function(Me){var qe;Ie.beforeInputValue=Me.target.value;var je=-1;"Escape"===Me.key?je=0:"Enter"===Me.key?je=2:"Tab"===Me.key&&(je=3),-1!==je&&(Ie.userValue=Me.target.value,null===(qe=ne.linkService.eventBus)||void 0===qe||qe.dispatch("dispatcheventinsandbox",{source:ne,detail:{id:_e,name:"Keystroke",value:Me.target.value,willCommit:!0,commitKey:je,selStart:Me.target.selectionStart,selEnd:Me.target.selectionEnd}}))});var pe=oe;oe=null,xe.addEventListener("blur",function(Me){var qe;ne._mouseState.isDown&&(Ie.userValue=Me.target.value,null===(qe=ne.linkService.eventBus)||void 0===qe||qe.dispatch("dispatcheventinsandbox",{source:ne,detail:{id:_e,name:"Keystroke",value:Me.target.value,willCommit:!0,commitKey:1,selStart:Me.target.selectionStart,selEnd:Me.target.selectionEnd}})),pe(Me)}),xe.addEventListener("mousedown",function(Me){Ie.beforeInputValue=Me.target.value,Ie.beforeInputSelectionRange=null}),xe.addEventListener("keyup",function(Me){Me.target.selectionStart===Me.target.selectionEnd&&(Ie.beforeInputSelectionRange=null)}),xe.addEventListener("select",function(Me){Ie.beforeInputSelectionRange=[Me.target.selectionStart,Me.target.selectionEnd]}),null!==(Ae=this.data.actions)&&void 0!==Ae&&Ae.Keystroke&&xe.addEventListener("input",function(Me){var qe,je=-1,Ue=-1;if(Ie.beforeInputSelectionRange){var Ge=D(Ie.beforeInputSelectionRange,2);je=Ge[0],Ue=Ge[1]}null===(qe=ne.linkService.eventBus)||void 0===qe||qe.dispatch("dispatcheventinsandbox",{source:ne,detail:{id:_e,name:"Keystroke",value:Ie.beforeInputValue,change:Me.data,willCommit:!1,selStart:je,selEnd:Ue}})}),this._setEventListeners(xe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Me){return Me.target.value})}if(oe&&xe.addEventListener("blur",oe),null!==this.data.maxLen&&(xe.maxLength=this.data.maxLen),this.data.comb){var Ne=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;xe.classList.add("comb"),xe.style.letterSpacing="calc(".concat(Ne,"px - 1ch)")}}else(xe=document.createElement("div")).textContent=this.data.fieldValue,xe.style.verticalAlign="middle",xe.style.display="table-cell";return this._setTextStyle(xe),this._setBackgroundColor(xe),this.container.appendChild(xe),this.container}},{key:"_setTextStyle",value:function(ne){var _e=this.data.defaultAppearanceData,xe=_e.fontSize,Re=_e.fontColor,ve=ne.style;xe&&(ve.fontSize="".concat(xe,"px")),ve.color=I.Util.makeHexColor(Re[0],Re[1],Re[2]),null!==this.data.textAlignment&&(ve.textAlign=["left","center","right"][this.data.textAlignment])}}]),re}(h),U=function(le){f(re,le);var ge=u(re);function re(ue){return C(this,re),ge.call(this,ue,{isRenderable:ue.renderForms})}return P(re,[{key:"render",value:function(){var ne=this,fe=this.annotationStorage,_e=this.data,xe=_e.id,Re=fe.getValue(xe,{value:_e.exportValue===_e.fieldValue}).value;"string"==typeof Re&&fe.setValue(xe,{value:Re="Off"!==Re}),this.container.className="buttonWidgetAnnotation checkBox";var ve=document.createElement("input");return p.add(ve),ve.disabled=_e.readOnly,ve.type="checkbox",ve.name=_e.fieldName,Re&&ve.setAttribute("checked",!0),ve.setAttribute("id",xe),ve.setAttribute("exportValue",_e.exportValue),ve.tabIndex=A,ve.addEventListener("change",function(Ie){var Ne,oe=Ie.target,pe=oe.checked,Ce=T(ne._getElementsByName(oe.name,xe));try{for(Ce.s();!(Ne=Ce.n()).done;){var Me=Ne.value,qe=pe&&Me.exportValue===_e.exportValue;Me.domElement&&(Me.domElement.checked=qe),fe.setValue(Me.id,{value:qe})}}catch(je){Ce.e(je)}finally{Ce.f()}fe.setValue(xe,{value:pe})}),ve.addEventListener("resetform",function(Ie){Ie.target.checked=(_e.defaultFieldValue||"Off")===_e.exportValue}),this.enableScripting&&this.hasJSActions&&(ve.addEventListener("updatefromsandbox",function(Ie){ne._dispatchEventFromSandbox({value:function(pe){pe.target.checked="Off"!==pe.detail.value,fe.setValue(xe,{value:pe.target.checked})}},Ie)}),this._setEventListeners(ve,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(Ie){return Ie.target.checked})),this._setBackgroundColor(ve),this.container.appendChild(ve),this.container}}]),re}(h),ee=function(le){f(re,le);var ge=u(re);function re(ue){return C(this,re),ge.call(this,ue,{isRenderable:ue.renderForms})}return P(re,[{key:"render",value:function(){var ne=this;this.container.className="buttonWidgetAnnotation radioButton";var fe=this.annotationStorage,_e=this.data,xe=_e.id,Re=fe.getValue(xe,{value:_e.fieldValue===_e.buttonValue}).value;"string"==typeof Re&&fe.setValue(xe,{value:Re=Re!==_e.buttonValue});var ve=document.createElement("input");if(p.add(ve),ve.disabled=_e.readOnly,ve.type="radio",ve.name=_e.fieldName,Re&&ve.setAttribute("checked",!0),ve.setAttribute("id",xe),ve.tabIndex=A,ve.addEventListener("change",function(oe){var Me,Ae=oe.target,Ce=Ae.checked,Ne=T(ne._getElementsByName(Ae.name,xe));try{for(Ne.s();!(Me=Ne.n()).done;)fe.setValue(Me.value.id,{value:!1})}catch(je){Ne.e(je)}finally{Ne.f()}fe.setValue(xe,{value:Ce})}),ve.addEventListener("resetform",function(oe){var Ae=_e.defaultFieldValue;oe.target.checked=null!=Ae&&Ae===_e.buttonValue}),this.enableScripting&&this.hasJSActions){var Ie=_e.buttonValue;ve.addEventListener("updatefromsandbox",function(oe){var Ae={value:function(Ce){var qe,Ne=Ie===Ce.detail.value,Me=T(ne._getElementsByName(Ce.target.name));try{for(Me.s();!(qe=Me.n()).done;){var je=qe.value,Ue=Ne&&je.id===xe;je.domElement&&(je.domElement.checked=Ue),fe.setValue(je.id,{value:Ue})}}catch(Ge){Me.e(Ge)}finally{Me.f()}}};ne._dispatchEventFromSandbox(Ae,oe)}),this._setEventListeners(ve,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(oe){return oe.target.checked})}return this._setBackgroundColor(ve),this.container.appendChild(ve),this.container}}]),re}(h),Q=function(le){f(re,le);var ge=u(re);function re(){return C(this,re),ge.apply(this,arguments)}return P(re,[{key:"render",value:function(){var ne=R(d(re.prototype),"render",this).call(this);return ne.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ne.title=this.data.alternativeText),ne}}]),re}(c),he=function(le){f(re,le);var ge=u(re);function re(ue){return C(this,re),ge.call(this,ue,{isRenderable:ue.renderForms})}return P(re,[{key:"render",value:function(){var ne=this;this.container.className="choiceWidgetAnnotation";var fe=this.annotationStorage,_e=this.data.id;fe.getValue(_e,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var xe=this.data.defaultAppearanceData.fontSize;xe||(xe=9);var Re="calc(".concat(xe,"px * var(--zoom-factor))"),ve=document.createElement("select");p.add(ve),ve.disabled=this.data.readOnly,ve.name=this.data.fieldName,ve.setAttribute("id",_e),ve.tabIndex=A,ve.style.fontSize="".concat(xe,"px"),this.data.combo||(ve.size=this.data.options.length,this.data.multiSelect&&(ve.multiple=!0)),ve.addEventListener("resetform",function(Me){var Ue,qe=ne.data.defaultFieldValue,je=T(ve.options);try{for(je.s();!(Ue=je.n()).done;){var Ge=Ue.value;Ge.selected=Ge.value===qe}}catch(We){je.e(We)}finally{je.f()}});var oe,Ie=T(this.data.options);try{for(Ie.s();!(oe=Ie.n()).done;){var Ae=oe.value,pe=document.createElement("option");pe.textContent=Ae.displayValue,pe.value=Ae.exportValue,this.data.combo&&(pe.style.fontSize=Re),this.data.fieldValue.includes(Ae.exportValue)&&pe.setAttribute("selected",!0),ve.appendChild(pe)}}catch(Me){Ie.e(Me)}finally{Ie.f()}var Ce=function(qe,je){var Ue=je?"value":"textContent",Ge=qe.target.options;return qe.target.multiple?Array.prototype.filter.call(Ge,function(We){return We.selected}).map(function(We){return We[Ue]}):-1===Ge.selectedIndex?null:Ge[Ge.selectedIndex][Ue]},Ne=function(qe){return Array.prototype.map.call(qe.target.options,function(Ue){return{displayValue:Ue.textContent,exportValue:Ue.value}})};return this.enableScripting&&this.hasJSActions?(ve.addEventListener("updatefromsandbox",function(Me){ne._dispatchEventFromSandbox({value:function(Ue){var Xe,Ge=Ue.detail.value,We=new Set(Array.isArray(Ge)?Ge:[Ge]),$e=T(ve.options);try{for($e.s();!(Xe=$e.n()).done;){var st=Xe.value;st.selected=We.has(st.value)}}catch(ct){$e.e(ct)}finally{$e.f()}fe.setValue(_e,{value:Ce(Ue,!0)})},multipleSelection:function(Ue){ve.multiple=!0},remove:function(Ue){var Ge=ve.options,We=Ue.detail.remove;Ge[We].selected=!1,ve.remove(We),Ge.length>0&&-1===Array.prototype.findIndex.call(Ge,function(Xe){return Xe.selected})&&(Ge[0].selected=!0),fe.setValue(_e,{value:Ce(Ue,!0),items:Ne(Ue)})},clear:function(Ue){for(;0!==ve.length;)ve.remove(0);fe.setValue(_e,{value:null,items:[]})},insert:function(Ue){var Ge=Ue.detail.insert,We=Ge.index,$e=Ge.displayValue,Xe=Ge.exportValue,st=document.createElement("option");st.textContent=$e,st.value=Xe,ve.insertBefore(st,ve.children[We]),fe.setValue(_e,{value:Ce(Ue,!0),items:Ne(Ue)})},items:function(Ue){for(var Ge=Ue.detail.items;0!==ve.length;)ve.remove(0);var $e,We=T(Ge);try{for(We.s();!($e=We.n()).done;){var Xe=$e.value,st=Xe.displayValue,ct=Xe.exportValue,ft=document.createElement("option");ft.textContent=st,ft.value=ct,ve.appendChild(ft)}}catch(It){We.e(It)}finally{We.f()}ve.options.length>0&&(ve.options[0].selected=!0),fe.setValue(_e,{value:Ce(Ue,!0),items:Ne(Ue)})},indices:function(Ue){var $e,Ge=new Set(Ue.detail.indices),We=T(Ue.target.options);try{for(We.s();!($e=We.n()).done;){var Xe=$e.value;Xe.selected=Ge.has(Xe.index)}}catch(st){We.e(st)}finally{We.f()}fe.setValue(_e,{value:Ce(Ue,!0)})},editable:function(Ue){Ue.target.disabled=!Ue.detail.editable}},Me)}),ve.addEventListener("input",function(Me){var qe,je=Ce(Me,!0),Ue=Ce(Me,!1);fe.setValue(_e,{value:je}),null===(qe=ne.linkService.eventBus)||void 0===qe||qe.dispatch("dispatcheventinsandbox",{source:ne,detail:{id:_e,name:"Keystroke",value:Ue,changeEx:je,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(ve,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(Me){return Me.target.checked})):ve.addEventListener("input",function(Me){fe.setValue(_e,{value:Ce(Me)})}),this._setBackgroundColor(ve),this.container.appendChild(ve),this.container}}]),re}(h),ce=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e})}return P(re,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var fe='[data-annotation-id="'.concat(this.data.parentId,'"]'),_e=this.layer.querySelectorAll(fe);if(0===_e.length)return this.container;var xe=new de({container:this.container,trigger:Array.from(_e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj}),Re=this.page,ve=I.Util.normalizeRect([this.data.parentRect[0],Re.view[3]-this.data.parentRect[1]+Re.view[1],this.data.parentRect[2],Re.view[3]-this.data.parentRect[3]+Re.view[1]]),Ie=ve[0]+this.data.parentRect[2]-this.data.parentRect[0],oe=ve[1];return this.container.style.transformOrigin="".concat(-Ie,"px ").concat(-oe,"px"),this.container.style.left="".concat(Ie,"px"),this.container.style.top="".concat(oe,"px"),this.container.appendChild(xe.render()),this.container}}]),re}(s),de=function(){function le(ge){C(this,le),this.container=ge.container,this.trigger=ge.trigger,this.color=ge.color,this.titleObj=ge.titleObj,this.modificationDate=ge.modificationDate,this.contentsObj=ge.contentsObj,this.hideWrapper=ge.hideWrapper||!1,this.pinned=!1}return P(le,[{key:"render",value:function(){var ue=document.createElement("div");ue.className="popupWrapper",this.hideElement=this.hideWrapper?ue:this.container,this.hideElement.hidden=!0;var ne=document.createElement("div");ne.className="popup";var fe=this.color;fe&&(ne.style.backgroundColor=I.Util.makeHexColor(0|.7*(255-fe[0])+fe[0],0|.7*(255-fe[1])+fe[1],0|.7*(255-fe[2])+fe[2]));var ve=document.createElement("h1");ve.dir=this.titleObj.dir,ve.textContent=this.titleObj.str,ne.appendChild(ve);var Ie=E.PDFDateString.toDateObject(this.modificationDate);if(Ie){var oe=document.createElement("span");oe.textContent="{{date}}, {{time}}",oe.dataset.l10nId="annotation_date_string",oe.dataset.l10nArgs=JSON.stringify({date:Ie.toLocaleDateString(),time:Ie.toLocaleTimeString()}),ne.appendChild(oe)}var Ae=this._formatContents(this.contentsObj);ne.appendChild(Ae),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var Ce,pe=T(this.trigger);try{for(pe.s();!(Ce=pe.n()).done;){var Ne=Ce.value;Ne.addEventListener("click",this._toggle.bind(this)),Ne.addEventListener("mouseover",this._show.bind(this,!1)),Ne.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(Me){pe.e(Me)}finally{pe.f()}return ne.addEventListener("click",this._hide.bind(this,!0)),ue.appendChild(ne),ue}},{key:"_formatContents",value:function(re){var ue=re.str,ne=re.dir,fe=document.createElement("p");fe.dir=ne;for(var _e=ue.split(/(?:\r\n?|\n)/),xe=0,Re=_e.length;xe<Re;++xe)fe.appendChild(document.createTextNode(_e[xe])),xe<Re-1&&fe.appendChild(document.createElement("br"));return fe}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var re=arguments.length>0&&void 0!==arguments[0]&&arguments[0];re&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var re=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];re&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),le}(),be=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0})}return P(re,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),re}(s),ie=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0})}return P(re,[{key:"render",value:function(){this.container.className="lineAnnotation";var ne=this.data,xe=this.svgFactory.create(ne.rect[2]-ne.rect[0],ne.rect[3]-ne.rect[1]),Re=this.svgFactory.createElement("svg:line");return Re.setAttribute("x1",ne.rect[2]-ne.lineCoordinates[0]),Re.setAttribute("y1",ne.rect[3]-ne.lineCoordinates[1]),Re.setAttribute("x2",ne.rect[2]-ne.lineCoordinates[2]),Re.setAttribute("y2",ne.rect[3]-ne.lineCoordinates[3]),Re.setAttribute("stroke-width",ne.borderStyle.width||1),Re.setAttribute("stroke","transparent"),xe.appendChild(Re),this.container.append(xe),this._createPopup(Re,ne),this.container}}]),re}(s),J=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0})}return P(re,[{key:"render",value:function(){this.container.className="squareAnnotation";var ne=this.data,fe=ne.rect[2]-ne.rect[0],_e=ne.rect[3]-ne.rect[1],xe=this.svgFactory.create(fe,_e),Re=ne.borderStyle.width,ve=this.svgFactory.createElement("svg:rect");return ve.setAttribute("x",Re/2),ve.setAttribute("y",Re/2),ve.setAttribute("width",fe-Re),ve.setAttribute("height",_e-Re),ve.setAttribute("stroke-width",Re||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","none"),xe.appendChild(ve),this.container.append(xe),this._createPopup(ve,ne),this.container}}]),re}(s),G=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0})}return P(re,[{key:"render",value:function(){this.container.className="circleAnnotation";var ne=this.data,fe=ne.rect[2]-ne.rect[0],_e=ne.rect[3]-ne.rect[1],xe=this.svgFactory.create(fe,_e),Re=ne.borderStyle.width,ve=this.svgFactory.createElement("svg:ellipse");return ve.setAttribute("cx",fe/2),ve.setAttribute("cy",_e/2),ve.setAttribute("rx",fe/2-Re/2),ve.setAttribute("ry",_e/2-Re/2),ve.setAttribute("stroke-width",Re||1),ve.setAttribute("stroke","transparent"),ve.setAttribute("fill","none"),xe.appendChild(ve),this.container.append(xe),this._createPopup(ve,ne),this.container}}]),re}(s),L=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe,_e;C(this,re);var xe=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return(_e=ge.call(this,ue,{isRenderable:xe,ignoreBorder:!0})).containerClassName="polylineAnnotation",_e.svgElementName="svg:polyline",_e}return P(re,[{key:"render",value:function(){this.container.className=this.containerClassName;var Ie,ne=this.data,xe=this.svgFactory.create(ne.rect[2]-ne.rect[0],ne.rect[3]-ne.rect[1]),Re=[],ve=T(ne.vertices);try{for(ve.s();!(Ie=ve.n()).done;){var oe=Ie.value;Re.push(oe.x-ne.rect[0]+","+(ne.rect[3]-oe.y))}}catch(Ne){ve.e(Ne)}finally{ve.f()}Re=Re.join(" ");var Ce=this.svgFactory.createElement(this.svgElementName);return Ce.setAttribute("points",Re),Ce.setAttribute("stroke-width",ne.borderStyle.width||1),Ce.setAttribute("stroke","transparent"),Ce.setAttribute("fill","none"),xe.appendChild(Ce),this.container.append(xe),this._createPopup(Ce,ne),this.container}}]),re}(s),N=function(le){f(re,le);var ge=u(re);function re(ue){var ne;return C(this,re),(ne=ge.call(this,ue)).containerClassName="polygonAnnotation",ne.svgElementName="svg:polygon",ne}return re}(L),$=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0})}return P(re,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),re}(s),te=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe,_e;C(this,re);var xe=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return(_e=ge.call(this,ue,{isRenderable:xe,ignoreBorder:!0})).containerClassName="inkAnnotation",_e.svgElementName="svg:polyline",_e}return P(re,[{key:"render",value:function(){this.container.className=this.containerClassName;var ve,ne=this.data,xe=this.svgFactory.create(ne.rect[2]-ne.rect[0],ne.rect[3]-ne.rect[1]),Re=T(ne.inkLists);try{for(Re.s();!(ve=Re.n()).done;){var pe,oe=[],Ae=T(ve.value);try{for(Ae.s();!(pe=Ae.n()).done;){var Ce=pe.value,Me=ne.rect[3]-Ce.y;oe.push("".concat(Ce.x-ne.rect[0],",").concat(Me))}}catch(je){Ae.e(je)}finally{Ae.f()}oe=oe.join(" ");var qe=this.svgFactory.createElement(this.svgElementName);qe.setAttribute("points",oe),qe.setAttribute("stroke-width",ne.borderStyle.width||1),qe.setAttribute("stroke","transparent"),qe.setAttribute("fill","none"),this._createPopup(qe,ne),xe.appendChild(qe)}}catch(je){Re.e(je)}finally{Re.f()}return this.container.append(xe),this.container}}]),re}(s),se=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0,createQuadrilaterals:!0})}return P(re,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),re}(s),me=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0,createQuadrilaterals:!0})}return P(re,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),re}(s),ke=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0,createQuadrilaterals:!0})}return P(re,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),re}(s),Pe=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0,createQuadrilaterals:!0})}return P(re,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),re}(s),Ze=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=!!(ue.data.hasPopup||null!==(ne=ue.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=ue.data.contentsObj)&&void 0!==fe&&fe.str);return ge.call(this,ue,{isRenderable:_e,ignoreBorder:!0})}return P(re,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),re}(s),Ee=function(le){f(re,le);var ge=u(re);function re(ue){var ne,fe;C(this,re);var _e=(fe=ge.call(this,ue,{isRenderable:!0})).data.file,xe=_e.filename,Re=_e.content;return fe.filename=(0,E.getFilenameFromUrl)(xe),fe.content=Re,null===(ne=fe.linkService.eventBus)||void 0===ne||ne.dispatch("fileattachmentannotation",{source:x(fe),id:(0,I.stringToPDFString)(xe),filename:xe,content:Re}),fe}return P(re,[{key:"render",value:function(){var ne,fe;this.container.className="fileAttachmentAnnotation";var _e=document.createElement("div");return _e.style.height=this.container.style.height,_e.style.width=this.container.style.width,_e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(ne=this.data.titleObj)&&void 0!==ne&&ne.str||null!==(fe=this.data.contentsObj)&&void 0!==fe&&fe.str)&&this._createPopup(_e,this.data),this.container.appendChild(_e),this.container}},{key:"_download",value:function(){var ne;null===(ne=this.downloadManager)||void 0===ne||ne.openOrDownloadData(this.container,this.content,this.filename)}}]),re}(s);k.AnnotationLayer=function(){function le(){C(this,le)}return P(le,null,[{key:"render",value:function(re){var _e,ue=[],ne=[],fe=T(re.annotations);try{for(fe.s();!(_e=fe.n()).done;){var xe=_e.value;if(xe){if(xe.annotationType===I.AnnotationType.POPUP){ne.push(xe);continue}ue.push(xe)}}}catch(Me){fe.e(Me)}finally{fe.f()}ne.length&&ue.push.apply(ue,ne);for(var Re=0,ve=ue;Re<ve.length;Re++){var Ie=ve[Re],oe=o.create({data:Ie,layer:re.div,page:re.page,viewport:re.viewport,linkService:re.linkService,downloadManager:re.downloadManager,imageResourcesPath:re.imageResourcesPath||"",renderForms:!1!==re.renderForms,svgFactory:new E.DOMSVGFactory,annotationStorage:re.annotationStorage||new w.AnnotationStorage,enableScripting:re.enableScripting,hasJSActions:re.hasJSActions,fieldObjects:re.fieldObjects,mouseState:re.mouseState||{isDown:!1}});if(oe.isRenderable){var Ae=oe.render();if(Ie.hidden&&(Ae.style.visibility="hidden"),Array.isArray(Ae)){var Ce,pe=T(Ae);try{for(pe.s();!(Ce=pe.n()).done;)re.div.appendChild(Ce.value)}catch(Me){pe.e(Me)}finally{pe.f()}}else oe instanceof ce?re.div.prepend(Ae):re.div.appendChild(Ae)}}}},{key:"update",value:function(re){var fe,ue="matrix(".concat(re.viewport.transform.join(","),")"),ne=T(re.annotations);try{for(ne.s();!(fe=ne.n()).done;){var xe=re.div.querySelectorAll('[data-annotation-id="'.concat(fe.value.id,'"]'));if(xe){var ve,Re=T(xe);try{for(Re.s();!(ve=Re.n()).done;)ve.value.style.transform=ue}catch(oe){Re.e(oe)}finally{Re.f()}}}}catch(oe){ne.e(oe)}finally{ne.f()}re.div.hidden=!1}}]),le}()},(Y,k)=>{"use strict";function n(V,j){return function(V){if(Array.isArray(V))return V}(V)||function(V,j){var e=null==V?null:"undefined"!=typeof Symbol&&V[Symbol.iterator]||V["@@iterator"];if(null!=e){var f,l,F=[],q=!0,M=!1;try{for(e=e.call(V);!(q=(f=e.next()).done)&&(F.push(f.value),!j||F.length!==j);q=!0);}catch(u){M=!0,l=u}finally{try{!q&&null!=e.return&&e.return()}finally{if(M)throw l}}return F}}(V,j)||function(V,j){if(V){if("string"==typeof V)return E(V,j);var e=Object.prototype.toString.call(V).slice(8,-1);if("Object"===e&&V.constructor&&(e=V.constructor.name),"Map"===e||"Set"===e)return Array.from(V);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E(V,j)}}(V,j)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(V,j){(null==j||j>V.length)&&(j=V.length);for(var e=0,F=new Array(j);e<j;e++)F[e]=V[e];return F}function H(V,j){for(var e=0;e<j.length;e++){var F=j[e];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}function D(V){return Math.floor(255*Math.max(0,Math.min(1,V))).toString(16).padStart(2,"0")}Object.defineProperty(k,"__esModule",{value:!0}),k.ColorConverters=void 0,k.ColorConverters=function(){function V(){!function(V,j){if(!(V instanceof j))throw new TypeError("Cannot call a class as a function")}(this,V)}return function(V,j,e){e&&H(V,e)}(V,0,[{key:"CMYK_G",value:function(e){var F=n(e,4);return["G",1-Math.min(1,.3*F[0]+.59*F[2]+.11*F[1]+F[3])]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-n(e,1)[0]]}},{key:"G_RGB",value:function(e){var q=n(e,1)[0];return["RGB",q,q,q]}},{key:"G_HTML",value:function(e){var M=D(n(e,1)[0]);return"#".concat(M).concat(M).concat(M)}},{key:"RGB_G",value:function(e){var F=n(e,3);return["G",.3*F[0]+.59*F[1]+.11*F[2]]}},{key:"RGB_HTML",value:function(e){var F=n(e,3),M=F[1],f=F[2],l=D(F[0]),u=D(M),b=D(f);return"#".concat(l).concat(u).concat(b)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var F=n(e,4),M=F[1],f=F[2],l=F[3];return["RGB",1-Math.min(1,F[0]+l),1-Math.min(1,f+l),1-Math.min(1,M+l)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var F=n(e,3),l=1-F[0],u=1-F[1],b=1-F[2];return["CMYK",l,u,b,Math.min(l,u,b)]}}]),V}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.renderTextLayer=function(m){var d=new b({textContent:m.textContent,textContentStream:m.textContentStream,container:m.container,viewport:m.viewport,textDivs:m.textDivs,textContentItemsStr:m.textContentItemsStr,enhanceTextSelection:m.enhanceTextSelection});return d._render(m.timeout),d};var a=n(4);function E(m,d){for(var T=0;T<d.length;T++){var O=d[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function B(m,d){var T="undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(!T){if(Array.isArray(m)||(T=function(m,d){if(m){if("string"==typeof m)return H(m,d);var T=Object.prototype.toString.call(m).slice(8,-1);if("Object"===T&&m.constructor&&(T=m.constructor.name),"Map"===T||"Set"===T)return Array.from(m);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return H(m,d)}}(m))||d&&m&&"number"==typeof m.length){T&&(m=T);var O=0,_=function(){};return{s:_,n:function(){return O>=m.length?{done:!0}:{done:!1,value:m[O++]}},e:function(p){throw p},f:_}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P,C=!0,S=!1;return{s:function(){T=T.call(m)},n:function(){var p=T.next();return C=p.done,p},e:function(p){S=!0,P=p},f:function(){try{!C&&null!=T.return&&T.return()}finally{if(S)throw P}}}}function H(m,d){(null==d||d>m.length)&&(d=m.length);for(var T=0,O=new Array(d);T<d;T++)O[T]=m[T];return O}var D=30,V=new Map,j=/^\s+$/g;function F(m,d,T,O){var _=document.createElement("span"),C=m._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==d.str,hasEOL:d.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==d.str,hasEOL:d.hasEOL};m._textDivs.push(_);var S=a.Util.transform(m._viewport.transform,d.transform),P=Math.atan2(S[1],S[0]),A=T[d.fontName];A.vertical&&(P+=Math.PI/2);var s,c,p=Math.hypot(S[2],S[3]),o=p*function(m,d){var T=V.get(m);if(T)return T;d.save(),d.font="".concat(D,"px ").concat(m);var O=d.measureText(""),_=O.fontBoundingBoxAscent,C=Math.abs(O.fontBoundingBoxDescent);if(_){d.restore();var S=_/(_+C);return V.set(m,S),S}d.strokeStyle="red",d.clearRect(0,0,D,D),d.strokeText("g",0,0);var P=d.getImageData(0,0,D,D).data;C=0;for(var A=P.length-1-3;A>=0;A-=4)if(P[A]>0){C=Math.ceil(A/4/D);break}d.clearRect(0,0,D,D),d.strokeText("A",0,D),_=0;for(var p=0,o=(P=d.getImageData(0,0,D,D).data).length;p<o;p+=4)if(P[p]>0){_=D-Math.floor(p/4/D);break}if(d.restore(),_){var s=_/(_+C);return V.set(m,s),s}return V.set(m,.8),.8}(A.fontFamily,O);0===P?(s=S[4],c=S[5]-o):(s=S[4]+o*Math.sin(P),c=S[5]-o*Math.cos(P)),_.style.left="".concat(s,"px"),_.style.top="".concat(c,"px"),_.style.fontSize="".concat(p,"px"),_.style.fontFamily=A.fontFamily,_.setAttribute("role","presentation"),_.textContent=d.str,_.dir=d.dir,m._fontInspectorEnabled&&(_.dataset.fontName=d.fontName),0!==P&&(C.angle=P*(180/Math.PI));var i=!1;if(d.str.length>1||m._enhanceTextSelection&&j.test(d.str))i=!0;else if(d.transform[0]!==d.transform[3]){var h=Math.abs(d.transform[0]),v=Math.abs(d.transform[3]);h!==v&&Math.max(h,v)/Math.min(h,v)>1.5&&(i=!0)}if(i&&(C.canvasWidth=A.vertical?d.height*m._viewport.scale:d.width*m._viewport.scale),m._textDivProperties.set(_,C),m._textContentStream&&m._layoutText(_),m._enhanceTextSelection&&C.hasText){var U=1,ee=0;0!==P&&(U=Math.cos(P),ee=Math.sin(P));var ce,de,Q=(A.vertical?d.height:d.width)*m._viewport.scale,he=p;de=0!==P?a.Util.getAxialAlignedBoundingBox([0,0,Q,he],ce=[U,ee,-ee,U,s,c]):[s,c,s+Q,c+he],m._bounds.push({left:de[0],top:de[1],right:de[2],bottom:de[3],div:_,size:[Q,he],m:ce})}}function q(m){if(!m._canceled){var d=m._textDivs,T=m._capability,O=d.length;if(O>1e5)return m._renderingDone=!0,void T.resolve();if(!m._textContentStream)for(var _=0;_<O;_++)m._layoutText(d[_]);m._renderingDone=!0,T.resolve()}}function M(m,d,T){for(var O=0,_=0;_<T;_++){var C=m[d++];C>0&&(O=O?Math.min(C,O):C)}return O}function f(m){for(var d=m._bounds,T=m._viewport,O=function(m,d,T){var O=T.map(function(i,h){return{x1:i.left,y1:i.top,x2:i.right,y2:i.bottom,index:h,x1New:void 0,x2New:void 0}});u(m,O);var S,_=new Array(T.length),C=B(O);try{for(C.s();!(S=C.n()).done;){var P=S.value;_[P.index]={left:P.x1New,top:0,right:P.x2New,bottom:0}}}catch(i){C.e(i)}finally{C.f()}T.map(function(i,h){var v=_[h],U=O[h];U.x1=i.top,U.y1=m-v.right,U.x2=i.bottom,U.y2=m-v.left,U.index=h,U.x1New=void 0,U.x2New=void 0}),u(d,O);var o,p=B(O);try{for(p.s();!(o=p.n()).done;){var s=o.value,c=s.index;_[c].top=s.x1New,_[c].bottom=s.x2New}}catch(i){p.e(i)}finally{p.f()}return _}(T.width,T.height,d),_=0;_<O.length;_++){var C=d[_].div,S=m._textDivProperties.get(C);if(0!==S.angle){for(var P=O[_],A=d[_],p=A.m,o=p[0],s=p[1],c=[[0,0],[0,A.size[1]],[A.size[0],0],A.size],i=new Float64Array(64),h=0,v=c.length;h<v;h++){var U=a.Util.applyTransform(c[h],p);i[h+0]=o&&(P.left-U[0])/o,i[h+4]=s&&(P.top-U[1])/s,i[h+8]=o&&(P.right-U[0])/o,i[h+12]=s&&(P.bottom-U[1])/s,i[h+16]=s&&(P.left-U[0])/-s,i[h+20]=o&&(P.top-U[1])/o,i[h+24]=s&&(P.right-U[0])/-s,i[h+28]=o&&(P.bottom-U[1])/o,i[h+32]=o&&(P.left-U[0])/-o,i[h+36]=s&&(P.top-U[1])/-s,i[h+40]=o&&(P.right-U[0])/-o,i[h+44]=s&&(P.bottom-U[1])/-s,i[h+48]=s&&(P.left-U[0])/s,i[h+52]=o&&(P.top-U[1])/-o,i[h+56]=s&&(P.right-U[0])/s,i[h+60]=o&&(P.bottom-U[1])/-o}var ee=1+Math.min(Math.abs(o),Math.abs(s));S.paddingLeft=M(i,32,16)/ee,S.paddingTop=M(i,48,16)/ee,S.paddingRight=M(i,0,16)/ee,S.paddingBottom=M(i,16,16)/ee,m._textDivProperties.set(C,S)}else S.paddingLeft=d[_].left-O[_].left,S.paddingTop=d[_].top-O[_].top,S.paddingRight=O[_].right-d[_].right,S.paddingBottom=O[_].bottom-d[_].bottom,m._textDivProperties.set(C,S)}}function u(m,d){d.sort(function(ie,J){return ie.x1-J.x1||ie.index-J.index});var C,O=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],_=B(d);try{for(_.s();!(C=_.n()).done;){for(var S=C.value,P=0;P<O.length&&O[P].end<=S.y1;)P++;for(var A=O.length-1;A>=0&&O[A].start>=S.y2;)A--;var p=void 0,o=void 0,s=void 0,c=void 0,i=-1/0;for(s=P;s<=A;s++){var h;(h=(o=(p=O[s]).boundary).x2>S.x1?o.index>S.index?o.x1New:S.x1:void 0===o.x2New?(o.x2+S.x1)/2:o.x2New)>i&&(i=h)}for(S.x1New=i,s=P;s<=A;s++)void 0===(o=(p=O[s]).boundary).x2New?o.x2>S.x1?o.index>S.index&&(o.x2New=o.x2):o.x2New=i:o.x2New>i&&(o.x2New=Math.max(i,o.x2));var v=[],U=null;for(s=P;s<=A;s++){var ee=(o=(p=O[s]).boundary).x2>S.x2?o:S;U===ee?v[v.length-1].end=p.end:(v.push({start:p.start,end:p.end,boundary:ee}),U=ee)}for(O[P].start<S.y1&&(v[0].start=S.y1,v.unshift({start:O[P].start,end:S.y1,boundary:O[P].boundary})),S.y2<O[A].end&&(v[v.length-1].end=S.y2,v.push({start:S.y2,end:O[A].end,boundary:O[A].boundary})),s=P;s<=A;s++)if(void 0===(o=(p=O[s]).boundary).x2New){var Q=!1;for(c=P-1;!Q&&c>=0&&O[c].start>=o.y1;c--)Q=O[c].boundary===o;for(c=A+1;!Q&&c<O.length&&O[c].end<=o.y2;c++)Q=O[c].boundary===o;for(c=0;!Q&&c<v.length;c++)Q=v[c].boundary===o;Q||(o.x2New=i)}Array.prototype.splice.apply(O,[P,A-P+1].concat(v))}}catch(ie){_.e(ie)}finally{_.f()}for(var he=0,ce=O;he<ce.length;he++){var be=ce[he].boundary;void 0===be.x2New&&(be.x2New=Math.max(m,be.x2))}}var b=function(){function m(d){var T,O=this,_=d.textContent,C=d.textContentStream,S=d.container,P=d.viewport,A=d.textDivs,p=d.textContentItemsStr,o=d.enhanceTextSelection;(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m),this._textContent=_,this._textContentStream=C,this._container=S,this._document=S.ownerDocument,this._viewport=P,this._textDivs=A||[],this._textContentItemsStr=p||[],this._enhanceTextSelection=!!o,this._fontInspectorEnabled=!(null===(T=globalThis.FontInspector)||void 0===T||!T.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){O._enhanceTextSelection||(O._textDivProperties=null),O._layoutTextCtx&&(O._layoutTextCtx.canvas.width=0,O._layoutTextCtx.canvas.height=0,O._layoutTextCtx=null)}).catch(function(){})}return function(m,d,T){d&&E(m.prototype,d)}(m,[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(T,O){for(var _=0,C=T.length;_<C;_++)if(void 0!==T[_].str)this._textContentItemsStr.push(T[_].str),F(this,T[_],O,this._layoutTextCtx);else if("beginMarkedContentProps"===T[_].type||"beginMarkedContent"===T[_].type){var S=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==T[_].id&&this._container.setAttribute("id","".concat(T[_].id)),S.appendChild(this._container)}else"endMarkedContent"===T[_].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(T){var O=this._textDivProperties.get(T),_="";if(0!==O.canvasWidth&&O.hasText){var C=T.style,S=C.fontSize,P=C.fontFamily;(S!==this._layoutTextLastFontSize||P!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(S," ").concat(P),this._layoutTextLastFontSize=S,this._layoutTextLastFontFamily=P);var p=this._layoutTextCtx.measureText(T.textContent).width;if(p>0){var o=O.canvasWidth/p;this._enhanceTextSelection&&(O.scale=o),_="scaleX(".concat(o,")")}}if(0!==O.angle&&(_="rotate(".concat(O.angle,"deg) ").concat(_)),_.length>0&&(this._enhanceTextSelection&&(O.originalTransform=_),T.style.transform=_),O.hasText&&this._container.appendChild(T),O.hasEOL){var s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}},{key:"_render",value:function(){var T=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,_=(0,a.createPromiseCapability)(),C=Object.create(null),S=this._document.createElement("canvas");if(S.height=S.width=D,S.mozOpaque=!0,this._layoutTextCtx=S.getContext("2d",{alpha:!1}),this._textContent){var P=this._textContent.items,A=this._textContent.styles;this._processItems(P,A),_.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var p=function o(){T._reader.read().then(function(s){var c=s.value;s.done?_.resolve():(Object.assign(C,c.styles),T._processItems(c.items,C),o())},_.reject)};this._reader=this._textContentStream.getReader(),p()}_.promise.then(function(){C=null,O?T._renderTimer=setTimeout(function(){q(T),T._renderTimer=null},O):q(T)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var T=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(f(this),this._bounds=null);for(var O=[],_=[],C=0,S=this._textDivs.length;C<S;C++){var P=this._textDivs[C],A=this._textDivProperties.get(P);!A.hasText||(T?(O.length=0,_.length=0,A.originalTransform&&O.push(A.originalTransform),A.paddingTop>0?(_.push("".concat(A.paddingTop,"px")),O.push("translateY(".concat(-A.paddingTop,"px)"))):_.push(0),_.push(A.paddingRight>0?"".concat(A.paddingRight/A.scale,"px"):0),_.push(A.paddingBottom>0?"".concat(A.paddingBottom,"px"):0),A.paddingLeft>0?(_.push("".concat(A.paddingLeft/A.scale,"px")),O.push("translateX(".concat(-A.paddingLeft/A.scale,"px)"))):_.push(0),P.style.padding=_.join(" "),O.length&&(P.style.transform=O.join(" "))):(P.style.padding=null,P.style.transform=A.originalTransform))}}}}]),m}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SVGGraphics=void 0;var a=n(4),I=n(1),E=n(6);function w(o){return function(o){if(Array.isArray(o))return F(o)}(o)||function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||e(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(o,s){return function(o){if(Array.isArray(o))return o}(o)||function(o,s){var c=null==o?null:"undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(null!=c){var U,ee,i=[],h=!0,v=!1;try{for(c=c.call(o);!(h=(U=c.next()).done)&&(i.push(U.value),!s||i.length!==s);h=!0);}catch(Q){v=!0,ee=Q}finally{try{!h&&null!=c.return&&c.return()}finally{if(v)throw ee}}return i}}(o,s)||e(o,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(o,s){var c="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!c){if(Array.isArray(o)||(c=e(o))||s&&o&&"number"==typeof o.length){c&&(o=c);var i=0,h=function(){};return{s:h,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(he){throw he},f:h}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ee,v=!0,U=!1;return{s:function(){c=c.call(o)},n:function(){var he=c.next();return v=he.done,he},e:function(he){U=!0,ee=he},f:function(){try{!v&&null!=c.return&&c.return()}finally{if(U)throw ee}}}}function e(o,s){if(o){if("string"==typeof o)return F(o,s);var c=Object.prototype.toString.call(o).slice(8,-1);if("Object"===c&&o.constructor&&(c=o.constructor.name),"Map"===c||"Set"===c)return Array.from(o);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return F(o,s)}}function F(o,s){(null==s||s>o.length)&&(s=o.length);for(var c=0,i=new Array(s);c<s;c++)i[c]=o[c];return i}function q(o,s){for(var c=0;c<s.length;c++){var i=s[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}function M(o,s,c){return s&&q(o.prototype,s),c&&q(o,c),o}function f(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var l=function o(){f(this,o),(0,a.unreachable)("Not implemented: SVGGraphics")};k.SVGGraphics=l;var b=function(s){if(Number.isInteger(s))return s.toString();var c=s.toFixed(10),i=c.length-1;if("0"!==c[i])return c;do{i--}while("0"===c[i]);return c.substring(0,"."===c[i]?i:i+1)},x=function(s){if(0===s[4]&&0===s[5]){if(0===s[1]&&0===s[2])return 1===s[0]&&1===s[3]?"":"scale(".concat(b(s[0])," ").concat(b(s[3]),")");if(s[0]===s[3]&&s[1]===-s[2]){var c=180*Math.acos(s[0])/Math.PI;return"rotate(".concat(b(c),")")}}else if(1===s[0]&&0===s[1]&&0===s[2]&&1===s[3])return"translate(".concat(b(s[4])," ").concat(b(s[5]),")");return"matrix(".concat(b(s[0])," ").concat(b(s[1])," ").concat(b(s[2])," ").concat(b(s[3])," ").concat(b(s[4])," ")+"".concat(b(s[5]),")")},m_fontStyle="normal",m_fontWeight="normal",m_fillColor="#000000",O=["butt","round","square"],_=["miter","round","bevel"],C=function(){for(var o=new Uint8Array([137,80,78,71,13,10,26,10]),c=new Int32Array(256),i=0;i<256;i++){for(var h=i,v=0;v<8;v++)h=1&h?3988292384^h>>1&2147483647:h>>1&2147483647;c[i]=h}function ee(be,ie,J,G){var L=G,N=ie.length;J[L]=N>>24&255,J[L+1]=N>>16&255,J[L+2]=N>>8&255,J[L+3]=255&N,J[L+=4]=255&be.charCodeAt(0),J[L+1]=255&be.charCodeAt(1),J[L+2]=255&be.charCodeAt(2),J[L+3]=255&be.charCodeAt(3),J.set(ie,L+=4);var $=function(be,ie,J){for(var G=-1,L=ie;L<J;L++)G=G>>>8^c[255&(G^be[L])];return-1^G}(J,G+4,L+=ie.length);J[L]=$>>24&255,J[L+1]=$>>16&255,J[L+2]=$>>8&255,J[L+3]=255&$}function ce(be){var ie=be.length,J=65535,G=Math.ceil(ie/J),L=new Uint8Array(2+ie+5*G+4),N=0;L[N++]=120,L[N++]=156;for(var $=0;ie>J;)L[N++]=0,L[N++]=255,L[N++]=255,L[N++]=0,L[N++]=0,L.set(be.subarray($,$+J),N),N+=J,$+=J,ie-=J;L[N++]=1,L[N++]=255&ie,L[N++]=ie>>8&255,L[N++]=255&~ie,L[N++]=(65535&~ie)>>8&255,L.set(be.subarray($),N),N+=be.length-$;var te=function(be,ie,J){for(var G=1,L=0,N=0;N<J;++N)L=(L+(G=(G+(255&be[N]))%65521))%65521;return L<<16|G}(be,0,be.length);return L[N++]=te>>24&255,L[N++]=te>>16&255,L[N++]=te>>8&255,L[N++]=255&te,L}return function(ie,J,G){return function(be,ie,J,G){var $,te,se,L=be.width,N=be.height,me=be.data;switch(ie){case a.ImageKind.GRAYSCALE_1BPP:te=0,$=1,se=L+7>>3;break;case a.ImageKind.RGB_24BPP:te=2,$=8,se=3*L;break;case a.ImageKind.RGBA_32BPP:te=6,$=8,se=4*L;break;default:throw new Error("invalid format")}for(var ke=new Uint8Array((1+se)*N),Pe=0,Ze=0,Ee=0;Ee<N;++Ee)ke[Pe++]=0,ke.set(me.subarray(Ze,Ze+se),Pe),Ze+=se,Pe+=se;if(ie===a.ImageKind.GRAYSCALE_1BPP&&G){Pe=0;for(var Fe=0;Fe<N;Fe++){Pe++;for(var le=0;le<se;le++)ke[Pe++]^=255}}var ge=new Uint8Array([L>>24&255,L>>16&255,L>>8&255,255&L,N>>24&255,N>>16&255,N>>8&255,255&N,$,te,0,0,0]),re=function(be){if(!E.isNodeJS)return ce(be);try{var ie;ie=parseInt(process.versions.node)>=8?be:Buffer.from(be);var J=__webpack_require__(7324).deflateSync(ie,{level:9});return J instanceof Uint8Array?J:new Uint8Array(J)}catch(G){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+G)}return ce(be)}(ke),ne=new Uint8Array(o.length+36+ge.length+re.length),fe=0;return ne.set(o,fe),ee("IHDR",ge,ne,fe+=o.length),ee("IDATA",re,ne,fe+=12+ge.length),fe+=12+re.length,ee("IEND",new Uint8Array(0),ne,fe),(0,a.createObjectURL)(ne,"image/png",J)}(ie,void 0===ie.kind?a.ImageKind.GRAYSCALE_1BPP:ie.kind,J,G)}}(),S=function(){function o(){f(this,o),this.fontSizeScale=1,this.fontWeight=m_fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=m_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return M(o,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(c,i){this.x=c,this.y=i}}]),o}(),P=0,A=0,p=0;k.SVGGraphics=l=function(){function o(s,c){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var h in f(this,o),this.svgFactory=new I.DOMSVGFactory,this.current=new S,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=s,this.objs=c,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!i,this._operatorIdMapping=[],a.OPS)this._operatorIdMapping[a.OPS[h]]=h}return M(o,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var c=this.current;this.extraStack.push(c),this.current=c.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(c){this.save(),this.executeOpTree(c),this.restore()}},{key:"loadDependencies",value:function(c){for(var i=this,h=c.fnArray,v=c.argsArray,U=0,ee=h.length;U<ee;U++)if(h[U]===a.OPS.dependency){var he,Q=j(v[U]);try{var ce=function(){var be=he.value,ie=be.startsWith("g_")?i.commonObjs:i.objs,J=new Promise(function(G){ie.get(be,G)});i.current.dependencies.push(J)};for(Q.s();!(he=Q.n()).done;)ce()}catch(de){Q.e(de)}finally{Q.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(c,i,h,v,U,ee){this.transformMatrix=a.Util.transform(this.transformMatrix,[c,i,h,v,U,ee]),this.tgrp=null}},{key:"getSVG",value:function(c,i){var h=this;this.viewport=i;var v=this._initialize(i);return this.loadDependencies(c).then(function(){return h.transformMatrix=a.IDENTITY_MATRIX,h.executeOpTree(h.convertOpList(c)),v})}},{key:"convertOpList",value:function(c){for(var i=this._operatorIdMapping,h=c.argsArray,v=c.fnArray,U=[],ee=0,Q=v.length;ee<Q;ee++){var he=v[ee];U.push({fnId:he,fn:i[he],args:h[ee]})}return function(s){var v,c=[],i=[],h=j(s);try{for(h.s();!(v=h.n()).done;){var U=v.value;"save"!==U.fn?"restore"===U.fn?c=i.pop():c.push(U):(c.push({fnId:92,fn:"group",items:[]}),i.push(c),c=c[c.length-1].items)}}catch(ee){h.e(ee)}finally{h.f()}return c}(U)}},{key:"executeOpTree",value:function(c){var h,i=j(c);try{for(i.s();!(h=i.n()).done;){var v=h.value,U=v.fn,Q=v.args;switch(0|v.fnId){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(Q);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(Q[0],Q[1]);break;case a.OPS.setFont:this.setFont(Q);break;case a.OPS.showText:case a.OPS.showSpacedText:this.showText(Q[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(Q[0],Q[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(Q[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(Q[0]);break;case a.OPS.setHScale:this.setHScale(Q[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);break;case a.OPS.setTextRise:this.setTextRise(Q[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(Q[0]);break;case a.OPS.setLineWidth:this.setLineWidth(Q[0]);break;case a.OPS.setLineJoin:this.setLineJoin(Q[0]);break;case a.OPS.setLineCap:this.setLineCap(Q[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(Q[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(Q[0],Q[1],Q[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Q[0],Q[1],Q[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(Q);break;case a.OPS.setFillColorN:this.setFillColorN(Q);break;case a.OPS.shadingFill:this.shadingFill(Q[0]);break;case a.OPS.setDash:this.setDash(Q[0],Q[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(Q[0]);break;case a.OPS.setFlatness:this.setFlatness(Q[0]);break;case a.OPS.setGState:this.setGState(Q[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(Q[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Q[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Q[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Q[0],Q[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]);break;case a.OPS.constructPath:this.constructPath(Q[0],Q[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,a.warn)("Unimplemented operator ".concat(U))}}}catch(he){i.e(he)}finally{i.f()}}},{key:"setWordSpacing",value:function(c){this.current.wordSpacing=c}},{key:"setCharSpacing",value:function(c){this.current.charSpacing=c}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(c,i,h,v,U,ee){var Q=this.current;Q.textMatrix=Q.lineMatrix=[c,i,h,v,U,ee],Q.textMatrixScale=Math.hypot(c,i),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size","".concat(b(Q.fontSize),"px")),Q.tspan.setAttributeNS(null,"y",b(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.appendChild(Q.tspan)}},{key:"beginText",value:function(){var c=this.current;c.x=c.lineX=0,c.y=c.lineY=0,c.textMatrix=a.IDENTITY_MATRIX,c.lineMatrix=a.IDENTITY_MATRIX,c.textMatrixScale=1,c.tspan=this.svgFactory.createElement("svg:tspan"),c.txtElement=this.svgFactory.createElement("svg:text"),c.txtgrp=this.svgFactory.createElement("svg:g"),c.xcoords=[],c.ycoords=[]}},{key:"moveText",value:function(c,i){var h=this.current;h.x=h.lineX+=c,h.y=h.lineY+=i,h.xcoords=[],h.ycoords=[],h.tspan=this.svgFactory.createElement("svg:tspan"),h.tspan.setAttributeNS(null,"font-family",h.fontFamily),h.tspan.setAttributeNS(null,"font-size","".concat(b(h.fontSize),"px")),h.tspan.setAttributeNS(null,"y",b(-h.y))}},{key:"showText",value:function(c){var i=this.current,h=i.font,v=i.fontSize;if(0!==v){var N,U=i.fontSizeScale,ee=i.charSpacing,Q=i.wordSpacing,he=i.fontDirection,ce=i.textHScale*he,de=h.vertical,be=de?1:-1,ie=h.defaultVMetrics,J=v*i.fontMatrix[0],G=0,L=j(c);try{for(L.s();!(N=L.n()).done;){var $=N.value;if(null!==$)if((0,a.isNum)($))G+=be*$*v/1e3;else{var te=($.isSpace?Q:0)+ee,se=$.fontChar,me=void 0,ke=void 0,Pe=$.width;if(de){var Ze=void 0,Ee=$.vmetric||ie;Ze=$.vmetric?Ee[1]:.5*Pe,Pe=Ee?-Ee[0]:Pe,me=(Ze=-Ze*J)/U,ke=(G+Ee[2]*J)/U}else me=G/U,ke=0;($.isInFont||h.missingFile)&&(i.xcoords.push(i.x+me),de&&i.ycoords.push(-i.y+ke),i.tspan.textContent+=se),G+=de?Pe*J-te*he:Pe*J+te*he}else G+=he*Q}}catch(ne){L.e(ne)}finally{L.f()}i.tspan.setAttributeNS(null,"x",i.xcoords.map(b).join(" ")),i.tspan.setAttributeNS(null,"y",de?i.ycoords.map(b).join(" "):b(-i.y)),de?i.y-=G:i.x+=G*ce,i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size","".concat(b(i.fontSize),"px")),i.fontStyle!==m_fontStyle&&i.tspan.setAttributeNS(null,"font-style",i.fontStyle),i.fontWeight!==m_fontWeight&&i.tspan.setAttributeNS(null,"font-weight",i.fontWeight);var ge=i.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;ge===a.TextRenderingMode.FILL||ge===a.TextRenderingMode.FILL_STROKE?(i.fillColor!==m_fillColor&&i.tspan.setAttributeNS(null,"fill",i.fillColor),i.fillAlpha<1&&i.tspan.setAttributeNS(null,"fill-opacity",i.fillAlpha)):i.tspan.setAttributeNS(null,"fill",i.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(ge===a.TextRenderingMode.STROKE||ge===a.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(i.tspan,1/(i.textMatrixScale||1));var ue=i.textMatrix;0!==i.textRise&&((ue=ue.slice())[5]+=i.textRise),i.txtElement.setAttributeNS(null,"transform","".concat(x(ue)," scale(").concat(b(ce),", -1)")),i.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.txtElement.appendChild(i.tspan),i.txtgrp.appendChild(i.txtElement),this._ensureTransformGroup().appendChild(i.txtElement)}}},{key:"setLeadingMoveText",value:function(c,i){this.setLeading(-i),this.moveText(c,i)}},{key:"addFontStyle",value:function(c){if(!c.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var i=(0,a.createObjectURL)(c.data,c.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(c.loadedName,'";')+" src: url(".concat(i,"); }\n")}},{key:"setFont",value:function(c){var i=this.current,h=this.commonObjs.get(c[0]),v=c[1];i.font=h,this.embedFonts&&!h.missingFile&&!this.embeddedFonts[h.loadedName]&&(this.addFontStyle(h),this.embeddedFonts[h.loadedName]=h),i.fontMatrix=h.fontMatrix||a.FONT_IDENTITY_MATRIX;var U="normal";h.black?U="900":h.bold&&(U="bold");var ee=h.italic?"italic":"normal";v<0?(v=-v,i.fontDirection=-1):i.fontDirection=1,i.fontSize=v,i.fontFamily=h.loadedName,i.fontWeight=U,i.fontStyle=ee,i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"y",b(-i.y)),i.xcoords=[],i.ycoords=[]}},{key:"endText",value:function(){var c,i=this.current;i.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(c=i.txtElement)&&void 0!==c&&c.hasChildNodes()&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(c){c>0&&(this.current.lineWidth=c)}},{key:"setLineCap",value:function(c){this.current.lineCap=O[c]}},{key:"setLineJoin",value:function(c){this.current.lineJoin=_[c]}},{key:"setMiterLimit",value:function(c){this.current.miterLimit=c}},{key:"setStrokeAlpha",value:function(c){this.current.strokeAlpha=c}},{key:"setStrokeRGBColor",value:function(c,i,h){this.current.strokeColor=a.Util.makeHexColor(c,i,h)}},{key:"setFillAlpha",value:function(c){this.current.fillAlpha=c}},{key:"setFillRGBColor",value:function(c,i,h){this.current.fillColor=a.Util.makeHexColor(c,i,h),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(c){this.current.strokeColor=this._makeColorN_Pattern(c)}},{key:"setFillColorN",value:function(c){this.current.fillColor=this._makeColorN_Pattern(c)}},{key:"shadingFill",value:function(c){var i=this.viewport.width,h=this.viewport.height,v=a.Util.inverseTransform(this.transformMatrix),U=a.Util.applyTransform([0,0],v),ee=a.Util.applyTransform([0,h],v),Q=a.Util.applyTransform([i,0],v),he=a.Util.applyTransform([i,h],v),ce=Math.min(U[0],ee[0],Q[0],he[0]),de=Math.min(U[1],ee[1],Q[1],he[1]),be=Math.max(U[0],ee[0],Q[0],he[0]),ie=Math.max(U[1],ee[1],Q[1],he[1]),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x",ce),J.setAttributeNS(null,"y",de),J.setAttributeNS(null,"width",be-ce),J.setAttributeNS(null,"height",ie-de),J.setAttributeNS(null,"fill",this._makeShadingPattern(c)),this.current.fillAlpha<1&&J.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(J)}},{key:"_makeColorN_Pattern",value:function(c){return"TilingPattern"===c[0]?this._makeTilingPattern(c):this._makeShadingPattern(c)}},{key:"_makeTilingPattern",value:function(c){var i=c[1],h=c[2],v=c[3]||a.IDENTITY_MATRIX,U=z(c[4],4),ee=U[0],Q=U[1],he=U[2],ce=U[3],de=c[5],be=c[6],ie=c[7],J="shading".concat(p++),L=z(a.Util.normalizeRect([].concat(w(a.Util.applyTransform([ee,Q],v)),w(a.Util.applyTransform([he,ce],v)))),4),N=L[0],$=L[1],te=L[2],se=L[3],ke=z(a.Util.singularValueDecompose2dScale(v),2),Ee=de*ke[0],Fe=be*ke[1],le=this.svgFactory.createElement("svg:pattern");le.setAttributeNS(null,"id",J),le.setAttributeNS(null,"patternUnits","userSpaceOnUse"),le.setAttributeNS(null,"width",Ee),le.setAttributeNS(null,"height",Fe),le.setAttributeNS(null,"x","".concat(N)),le.setAttributeNS(null,"y","".concat($));var ge=this.svg,re=this.transformMatrix,ue=this.current.fillColor,ne=this.current.strokeColor,fe=this.svgFactory.create(te-N,se-$);if(this.svg=fe,this.transformMatrix=v,2===ie){var _e=a.Util.makeHexColor.apply(a.Util,w(i));this.current.fillColor=_e,this.current.strokeColor=_e}return this.executeOpTree(this.convertOpList(h)),this.svg=ge,this.transformMatrix=re,this.current.fillColor=ue,this.current.strokeColor=ne,le.appendChild(fe.childNodes[0]),this.defs.appendChild(le),"url(#".concat(J,")")}},{key:"_makeShadingPattern",value:function(c){switch(c[0]){case"RadialAxial":var v,i="shading".concat(p++),h=c[3];switch(c[1]){case"axial":var U=c[4],ee=c[5];(v=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",i),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",U[0]),v.setAttributeNS(null,"y1",U[1]),v.setAttributeNS(null,"x2",ee[0]),v.setAttributeNS(null,"y2",ee[1]);break;case"radial":var Q=c[4],he=c[5],ce=c[6],de=c[7];(v=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",i),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",he[0]),v.setAttributeNS(null,"cy",he[1]),v.setAttributeNS(null,"r",de),v.setAttributeNS(null,"fx",Q[0]),v.setAttributeNS(null,"fy",Q[1]),v.setAttributeNS(null,"fr",ce);break;default:throw new Error("Unknown RadialAxial type: ".concat(c[1]))}var ie,be=j(h);try{for(be.s();!(ie=be.n()).done;){var J=ie.value,G=this.svgFactory.createElement("svg:stop");G.setAttributeNS(null,"offset",J[0]),G.setAttributeNS(null,"stop-color",J[1]),v.appendChild(G)}}catch(L){be.e(L)}finally{be.f()}return this.defs.appendChild(v),"url(#".concat(i,")");case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(c[0]))}}},{key:"setDash",value:function(c,i){this.current.dashArray=c,this.current.dashPhase=i}},{key:"constructPath",value:function(c,i){var ce,h=this.current,v=h.x,U=h.y,ee=[],Q=0,he=j(c);try{for(he.s();!(ce=he.n()).done;)switch(0|ce.value){case a.OPS.rectangle:v=i[Q++],U=i[Q++];var J=v+i[Q++],G=U+i[Q++];ee.push("M",b(v),b(U),"L",b(J),b(U),"L",b(J),b(G),"L",b(v),b(G),"Z");break;case a.OPS.moveTo:v=i[Q++],U=i[Q++],ee.push("M",b(v),b(U));break;case a.OPS.lineTo:v=i[Q++],U=i[Q++],ee.push("L",b(v),b(U));break;case a.OPS.curveTo:v=i[Q+4],U=i[Q+5],ee.push("C",b(i[Q]),b(i[Q+1]),b(i[Q+2]),b(i[Q+3]),b(v),b(U)),Q+=6;break;case a.OPS.curveTo2:ee.push("C",b(v),b(U),b(i[Q]),b(i[Q+1]),b(i[Q+2]),b(i[Q+3])),v=i[Q+2],U=i[Q+3],Q+=4;break;case a.OPS.curveTo3:v=i[Q+2],U=i[Q+3],ee.push("C",b(i[Q]),b(i[Q+1]),b(v),b(U),b(v),b(U)),Q+=4;break;case a.OPS.closePath:ee.push("Z")}}catch(L){he.e(L)}finally{he.f()}ee=ee.join(" "),h.path&&c.length>0&&c[0]!==a.OPS.rectangle&&c[0]!==a.OPS.moveTo?ee=h.path.getAttributeNS(null,"d")+ee:(h.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(h.path)),h.path.setAttributeNS(null,"d",ee),h.path.setAttributeNS(null,"fill","none"),h.element=h.path,h.setCurrentPoint(v,U)}},{key:"endPath",value:function(){var c=this.current;if(c.path=null,this.pendingClip){if(!c.element)return void(this.pendingClip=null);var i="clippath".concat(P++),h=this.svgFactory.createElement("svg:clipPath");h.setAttributeNS(null,"id",i),h.setAttributeNS(null,"transform",x(this.transformMatrix));var v=c.element.cloneNode(!0);if(v.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,h.appendChild(v),this.defs.appendChild(h),c.activeClipUrl){c.clipGroup=null;var ee,U=j(this.extraStack);try{for(U.s();!(ee=U.n()).done;)ee.value.clipGroup=null}catch(he){U.e(he)}finally{U.f()}h.setAttributeNS(null,"clip-path",c.activeClipUrl)}c.activeClipUrl="url(#".concat(i,")"),this.tgrp=null}}},{key:"clip",value:function(c){this.pendingClip=c}},{key:"closePath",value:function(){var c=this.current;if(c.path){var i="".concat(c.path.getAttributeNS(null,"d"),"Z");c.path.setAttributeNS(null,"d",i)}}},{key:"setLeading",value:function(c){this.current.leading=-c}},{key:"setTextRise",value:function(c){this.current.textRise=c}},{key:"setTextRenderingMode",value:function(c){this.current.textRenderingMode=c}},{key:"setHScale",value:function(c){this.current.textHScale=c/100}},{key:"setRenderingIntent",value:function(c){}},{key:"setFlatness",value:function(c){}},{key:"setGState",value:function(c){var h,i=j(c);try{for(i.s();!(h=i.n()).done;){var v=z(h.value,2),U=v[0],ee=v[1];switch(U){case"LW":this.setLineWidth(ee);break;case"LC":this.setLineCap(ee);break;case"LJ":this.setLineJoin(ee);break;case"ML":this.setMiterLimit(ee);break;case"D":this.setDash(ee[0],ee[1]);break;case"RI":this.setRenderingIntent(ee);break;case"FL":this.setFlatness(ee);break;case"Font":this.setFont(ee);break;case"CA":this.setStrokeAlpha(ee);break;case"ca":this.setFillAlpha(ee);break;default:(0,a.warn)("Unimplemented graphic state operator ".concat(U))}}}catch(Q){i.e(Q)}finally{i.f()}}},{key:"fill",value:function(){var c=this.current;c.element&&(c.element.setAttributeNS(null,"fill",c.fillColor),c.element.setAttributeNS(null,"fill-opacity",c.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var c=this.current;c.element&&(this._setStrokeAttributes(c.element),c.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(c){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,h=this.current,v=h.dashArray;1!==i&&v.length>0&&(v=v.map(function(U){return i*U})),c.setAttributeNS(null,"stroke",h.strokeColor),c.setAttributeNS(null,"stroke-opacity",h.strokeAlpha),c.setAttributeNS(null,"stroke-miterlimit",b(h.miterLimit)),c.setAttributeNS(null,"stroke-linecap",h.lineCap),c.setAttributeNS(null,"stroke-linejoin",h.lineJoin),c.setAttributeNS(null,"stroke-width",b(i*h.lineWidth)+"px"),c.setAttributeNS(null,"stroke-dasharray",v.map(b).join(" ")),c.setAttributeNS(null,"stroke-dashoffset",b(i*h.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width","1px"),c.setAttributeNS(null,"height","1px"),c.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(c)}},{key:"paintImageXObject",value:function(c){var i=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);i?this.paintInlineImageXObject(i):(0,a.warn)("Dependent image with object ID ".concat(c," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(c,i){var h=c.width,v=c.height,U=C(c,this.forceDataSchema,!!i),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width",b(h)),ee.setAttributeNS(null,"height",b(v)),this.current.element=ee,this.clip("nonzero");var Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",U),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",b(-v)),Q.setAttributeNS(null,"width",b(h)+"px"),Q.setAttributeNS(null,"height",b(v)+"px"),Q.setAttributeNS(null,"transform","scale(".concat(b(1/h)," ").concat(b(-1/v),")")),i?i.appendChild(Q):this._ensureTransformGroup().appendChild(Q)}},{key:"paintImageMaskXObject",value:function(c){var i=this.current,h=c.width,v=c.height,U=i.fillColor;i.maskId="mask".concat(A++);var ee=this.svgFactory.createElement("svg:mask");ee.setAttributeNS(null,"id",i.maskId);var Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",b(h)),Q.setAttributeNS(null,"height",b(v)),Q.setAttributeNS(null,"fill",U),Q.setAttributeNS(null,"mask","url(#".concat(i.maskId,")")),this.defs.appendChild(ee),this._ensureTransformGroup().appendChild(Q),this.paintInlineImageXObject(c,ee)}},{key:"paintFormXObjectBegin",value:function(c,i){if(Array.isArray(c)&&6===c.length&&this.transform(c[0],c[1],c[2],c[3],c[4],c[5]),i){var h=i[2]-i[0],v=i[3]-i[1],U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",i[0]),U.setAttributeNS(null,"y",i[1]),U.setAttributeNS(null,"width",b(h)),U.setAttributeNS(null,"height",b(v)),this.current.element=U,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(c){var i=this.svgFactory.create(c.width,c.height),h=this.svgFactory.createElement("svg:defs");i.appendChild(h),this.defs=h;var v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",x(c.transform)),i.appendChild(v),this.svg=v,i}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var c=this.svgFactory.createElement("svg:g");c.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(c),this.current.clipGroup=c}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),o}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.XfaLayer=void 0;var a=n(4),I=n(130);function E(F,q){return function(F){if(Array.isArray(F))return F}(F)||function(F,q){var M=null==F?null:"undefined"!=typeof Symbol&&F[Symbol.iterator]||F["@@iterator"];if(null!=M){var b,x,f=[],l=!0,u=!1;try{for(M=M.call(F);!(l=(b=M.next()).done)&&(f.push(b.value),!q||f.length!==q);l=!0);}catch(m){u=!0,x=m}finally{try{!l&&null!=M.return&&M.return()}finally{if(u)throw x}}return f}}(F,q)||z(F,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(F,q){var M="undefined"!=typeof Symbol&&F[Symbol.iterator]||F["@@iterator"];if(!M){if(Array.isArray(F)||(M=z(F))||q&&F&&"number"==typeof F.length){M&&(F=M);var f=0,l=function(){};return{s:l,n:function(){return f>=F.length?{done:!0}:{done:!1,value:F[f++]}},e:function(d){throw d},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var x,u=!0,b=!1;return{s:function(){M=M.call(F)},n:function(){var d=M.next();return u=d.done,d},e:function(d){b=!0,x=d},f:function(){try{!u&&null!=M.return&&M.return()}finally{if(b)throw x}}}}function z(F,q){if(F){if("string"==typeof F)return D(F,q);var M=Object.prototype.toString.call(F).slice(8,-1);if("Object"===M&&F.constructor&&(M=F.constructor.name),"Map"===M||"Set"===M)return Array.from(F);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return D(F,q)}}function D(F,q){(null==q||q>F.length)&&(q=F.length);for(var M=0,f=new Array(q);M<q;M++)f[M]=F[M];return f}function V(F,q){for(var M=0;M<q.length;M++){var f=q[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(F,f.key,f)}}k.XfaLayer=function(){function F(){!function(F,q){if(!(F instanceof q))throw new TypeError("Cannot call a class as a function")}(this,F)}return function(F,q,M){M&&V(F,M)}(F,0,[{key:"setupStorage",value:function(M,f,l,u,b){var x=u.getValue(f,{value:null});switch(l.name){case"textarea":if(null!==x.value&&(M.textContent=x.value),"print"===b)break;M.addEventListener("input",function(O){u.setValue(f,{value:O.target.value})});break;case"input":if("radio"===l.attributes.type||"checkbox"===l.attributes.type){if(x.value===l.attributes.xfaOn?M.setAttribute("checked",!0):x.value===l.attributes.xfaOff&&M.removeAttribute("checked"),"print"===b)break;M.addEventListener("change",function(O){u.setValue(f,{value:O.target.getAttribute(O.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==x.value&&M.setAttribute("value",x.value),"print"===b)break;M.addEventListener("input",function(O){u.setValue(f,{value:O.target.value})})}break;case"select":if(null!==x.value){var d,m=H(l.children);try{for(m.s();!(d=m.n()).done;){var T=d.value;T.attributes.value===x.value&&(T.attributes.selected=!0)}}catch(O){m.e(O)}finally{m.f()}}M.addEventListener("input",function(O){var _=O.target.options;u.setValue(f,{value:-1===_.selectedIndex?"":_[_.selectedIndex].value})})}}},{key:"setAttributes",value:function(M){var A,f=M.html,l=M.element,u=M.storage,b=void 0===u?null:u,x=M.intent,m=M.linkService,d=l.attributes,T=f instanceof HTMLAnchorElement;"radio"===d.type&&(d.name="".concat(d.name,"-").concat(x));for(var O=0,_=Object.entries(d);O<_.length;O++){var C=E(_[O],2),S=C[0],P=C[1];if(null!=P&&"dataId"!==S)if("style"!==S)if("textContent"===S)f.textContent=P;else if("class"===S)f.setAttribute(S,P.join(" "));else{if(T&&("href"===S||"newWindow"===S))continue;f.setAttribute(S,P)}else Object.assign(f.style,P)}T&&(m.addLinkAttributes||(0,a.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(A=m.addLinkAttributes)||void 0===A||A.call(m,f,d.href,d.newWindow)),b&&d.dataId&&this.setupStorage(f,d.dataId,l,b)}},{key:"render",value:function(M){var f=M.annotationStorage,l=M.linkService,u=M.xfa,b=M.intent||"display",x=document.createElement(u.name);u.attributes&&this.setAttributes({html:x,element:u,intent:b,linkService:l});var m=[[u,-1,x]],d=M.div;d.appendChild(x);var T="matrix(".concat(M.viewport.transform.join(","),")");d.style.transform=T,d.setAttribute("class","xfaLayer xfaFont");for(var O=[];m.length>0;){var _,C=E(m[m.length-1],3),S=C[0],A=C[2];if(C[1]+1!==S.children.length){var p=S.children[++m[m.length-1][1]];if(null!==p){var o=p.name;if("#text"===o){var s=document.createTextNode(p.value);O.push(s),A.appendChild(s);continue}var c=void 0;if(c=null!=p&&null!==(_=p.attributes)&&void 0!==_&&_.xmlns?document.createElementNS(p.attributes.xmlns,o):document.createElement(o),A.appendChild(c),p.attributes&&this.setAttributes({html:c,element:p,storage:f,intent:b,linkService:l}),p.children&&p.children.length>0)m.push([p,-1,c]);else if(p.value){var i=document.createTextNode(p.value);I.XfaText.shouldBuildText(o)&&O.push(i),c.appendChild(i)}}}else m.pop()}var v,h=H(d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(h.s();!(v=h.n()).done;)v.value.setAttribute("readOnly",!0)}catch(ee){h.e(ee)}finally{h.f()}return{textDivs:O}}},{key:"update",value:function(M){var f="matrix(".concat(M.viewport.transform.join(","),")");M.div.style.transform=f,M.div.hidden=!1}}]),F}()},(Y,k,n)=>{"use strict";function a(i){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(i)}Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNodeStream=void 0;var i,I=(i=n(2))&&i.__esModule?i:{default:i},E=n(4),w=n(137);function R(i,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(h&&h.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),h&&H(i,h)}function H(i,h){return(H=Object.setPrototypeOf||function(U,ee){return U.__proto__=ee,U})(i,h)}function z(i){var h=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}();return function(){var ee,U=j(i);if(h){var Q=j(this).constructor;ee=Reflect.construct(U,arguments,Q)}else ee=U.apply(this,arguments);return D(this,ee)}}function D(i,h){if(h&&("object"===a(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(i)}function j(i){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(i)}function e(i,h,v,U,ee,Q,he){try{var ce=i[Q](he),de=ce.value}catch(be){return void v(be)}ce.done?h(de):Promise.resolve(de).then(U,ee)}function F(i){return function(){var h=this,v=arguments;return new Promise(function(U,ee){var Q=i.apply(h,v);function he(de){e(Q,U,ee,he,ce,"next",de)}function ce(de){e(Q,U,ee,he,ce,"throw",de)}he(void 0)})}}function f(i,h){(null==h||h>i.length)&&(h=i.length);for(var v=0,U=new Array(h);v<h;v++)U[v]=i[v];return U}function l(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}function u(i,h){for(var v=0;v<h.length;v++){var U=h[v];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(i,U.key,U)}}function b(i,h,v){return h&&u(i.prototype,h),v&&u(i,v),i}var x=__webpack_require__(2767),m=__webpack_require__(8251),d=__webpack_require__(7677),T=__webpack_require__(1543),O=/^file:\/\/\/[a-zA-Z]:\//;k.PDFNodeStream=function(){function i(h){l(this,i),this.source=h,this.url=function(i){var h=T.parse(i);return"file:"===h.protocol||h.host?h:/^[a-z]:[/\\]/i.test(i)?T.parse("file:///".concat(i)):(h.host||(h.protocol="file:"),h)}(h.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return b(i,[{key:"_progressiveDataLength",get:function(){var v,U;return null!==(v=null===(U=this._fullRequestReader)||void 0===U?void 0:U._loaded)&&void 0!==v?v:0}},{key:"getFullReader",value:function(){return(0,E.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new s(this):new p(this),this._fullRequestReader}},{key:"getRangeReader",value:function(v,U){if(U<=this._progressiveDataLength)return null;var ee=this.isFsUrl?new c(this,v,U):new o(this,v,U);return this._rangeRequestReaders.push(ee),ee}},{key:"cancelAllRequests",value:function(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);var ee,U=function(i,h){var v="undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(!v){if(Array.isArray(i)||(v=function(i,h){if(i){if("string"==typeof i)return f(i,h);var v=Object.prototype.toString.call(i).slice(8,-1);if("Object"===v&&i.constructor&&(v=i.constructor.name),"Map"===v||"Set"===v)return Array.from(i);if("Arguments"===v||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return f(i,h)}}(i))||h&&i&&"number"==typeof i.length){v&&(i=v);var U=0,ee=function(){};return{s:ee,n:function(){return U>=i.length?{done:!0}:{done:!1,value:i[U++]}},e:function(be){throw be},f:ee}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ce,Q=!0,he=!1;return{s:function(){v=v.call(i)},n:function(){var be=v.next();return Q=be.done,be},e:function(be){he=!0,ce=be},f:function(){try{!Q&&null!=v.return&&v.return()}finally{if(he)throw ce}}}}(this._rangeRequestReaders.slice(0));try{for(U.s();!(ee=U.n()).done;)ee.value.cancel(v)}catch(he){U.e(he)}finally{U.f()}}}]),i}();var S=function(){function i(h){l(this,i),this._url=h.url,this._done=!1,this._storedError=null,this.onProgress=null;var v=h.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=(0,E.createPromiseCapability)(),this._headersCapability=(0,E.createPromiseCapability)()}return b(i,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(h=F(I.default.mark(function U(){var ee,Q;return I.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,this._readCapability.promise;case 2:if(!this._done){ce.next=4;break}return ce.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){ce.next=6;break}throw this._storedError;case 6:if(null!==(ee=this._readableStream.read())){ce.next=10;break}return this._readCapability=(0,E.createPromiseCapability)(),ce.abrupt("return",this.read());case 10:return this._loaded+=ee.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),Q=new Uint8Array(ee).buffer,ce.abrupt("return",{value:Q,done:!1});case 14:case"end":return ce.stop()}},U,this)})),function(){return h.apply(this,arguments)})},{key:"cancel",value:function(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}},{key:"_error",value:function(v){this._storedError=v,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(v){var U=this;this._readableStream=v,v.on("readable",function(){U._readCapability.resolve()}),v.on("end",function(){v.destroy(),U._done=!0,U._readCapability.resolve()}),v.on("error",function(ee){U._error(ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new E.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),i;var h}(),P=function(){function i(h){l(this,i),this._url=h.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,E.createPromiseCapability)(),this._isStreamingSupported=!h.source.disableStream}return b(i,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(h=F(I.default.mark(function U(){var ee,Q;return I.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,this._readCapability.promise;case 2:if(!this._done){ce.next=4;break}return ce.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){ce.next=6;break}throw this._storedError;case 6:if(null!==(ee=this._readableStream.read())){ce.next=10;break}return this._readCapability=(0,E.createPromiseCapability)(),ce.abrupt("return",this.read());case 10:return this._loaded+=ee.length,this.onProgress&&this.onProgress({loaded:this._loaded}),Q=new Uint8Array(ee).buffer,ce.abrupt("return",{value:Q,done:!1});case 14:case"end":return ce.stop()}},U,this)})),function(){return h.apply(this,arguments)})},{key:"cancel",value:function(v){this._readableStream?this._readableStream.destroy(v):this._error(v)}},{key:"_error",value:function(v){this._storedError=v,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(v){var U=this;this._readableStream=v,v.on("readable",function(){U._readCapability.resolve()}),v.on("end",function(){v.destroy(),U._done=!0,U._readCapability.resolve()}),v.on("error",function(ee){U._error(ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),i;var h}();function A(i,h){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:h}}var p=function(i){R(v,i);var h=z(v);function v(U){var ee;l(this,v);var Q=function(ce){if(404===ce.statusCode){var de=new E.MissingPDFException('Missing PDF "'.concat(ee._url,'".'));return ee._storedError=de,void ee._headersCapability.reject(de)}ee._headersCapability.resolve(),ee._setReadableStream(ce);var be=function(N){return ee._readableStream.headers[N.toLowerCase()]},ie=(0,w.validateRangeRequestCapabilities)({getResponseHeader:be,isHttp:U.isHttp,rangeChunkSize:ee._rangeChunkSize,disableRange:ee._disableRange}),G=ie.suggestedLength;ee._isRangeSupported=ie.allowRangeRequests,ee._contentLength=G||ee._contentLength,ee._filename=(0,w.extractFilenameFromHeader)(be)};return(ee=h.call(this,U))._request=null,ee._request="http:"===ee._url.protocol?m.request(A(ee._url,U.httpHeaders),Q):d.request(A(ee._url,U.httpHeaders),Q),ee._request.on("error",function(he){ee._storedError=he,ee._headersCapability.reject(he)}),ee._request.end(),ee}return v}(S),o=function(i){R(v,i);var h=z(v);function v(U,ee,Q){var he;for(var ce in l(this,v),(he=h.call(this,U))._httpHeaders={},U.httpHeaders){var de=U.httpHeaders[ce];void 0!==de&&(he._httpHeaders[ce]=de)}he._httpHeaders.Range="bytes=".concat(ee,"-").concat(Q-1);var be=function(J){if(404!==J.statusCode)he._setReadableStream(J);else{var G=new E.MissingPDFException('Missing PDF "'.concat(he._url,'".'));he._storedError=G}};return he._request=null,he._request="http:"===he._url.protocol?m.request(A(he._url,he._httpHeaders),be):d.request(A(he._url,he._httpHeaders),be),he._request.on("error",function(ie){he._storedError=ie}),he._request.end(),he}return v}(P),s=function(i){R(v,i);var h=z(v);function v(U){var ee;l(this,v),ee=h.call(this,U);var Q=decodeURIComponent(ee._url.path);return O.test(ee._url.href)&&(Q=Q.replace(/^\//,"")),x.lstat(Q,function(he,ce){if(he)return"ENOENT"===he.code&&(he=new E.MissingPDFException('Missing PDF "'.concat(Q,'".'))),ee._storedError=he,void ee._headersCapability.reject(he);ee._contentLength=ce.size,ee._setReadableStream(x.createReadStream(Q)),ee._headersCapability.resolve()}),ee}return v}(S),c=function(i){R(v,i);var h=z(v);function v(U,ee,Q){var he;l(this,v),he=h.call(this,U);var ce=decodeURIComponent(he._url.path);return O.test(he._url.href)&&(ce=ce.replace(/^\//,"")),he._setReadableStream(x.createReadStream(ce,{start:ee,end:Q-1})),he}return v}(P)},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.createResponseStatusError=function(z,D){return 404===z||0===z&&D.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+D+'".'):new a.UnexpectedResponseException("Unexpected server response (".concat(z,') while retrieving PDF "').concat(D,'".'),z)},k.extractFilenameFromHeader=function(z){var D=z("Content-Disposition");if(D){var X=(0,I.getFilenameFromContentDispositionHeader)(D);if(X.includes("%"))try{X=decodeURIComponent(X)}catch(V){}if((0,E.isPdfFile)(X))return X}return null},k.validateRangeRequestCapabilities=function(z){var D=z.getResponseHeader,X=z.isHttp,V=z.rangeChunkSize,j=z.disableRange;(0,a.assert)(V>0,"Range chunk size must be larger than zero");var e={allowRangeRequests:!1,suggestedLength:void 0},F=parseInt(D("Content-Length"),10);return!Number.isInteger(F)||(e.suggestedLength=F,F<=2*V)||j||!X||"bytes"!==D("Accept-Ranges")||"identity"!==(D("Content-Encoding")||"identity")||(e.allowRangeRequests=!0),e},k.validateResponseStatus=function(z){return 200===z||206===z};var a=n(4),I=n(138),E=n(1)},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.getFilenameFromContentDispositionHeader=function(D){var X=!0,V=q("filename\\*","i").exec(D);if(V){var j=u(V=V[1]);return f(j=x(j=b(j=unescape(j))))}if(V=function(m){for(var T,d=[],O=q("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(T=O.exec(m));){var C=I(T,4),S=C[1],P=C[2],A=C[3];if((S=parseInt(S,10))in d){if(0===S)break}else d[S]=[P,A]}for(var p=[],o=0;o<d.length&&o in d;++o){var s=I(d[o],2),c=s[0],i=s[1];i=u(i),c&&(i=unescape(i),0===o&&(i=b(i))),p.push(i)}return p.join("")}(D))return f(x(V));if(V=q("filename","i").exec(D)){var F=u(V=V[1]);return f(F=x(F))}function q(m,d){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function M(m,d){if(m){if(!/^[\x00-\xFF]+$/.test(d))return d;try{var T=new TextDecoder(m,{fatal:!0}),O=(0,a.stringToBytes)(d);d=T.decode(O),X=!1}catch(_){if(/^utf-?8$/i.test(m))try{d=decodeURIComponent(escape(d)),X=!1}catch(C){}}}return d}function f(m){return X&&/[\x80-\xff]/.test(m)&&(m=M("utf-8",m),X&&(m=M("iso-8859-1",m))),m}function u(m){if(m.startsWith('"')){for(var d=m.slice(1).split('\\"'),T=0;T<d.length;++T){var O=d[T].indexOf('"');-1!==O&&(d[T]=d[T].slice(0,O),d.length=T+1),d[T]=d[T].replace(/\\(.)/g,"$1")}m=d.join('"')}return m}function b(m){var d=m.indexOf("'");return-1===d?m:M(m.slice(0,d),m.slice(d+1).replace(/^[^']*'/,""))}function x(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,T,O,_){if("q"===O||"Q"===O)return M(T,_=(_=_.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(C,S){return String.fromCharCode(parseInt(S,16))}));try{_=atob(_)}catch(C){}return M(T,_)})}return""};var a=n(4);function I(D,X){return function(D){if(Array.isArray(D))return D}(D)||function(D,X){var V=null==D?null:"undefined"!=typeof Symbol&&D[Symbol.iterator]||D["@@iterator"];if(null!=V){var q,M,j=[],e=!0,F=!1;try{for(V=V.call(D);!(e=(q=V.next()).done)&&(j.push(q.value),!X||j.length!==X);e=!0);}catch(f){F=!0,M=f}finally{try{!e&&null!=V.return&&V.return()}finally{if(F)throw M}}return j}}(D,X)||function(D,X){if(D){if("string"==typeof D)return B(D,X);var V=Object.prototype.toString.call(D).slice(8,-1);if("Object"===V&&D.constructor&&(V=D.constructor.name),"Map"===V||"Set"===V)return Array.from(D);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return B(D,X)}}(D,X)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(D,X){(null==X||X>D.length)&&(X=D.length);for(var V=0,j=new Array(X);V<X;V++)j[V]=D[V];return j}},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.PDFNetworkStream=void 0;var b,a=(b=n(2))&&b.__esModule?b:{default:b},I=n(4),E=n(137);function B(b,x,m,d,T,O,_){try{var C=b[O](_),S=C.value}catch(P){return void m(P)}C.done?x(S):Promise.resolve(S).then(d,T)}function R(b){return function(){var x=this,m=arguments;return new Promise(function(d,T){var O=b.apply(x,m);function _(S){B(O,d,T,_,C,"next",S)}function C(S){B(O,d,T,_,C,"throw",S)}_(void 0)})}}function H(b,x){var m="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(!m){if(Array.isArray(b)||(m=function(b,x){if(b){if("string"==typeof b)return D(b,x);var m=Object.prototype.toString.call(b).slice(8,-1);if("Object"===m&&b.constructor&&(m=b.constructor.name),"Map"===m||"Set"===m)return Array.from(b);if("Arguments"===m||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return D(b,x)}}(b))||x&&b&&"number"==typeof b.length){m&&(b=m);var d=0,T=function(){};return{s:T,n:function(){return d>=b.length?{done:!0}:{done:!1,value:b[d++]}},e:function(P){throw P},f:T}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var C,O=!0,_=!1;return{s:function(){m=m.call(b)},n:function(){var P=m.next();return O=P.done,P},e:function(P){_=!0,C=P},f:function(){try{!O&&null!=m.return&&m.return()}finally{if(_)throw C}}}}function D(b,x){(null==x||x>b.length)&&(x=b.length);for(var m=0,d=new Array(x);m<x;m++)d[m]=b[m];return d}function X(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function V(b,x){for(var m=0;m<x.length;m++){var d=x[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(b,d.key,d)}}function j(b,x,m){return x&&V(b.prototype,x),m&&V(b,m),b}var M=function(){function b(x){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};X(this,b),this.url=x,this.isHttp=/^https?:/i.test(x),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return j(b,[{key:"requestRange",value:function(m,d,T){var O={begin:m,end:d};for(var _ in T)O[_]=T[_];return this.request(O)}},{key:"requestFull",value:function(m){return this.request(m)}},{key:"request",value:function(m){var d=this.getXhr(),T=this.currXhrId++,O=this.pendingRequests[T]={xhr:d};for(var _ in d.open("GET",this.url),d.withCredentials=this.withCredentials,this.httpHeaders){var C=this.httpHeaders[_];void 0!==C&&d.setRequestHeader(_,C)}return this.isHttp&&"begin"in m&&"end"in m?(d.setRequestHeader("Range","bytes=".concat(m.begin,"-").concat(m.end-1)),O.expectedStatus=206):O.expectedStatus=200,d.responseType="arraybuffer",m.onError&&(d.onerror=function(S){m.onError(d.status)}),d.onreadystatechange=this.onStateChange.bind(this,T),d.onprogress=this.onProgress.bind(this,T),O.onHeadersReceived=m.onHeadersReceived,O.onDone=m.onDone,O.onError=m.onError,O.onProgress=m.onProgress,d.send(null),T}},{key:"onProgress",value:function(m,d){var T,O=this.pendingRequests[m];!O||null===(T=O.onProgress)||void 0===T||T.call(O,d)}},{key:"onStateChange",value:function(m,d){var T=this.pendingRequests[m];if(T){var O=T.xhr;if(O.readyState>=2&&T.onHeadersReceived&&(T.onHeadersReceived(),delete T.onHeadersReceived),4===O.readyState&&m in this.pendingRequests){var _;if(delete this.pendingRequests[m],0===O.status&&this.isHttp)return void(null===(_=T.onError)||void 0===_||_.call(T,O.status));var P,C=O.status||200;if((200!==C||206!==T.expectedStatus)&&C!==T.expectedStatus)return void(null===(P=T.onError)||void 0===P||P.call(T,O.status));var A=function(b){var x=b.response;return"string"!=typeof x?x:(0,I.stringToBytes)(x).buffer}(O);if(206===C){var p=O.getResponseHeader("Content-Range"),o=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);T.onDone({begin:parseInt(o[1],10),chunk:A})}else if(A)T.onDone({begin:0,chunk:A});else{var s;null===(s=T.onError)||void 0===s||s.call(T,O.status)}}}}},{key:"getRequestXhr",value:function(m){return this.pendingRequests[m].xhr}},{key:"isPendingRequest",value:function(m){return m in this.pendingRequests}},{key:"abortRequest",value:function(m){var d=this.pendingRequests[m].xhr;delete this.pendingRequests[m],d.abort()}}]),b}();k.PDFNetworkStream=function(){function b(x){X(this,b),this._source=x,this._manager=new M(x.url,{httpHeaders:x.httpHeaders,withCredentials:x.withCredentials}),this._rangeChunkSize=x.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return j(b,[{key:"_onRangeRequestReaderClosed",value:function(m){var d=this._rangeRequestReaders.indexOf(m);d>=0&&this._rangeRequestReaders.splice(d,1)}},{key:"getFullReader",value:function(){return(0,I.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(m,d){var T=new u(this._manager,m,d);return T.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(T),T}},{key:"cancelAllRequests",value:function(m){var d;null===(d=this._fullRequestReader)||void 0===d||d.cancel(m);var O,T=H(this._rangeRequestReaders.slice(0));try{for(T.s();!(O=T.n()).done;)O.value.cancel(m)}catch(C){T.e(C)}finally{T.f()}}}]),b}();var l=function(){function b(x,m){X(this,b),this._manager=x;var d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=x.requestFull(d),this._headersReceivedCapability=(0,I.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return j(b,[{key:"_onHeadersReceived",value:function(){var m=this._fullRequestId,d=this._manager.getRequestXhr(m),T=function(P){return d.getResponseHeader(P)},O=(0,E.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),C=O.suggestedLength;O.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=C||this._contentLength,this._filename=(0,E.extractFilenameFromHeader)(T),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var O,T=H(this._requests);try{for(T.s();!(O=T.n()).done;)O.value.resolve({value:void 0,done:!0})}catch(C){T.e(C)}finally{T.f()}this._requests.length=0}}},{key:"_onError",value:function(m){this._storedError=(0,E.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);var T,d=H(this._requests);try{for(d.s();!(T=d.n()).done;)T.value.reject(this._storedError)}catch(_){d.e(_)}finally{d.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(m){var d;null===(d=this.onProgress)||void 0===d||d.call(this,{loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(x=R(a.default.mark(function d(){var T,O;return a.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!this._storedError){C.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){C.next=5;break}return T=this._cachedChunks.shift(),C.abrupt("return",{value:T,done:!1});case 5:if(!this._done){C.next=7;break}return C.abrupt("return",{value:void 0,done:!0});case 7:return O=(0,I.createPromiseCapability)(),this._requests.push(O),C.abrupt("return",O.promise);case 10:case"end":return C.stop()}},d,this)})),function(){return x.apply(this,arguments)})},{key:"cancel",value:function(m){this._done=!0,this._headersReceivedCapability.reject(m);var T,d=H(this._requests);try{for(d.s();!(T=d.n()).done;)T.value.resolve({value:void 0,done:!0})}catch(_){d.e(_)}finally{d.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),b;var x}(),u=function(){function b(x,m,d){X(this,b),this._manager=x;var T={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=x.url,this._requestId=x.requestRange(m,d,T),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}return j(b,[{key:"_close",value:function(){var m;null===(m=this.onClosed)||void 0===m||m.call(this,this)}},{key:"_onDone",value:function(m){var d=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunk=d,this._done=!0;var _,O=H(this._requests);try{for(O.s();!(_=O.n()).done;)_.value.resolve({value:void 0,done:!0})}catch(S){O.e(S)}finally{O.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(m){this._storedError=(0,E.createResponseStatusError)(m,this._url);var T,d=H(this._requests);try{for(d.s();!(T=d.n()).done;)T.value.reject(this._storedError)}catch(_){d.e(_)}finally{d.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(m){var d;this.isStreamingSupported||null===(d=this.onProgress)||void 0===d||d.call(this,{loaded:m.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(x=R(a.default.mark(function d(){var T,O;return a.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!this._storedError){C.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){C.next=6;break}return T=this._queuedChunk,this._queuedChunk=null,C.abrupt("return",{value:T,done:!1});case 6:if(!this._done){C.next=8;break}return C.abrupt("return",{value:void 0,done:!0});case 8:return O=(0,I.createPromiseCapability)(),this._requests.push(O),C.abrupt("return",O.promise);case 11:case"end":return C.stop()}},d,this)})),function(){return x.apply(this,arguments)})},{key:"cancel",value:function(m){this._done=!0;var T,d=H(this._requests);try{for(d.s();!(T=d.n()).done;)T.value.resolve({value:void 0,done:!0})}catch(_){d.e(_)}finally{d.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),b;var x}()},(Y,k,n)=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.PDFFetchStream=void 0;var l,a=(l=n(2))&&l.__esModule?l:{default:l},I=n(4),E=n(137);function B(l,u,b,x,m,d,T){try{var O=l[d](T),_=O.value}catch(C){return void b(C)}O.done?u(_):Promise.resolve(_).then(x,m)}function R(l){return function(){var u=this,b=arguments;return new Promise(function(x,m){var d=l.apply(u,b);function T(_){B(d,x,m,T,O,"next",_)}function O(_){B(d,x,m,T,O,"throw",_)}T(void 0)})}}function D(l,u){(null==u||u>l.length)&&(u=l.length);for(var b=0,x=new Array(u);b<u;b++)x[b]=l[b];return x}function X(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function V(l,u){for(var b=0;b<u.length;b++){var x=u[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(l,x.key,x)}}function j(l,u,b){return u&&V(l.prototype,u),b&&V(l,b),l}function e(l,u,b){return{method:"GET",headers:l,signal:null==b?void 0:b.signal,mode:"cors",credentials:u?"include":"same-origin",redirect:"follow"}}function F(l){var u=new Headers;for(var b in l){var x=l[b];void 0!==x&&u.append(b,x)}return u}k.PDFFetchStream=function(){function l(u){X(this,l),this.source=u,this.isHttp=/^https?:/i.test(u.url),this.httpHeaders=this.isHttp&&u.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return j(l,[{key:"_progressiveDataLength",get:function(){var b,x;return null!==(b=null===(x=this._fullRequestReader)||void 0===x?void 0:x._loaded)&&void 0!==b?b:0}},{key:"getFullReader",value:function(){return(0,I.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new M(this),this._fullRequestReader}},{key:"getRangeReader",value:function(b,x){if(x<=this._progressiveDataLength)return null;var m=new f(this,b,x);return this._rangeRequestReaders.push(m),m}},{key:"cancelAllRequests",value:function(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);var m,x=function(l,u){var b="undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!b){if(Array.isArray(l)||(b=function(l,u){if(l){if("string"==typeof l)return D(l,u);var b=Object.prototype.toString.call(l).slice(8,-1);if("Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b)return Array.from(l);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return D(l,u)}}(l))||u&&l&&"number"==typeof l.length){b&&(l=b);var x=0,m=function(){};return{s:m,n:function(){return x>=l.length?{done:!0}:{done:!1,value:l[x++]}},e:function(C){throw C},f:m}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,d=!0,T=!1;return{s:function(){b=b.call(l)},n:function(){var C=b.next();return d=C.done,C},e:function(C){T=!0,O=C},f:function(){try{!d&&null!=b.return&&b.return()}finally{if(T)throw O}}}}(this._rangeRequestReaders.slice(0));try{for(x.s();!(m=x.n()).done;)m.value.cancel(b)}catch(T){x.e(T)}finally{x.f()}}}]),l}();var M=function(){function l(u){var b=this;X(this,l),this._stream=u,this._reader=null,this._loaded=0,this._filename=null;var x=u.source;this._withCredentials=x.withCredentials||!1,this._contentLength=x.length,this._headersCapability=(0,I.createPromiseCapability)(),this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._headers=F(this._stream.httpHeaders);var m=x.url;fetch(m,e(this._headers,this._withCredentials,this._abortController)).then(function(d){if(!(0,E.validateResponseStatus)(d.status))throw(0,E.createResponseStatusError)(d.status,m);b._reader=d.body.getReader(),b._headersCapability.resolve();var T=function(P){return d.headers.get(P)},O=(0,E.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:b._stream.isHttp,rangeChunkSize:b._rangeChunkSize,disableRange:b._disableRange}),C=O.suggestedLength;b._isRangeSupported=O.allowRangeRequests,b._contentLength=C||b._contentLength,b._filename=(0,E.extractFilenameFromHeader)(T),!b._isStreamingSupported&&b._isRangeSupported&&b.cancel(new I.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return j(l,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(u=R(a.default.mark(function x(){var m,d,T,O;return a.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this._headersCapability.promise;case 2:return C.next=4,this._reader.read();case 4:if(d=(m=C.sent).value,!(T=m.done)){C.next=9;break}return C.abrupt("return",{value:d,done:T});case 9:return this._loaded+=d.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),O=new Uint8Array(d).buffer,C.abrupt("return",{value:O,done:!1});case 13:case"end":return C.stop()}},x,this)})),function(){return u.apply(this,arguments)})},{key:"cancel",value:function(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}]),l;var u}(),f=function(){function l(u,b,x){var m=this;X(this,l),this._stream=u,this._reader=null,this._loaded=0;var d=u.source;this._withCredentials=d.withCredentials||!1,this._readCapability=(0,I.createPromiseCapability)(),this._isStreamingSupported=!d.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=F(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(b,"-").concat(x-1));var T=d.url;fetch(T,e(this._headers,this._withCredentials,this._abortController)).then(function(O){if(!(0,E.validateResponseStatus)(O.status))throw(0,E.createResponseStatusError)(O.status,T);m._readCapability.resolve(),m._reader=O.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}return j(l,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(u=R(a.default.mark(function x(){var m,d,T,O;return a.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this._readCapability.promise;case 2:return C.next=4,this._reader.read();case 4:if(d=(m=C.sent).value,!(T=m.done)){C.next=9;break}return C.abrupt("return",{value:d,done:T});case 9:return this._loaded+=d.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),O=new Uint8Array(d).buffer,C.abrupt("return",{value:O,done:!1});case 13:case"end":return C.stop()}},x,this)})),function(){return u.apply(this,arguments)})},{key:"cancel",value:function(b){this._reader&&this._reader.cancel(b),this._abortController&&this._abortController.abort()}}]),l;var u}()}],__webpack_module_cache__={};function __w_pdfjs_require__(Y){var k=__webpack_module_cache__[Y];if(void 0!==k)return k.exports;var n=__webpack_module_cache__[Y]={id:Y,loaded:!1,exports:{}};return __webpack_modules__[Y].call(n.exports,n,n.exports,__w_pdfjs_require__),n.loaded=!0,n.exports}__w_pdfjs_require__.nmd=Y=>(Y.paths=[],Y.children||(Y.children=[]),Y);var __webpack_exports__={};return(()=>{"use strict";var Y=__webpack_exports__;Object.defineProperty(Y,"__esModule",{value:!0}),Object.defineProperty(Y,"addLinkAttributes",{enumerable:!0,get:function(){return k.addLinkAttributes}}),Object.defineProperty(Y,"getFilenameFromUrl",{enumerable:!0,get:function(){return k.getFilenameFromUrl}}),Object.defineProperty(Y,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return k.getPdfFilenameFromUrl}}),Object.defineProperty(Y,"getXfaPageViewport",{enumerable:!0,get:function(){return k.getXfaPageViewport}}),Object.defineProperty(Y,"isPdfFile",{enumerable:!0,get:function(){return k.isPdfFile}}),Object.defineProperty(Y,"LinkTarget",{enumerable:!0,get:function(){return k.LinkTarget}}),Object.defineProperty(Y,"loadScript",{enumerable:!0,get:function(){return k.loadScript}}),Object.defineProperty(Y,"PDFDateString",{enumerable:!0,get:function(){return k.PDFDateString}}),Object.defineProperty(Y,"PixelsPerInch",{enumerable:!0,get:function(){return k.PixelsPerInch}}),Object.defineProperty(Y,"RenderingCancelledException",{enumerable:!0,get:function(){return k.RenderingCancelledException}}),Object.defineProperty(Y,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(Y,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(Y,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(Y,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(Y,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(Y,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(Y,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(Y,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(Y,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(Y,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(Y,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(Y,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(Y,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(Y,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(Y,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(Y,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(Y,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(Y,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(Y,"LoopbackPort",{enumerable:!0,get:function(){return a.LoopbackPort}}),Object.defineProperty(Y,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(Y,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(Y,"version",{enumerable:!0,get:function(){return a.version}}),Object.defineProperty(Y,"AnnotationLayer",{enumerable:!0,get:function(){return I.AnnotationLayer}}),Object.defineProperty(Y,"GlobalWorkerOptions",{enumerable:!0,get:function(){return E.GlobalWorkerOptions}}),Object.defineProperty(Y,"renderTextLayer",{enumerable:!0,get:function(){return B.renderTextLayer}}),Object.defineProperty(Y,"SVGGraphics",{enumerable:!0,get:function(){return R.SVGGraphics}}),Object.defineProperty(Y,"XfaLayer",{enumerable:!0,get:function(){return H.XfaLayer}});var k=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),a=__w_pdfjs_require__(119),I=__w_pdfjs_require__(131),E=__w_pdfjs_require__(125),w=__w_pdfjs_require__(6),B=__w_pdfjs_require__(133),R=__w_pdfjs_require__(134),H=__w_pdfjs_require__(135);if(w.isNodeJS){var V=__w_pdfjs_require__(136).PDFNodeStream;(0,a.setPDFNetworkStreamFactory)(function(M){return new V(M)})}else{var e=__w_pdfjs_require__(139).PDFNetworkStream,q=__w_pdfjs_require__(140).PDFFetchStream;(0,a.setPDFNetworkStreamFactory)(function(M){return(0,k.isValidFetchUrl)(M.url)?new q(M):new e(M)})}})(),__webpack_exports__})()},module.exports=n()},2917:function(Y,k,n){Y.exports=(()=>{"use strict";var a=[,(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.DefaultAnnotationLayerFactory=R.AnnotationLayerBuilder=void 0;var _,z=(_=H(2))&&_.__esModule?_:{default:_},D=H(4),X=H(5),V=H(6);function e(_,C){return function(_){if(Array.isArray(_))return _}(_)||function(_,C){var S=null==_?null:"undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(null!=S){var o,s,P=[],A=!0,p=!1;try{for(S=S.call(_);!(A=(o=S.next()).done)&&(P.push(o.value),!C||P.length!==C);A=!0);}catch(c){p=!0,s=c}finally{try{!A&&null!=S.return&&S.return()}finally{if(p)throw s}}return P}}(_,C)||function(_,C){if(_){if("string"==typeof _)return M(_,C);var S=Object.prototype.toString.call(_).slice(8,-1);if("Object"===S&&_.constructor&&(S=_.constructor.name),"Map"===S||"Set"===S)return Array.from(_);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return M(_,C)}}(_,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(_,C){(null==C||C>_.length)&&(C=_.length);for(var S=0,P=new Array(C);S<C;S++)P[S]=_[S];return P}function u(_,C,S,P,A,p,o){try{var s=_[p](o),c=s.value}catch(i){return void S(i)}s.done?C(c):Promise.resolve(c).then(P,A)}function x(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function m(_,C){for(var S=0;S<C.length;S++){var P=C[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}function d(_,C,S){return C&&m(_.prototype,C),S&&m(_,S),_}var T=function(){function _(C){var S=C.pageDiv,P=C.pdfPage,A=C.linkService,p=C.downloadManager,o=C.annotationStorage,s=void 0===o?null:o,c=C.imageResourcesPath,i=void 0===c?"":c,h=C.renderForms,v=void 0===h||h,U=C.l10n,ee=void 0===U?X.NullL10n:U,Q=C.enableScripting,he=void 0!==Q&&Q,ce=C.hasJSActionsPromise,de=void 0===ce?null:ce,be=C.fieldObjectsPromise,ie=void 0===be?null:be,J=C.mouseState,G=void 0===J?null:J;x(this,_),this.pageDiv=S,this.pdfPage=P,this.linkService=A,this.downloadManager=p,this.imageResourcesPath=i,this.renderForms=v,this.l10n=ee,this.annotationStorage=s,this.enableScripting=he,this._hasJSActionsPromise=de,this._fieldObjectsPromise=ie,this._mouseState=G,this.div=null,this._cancelled=!1}return d(_,[{key:"render",value:(C=function(_){return function(){var C=this,S=arguments;return new Promise(function(P,A){var p=_.apply(C,S);function o(c){u(p,P,A,o,s,"next",c)}function s(c){u(p,P,A,o,s,"throw",c)}o(void 0)})}}(z.default.mark(function P(A){var p,s,c,i,h,v,U,ee,Q=arguments;return z.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return p=Q.length>1&&void 0!==Q[1]?Q[1]:"display",ce.next=3,Promise.all([this.pdfPage.getAnnotations({intent:p}),this._hasJSActionsPromise,this._fieldObjectsPromise]);case 3:if(s=e(ce.sent,3),c=s[0],h=void 0!==(i=s[1])&&i,U=void 0===(v=s[2])?null:v,!this._cancelled&&0!==c.length){ce.next=12;break}return ce.abrupt("return");case 12:ee={viewport:A.clone({dontFlip:!0}),div:this.div,annotations:c,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:h,fieldObjects:U,mouseState:this._mouseState},this.div?D.AnnotationLayer.update(ee):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),ee.div=this.div,D.AnnotationLayer.render(ee),this.l10n.translate(this.div));case 14:case"end":return ce.stop()}},P,this)})),function(P){return C.apply(this,arguments)})},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||(this.div.hidden=!0)}}]),_;var C}();R.AnnotationLayerBuilder=T,R.DefaultAnnotationLayerFactory=function(){function _(){x(this,_)}return d(_,[{key:"createAnnotationLayerBuilder",value:function(S,P){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.NullL10n,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,v=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;return new T({pageDiv:S,pdfPage:P,imageResourcesPath:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",renderForms:!(arguments.length>4&&void 0!==arguments[4])||arguments[4],linkService:new V.SimpleLinkService,l10n:s,annotationStorage:A,enableScripting:c,hasJSActionsPromise:i,fieldObjectsPromise:v,mouseState:h})}}]),_}()},(B,R,H)=>{B.exports=H(3)},(B,R,H)=>{function z(X){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(X)}var D=function(X){var e,V=Object.prototype,j=V.hasOwnProperty,F="function"==typeof Symbol?Symbol:{},q=F.iterator||"@@iterator",M=F.asyncIterator||"@@asyncIterator",f=F.toStringTag||"@@toStringTag";function l(ce,de,be){return Object.defineProperty(ce,de,{value:be,enumerable:!0,configurable:!0,writable:!0}),ce[de]}try{l({},"")}catch(ce){l=function(be,ie,J){return be[ie]=J}}function u(ce,de,be,ie){var G=Object.create((de&&de.prototype instanceof _?de:_).prototype),L=new ee(ie||[]);return G._invoke=function(ce,de,be){var ie=x;return function(G,L){if(ie===d)throw new Error("Generator is already running");if(ie===T){if("throw"===G)throw L;return he()}for(be.method=G,be.arg=L;;){var N=be.delegate;if(N){var $=h(N,be);if($){if($===O)continue;return $}}if("next"===be.method)be.sent=be._sent=be.arg;else if("throw"===be.method){if(ie===x)throw ie=T,be.arg;be.dispatchException(be.arg)}else"return"===be.method&&be.abrupt("return",be.arg);ie=d;var te=b(ce,de,be);if("normal"===te.type){if(ie=be.done?T:m,te.arg===O)continue;return{value:te.arg,done:be.done}}"throw"===te.type&&(ie=T,be.method="throw",be.arg=te.arg)}}}(ce,be,L),G}function b(ce,de,be){try{return{type:"normal",arg:ce.call(de,be)}}catch(ie){return{type:"throw",arg:ie}}}X.wrap=u;var x="suspendedStart",m="suspendedYield",d="executing",T="completed",O={};function _(){}function C(){}function S(){}var P={};l(P,q,function(){return this});var A=Object.getPrototypeOf,p=A&&A(A(Q([])));p&&p!==V&&j.call(p,q)&&(P=p);var o=S.prototype=_.prototype=Object.create(P);function s(ce){["next","throw","return"].forEach(function(de){l(ce,de,function(be){return this._invoke(de,be)})})}function c(ce,de){function be(G,L,N,$){var te=b(ce[G],ce,L);if("throw"!==te.type){var se=te.arg,me=se.value;return me&&"object"===z(me)&&j.call(me,"__await")?de.resolve(me.__await).then(function(ke){be("next",ke,N,$)},function(ke){be("throw",ke,N,$)}):de.resolve(me).then(function(ke){se.value=ke,N(se)},function(ke){return be("throw",ke,N,$)})}$(te.arg)}var ie;this._invoke=function(G,L){function N(){return new de(function($,te){be(G,L,$,te)})}return ie=ie?ie.then(N,N):N()}}function h(ce,de){var be=ce.iterator[de.method];if(be===e){if(de.delegate=null,"throw"===de.method){if(ce.iterator.return&&(de.method="return",de.arg=e,h(ce,de),"throw"===de.method))return O;de.method="throw",de.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var ie=b(be,ce.iterator,de.arg);if("throw"===ie.type)return de.method="throw",de.arg=ie.arg,de.delegate=null,O;var J=ie.arg;return J?J.done?(de[ce.resultName]=J.value,de.next=ce.nextLoc,"return"!==de.method&&(de.method="next",de.arg=e),de.delegate=null,O):J:(de.method="throw",de.arg=new TypeError("iterator result is not an object"),de.delegate=null,O)}function v(ce){var de={tryLoc:ce[0]};1 in ce&&(de.catchLoc=ce[1]),2 in ce&&(de.finallyLoc=ce[2],de.afterLoc=ce[3]),this.tryEntries.push(de)}function U(ce){var de=ce.completion||{};de.type="normal",delete de.arg,ce.completion=de}function ee(ce){this.tryEntries=[{tryLoc:"root"}],ce.forEach(v,this),this.reset(!0)}function Q(ce){if(ce){var de=ce[q];if(de)return de.call(ce);if("function"==typeof ce.next)return ce;if(!isNaN(ce.length)){var be=-1,ie=function J(){for(;++be<ce.length;)if(j.call(ce,be))return J.value=ce[be],J.done=!1,J;return J.value=e,J.done=!0,J};return ie.next=ie}}return{next:he}}function he(){return{value:e,done:!0}}return C.prototype=S,l(o,"constructor",S),l(S,"constructor",C),C.displayName=l(S,f,"GeneratorFunction"),X.isGeneratorFunction=function(ce){var de="function"==typeof ce&&ce.constructor;return!!de&&(de===C||"GeneratorFunction"===(de.displayName||de.name))},X.mark=function(ce){return Object.setPrototypeOf?Object.setPrototypeOf(ce,S):(ce.__proto__=S,l(ce,f,"GeneratorFunction")),ce.prototype=Object.create(o),ce},X.awrap=function(ce){return{__await:ce}},s(c.prototype),l(c.prototype,M,function(){return this}),X.AsyncIterator=c,X.async=function(ce,de,be,ie,J){void 0===J&&(J=Promise);var G=new c(u(ce,de,be,ie),J);return X.isGeneratorFunction(de)?G:G.next().then(function(L){return L.done?L.value:G.next()})},s(o),l(o,f,"Generator"),l(o,q,function(){return this}),l(o,"toString",function(){return"[object Generator]"}),X.keys=function(ce){var de=[];for(var be in ce)de.push(be);return de.reverse(),function ie(){for(;de.length;){var J=de.pop();if(J in ce)return ie.value=J,ie.done=!1,ie}return ie.done=!0,ie}},X.values=Q,ee.prototype={constructor:ee,reset:function(de){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(U),!de)for(var be in this)"t"===be.charAt(0)&&j.call(this,be)&&!isNaN(+be.slice(1))&&(this[be]=e)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if("throw"===be.type)throw be.arg;return this.rval},dispatchException:function(de){if(this.done)throw de;var be=this;function ie(te,se){return L.type="throw",L.arg=de,be.next=te,se&&(be.method="next",be.arg=e),!!se}for(var J=this.tryEntries.length-1;J>=0;--J){var G=this.tryEntries[J],L=G.completion;if("root"===G.tryLoc)return ie("end");if(G.tryLoc<=this.prev){var N=j.call(G,"catchLoc"),$=j.call(G,"finallyLoc");if(N&&$){if(this.prev<G.catchLoc)return ie(G.catchLoc,!0);if(this.prev<G.finallyLoc)return ie(G.finallyLoc)}else if(N){if(this.prev<G.catchLoc)return ie(G.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return ie(G.finallyLoc)}}}},abrupt:function(de,be){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var J=this.tryEntries[ie];if(J.tryLoc<=this.prev&&j.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var G=J;break}}G&&("break"===de||"continue"===de)&&G.tryLoc<=be&&be<=G.finallyLoc&&(G=null);var L=G?G.completion:{};return L.type=de,L.arg=be,G?(this.method="next",this.next=G.finallyLoc,O):this.complete(L)},complete:function(de,be){if("throw"===de.type)throw de.arg;return"break"===de.type||"continue"===de.type?this.next=de.arg:"return"===de.type?(this.rval=this.arg=de.arg,this.method="return",this.next="end"):"normal"===de.type&&be&&(this.next=be),O},finish:function(de){for(var be=this.tryEntries.length-1;be>=0;--be){var ie=this.tryEntries[be];if(ie.finallyLoc===de)return this.complete(ie.completion,ie.afterLoc),U(ie),O}},catch:function(de){for(var be=this.tryEntries.length-1;be>=0;--be){var ie=this.tryEntries[be];if(ie.tryLoc===de){var J=ie.completion;if("throw"===J.type){var G=J.arg;U(ie)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(de,be,ie){return this.delegate={iterator:Q(de),resultName:be,nextLoc:ie},"next"===this.method&&(this.arg=e),O}},X}("object"===z(B=H.nmd(B))?B.exports:{});try{regeneratorRuntime=D}catch(X){"object"===("undefined"==typeof globalThis?"undefined":z(globalThis))?globalThis.regeneratorRuntime=D:Function("r","regeneratorRuntime = r")(D)}},B=>{var R;R="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n(1465),B.exports=R},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.fixupLangCode=function(l){return F[null==l?void 0:l.toLowerCase()]||l},R.getL10nFallback=e,R.NullL10n=void 0;var l,z=(l=H(2))&&l.__esModule?l:{default:l};function X(l,u,b,x,m,d,T){try{var O=l[d](T),_=O.value}catch(C){return void b(C)}O.done?u(_):Promise.resolve(_).then(x,m)}function V(l){return function(){var u=this,b=arguments;return new Promise(function(x,m){var d=l.apply(u,b);function T(_){X(d,x,m,T,O,"next",_)}function O(_){X(d,x,m,T,O,"throw",_)}T(void 0)})}}var j={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function e(l,u){switch(l){case"find_match_count":l="find_match_count[".concat(1===u.total?"one":"other","]");break;case"find_match_count_limit":l="find_match_count_limit[".concat(1===u.limit?"one":"other","]")}return j[l]||""}var F={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function M(l,u){return u?l.replace(/\{\{\s*(\w+)\s*\}\}/g,function(b,x){return x in u?u[x]:"{{"+x+"}}"}):l}R.NullL10n={getLanguage:function(){return V(z.default.mark(function u(){return z.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return","en-us");case 1:case"end":return x.stop()}},u)}))()},getDirection:function(){return V(z.default.mark(function u(){return z.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return","ltr");case 1:case"end":return x.stop()}},u)}))()},get:function(u){var b=arguments;return V(z.default.mark(function x(){var m,d;return z.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return m=b.length>1&&void 0!==b[1]?b[1]:null,d=b.length>2&&void 0!==b[2]?b[2]:e(u,m),O.abrupt("return",M(d,m));case 3:case"end":return O.stop()}},x)}))()},translate:function(u){return V(z.default.mark(function b(){return z.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:case"end":return m.stop()}},b)}))()}}},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.SimpleLinkService=R.PDFLinkService=void 0;var x,z=(x=H(2))&&x.__esModule?x:{default:x},D=H(4),X=H(7);function j(x,m,d,T,O,_,C){try{var S=x[_](C),P=S.value}catch(A){return void d(A)}S.done?m(P):Promise.resolve(P).then(T,O)}function e(x){return function(){var m=this,d=arguments;return new Promise(function(T,O){var _=x.apply(m,d);function C(P){j(_,T,O,C,S,"next",P)}function S(P){j(_,T,O,C,S,"throw",P)}C(void 0)})}}function F(x){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(x)}function q(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function M(x,m){for(var d=0;d<m.length;d++){var T=m[d];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}function f(x,m,d){return m&&M(x.prototype,m),d&&M(x,d),x}R.PDFLinkService=function(){function x(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=m.eventBus,T=m.externalLinkTarget,O=void 0===T?null:T,_=m.externalLinkRel,C=void 0===_?null:_,S=m.ignoreDestinationZoom,P=void 0!==S&&S;q(this,x),this.eventBus=d,this.externalLinkTarget=O,this.externalLinkRel=C,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=P,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return f(x,[{key:"setDocument",value:function(d){this.baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=d,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(d){this.pdfViewer=d}},{key:"setHistory",value:function(d){this.pdfHistory=d}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(d){this.pdfViewer.currentPageNumber=d}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(d){this.pdfViewer.pagesRotation=d}},{key:"_goToDestinationHelper",value:function(d){var S,T=this,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,_=arguments.length>2?arguments[2]:void 0,C=_[0];if("object"===F(C)&&null!==C){if(null===(S=this._cachedPageNumber(C)))return void this.pdfDocument.getPageIndex(C).then(function(P){T.cachePageRef(P+1,C),T._goToDestinationHelper(d,O,_)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(C,'" is not ')+'a valid page reference, for dest="'.concat(d,'".'))})}else{if(!Number.isInteger(C))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(C,'" is not ')+'a valid destination reference, for dest="'.concat(d,'".'));S=C+1}!S||S<1||S>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(S,'" is not ')+'a valid page number, for dest="'.concat(d,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:O,explicitDest:_,pageNumber:S})),this.pdfViewer.scrollPageIntoView({pageNumber:S,destArray:_,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(m=e(z.default.mark(function T(O){var _,C;return z.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(this.pdfDocument){P.next=2;break}return P.abrupt("return");case 2:if("string"!=typeof O){P.next=9;break}return _=O,P.next=6,this.pdfDocument.getDestination(O);case 6:C=P.sent,P.next=13;break;case 9:return _=null,P.next=12,O;case 12:C=P.sent;case 13:if(Array.isArray(C)){P.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(C,'" is not ')+'a valid destination array, for dest="'.concat(O,'".')),P.abrupt("return");case 16:this._goToDestinationHelper(O,_,C);case 17:case"end":return P.stop()}},T,this)})),function(T){return m.apply(this,arguments)})},{key:"goToPage",value:function(d){if(this.pdfDocument){var T="string"==typeof d&&this.pdfViewer.pageLabelToPageNumber(d)||0|d;if(!(Number.isInteger(T)&&T>0&&T<=this.pagesCount))return void console.error('PDFLinkService.goToPage: "'.concat(d,'" is not a valid page.'));this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(T)),this.pdfViewer.scrollPageIntoView({pageNumber:T})}}},{key:"addLinkAttributes",value:function(d,T){(0,D.addLinkAttributes)(d,{url:T,target:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?D.LinkTarget.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function(d){if("string"==typeof d){if(d.length>0)return this.getAnchorUrl("#"+escape(d))}else if(Array.isArray(d)){var T=JSON.stringify(d);if(T.length>0)return this.getAnchorUrl("#"+escape(T))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(d){return(this.baseUrl||"")+d}},{key:"setHash",value:function(d){var T,O;if(this.pdfDocument)if(d.includes("=")){var _=(0,X.parseQueryString)(d);if(_.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:_.get("search").replace(/"/g,""),phraseSearch:"true"===_.get("phrase")}),_.has("page")&&(T=0|_.get("page")||1),_.has("zoom")){var C=_.get("zoom").split(","),S=C[0],P=parseFloat(S);S.includes("Fit")?"Fit"===S||"FitB"===S?O=[null,{name:S}]:"FitH"===S||"FitBH"===S||"FitV"===S||"FitBV"===S?O=[null,{name:S},C.length>1?0|C[1]:null]:"FitR"===S?5!==C.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):O=[null,{name:S},0|C[1],0|C[2],0|C[3],0|C[4]]:console.error('PDFLinkService.setHash: "'.concat(S,'" is not ')+"a valid zoom value."):O=[null,{name:"XYZ"},C.length>1?0|C[1]:null,C.length>2?0|C[2]:null,P?P/100:S]}O?this.pdfViewer.scrollPageIntoView({pageNumber:T||this.page,destArray:O,allowNegativeOffset:!0}):T&&(this.page=T),_.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:_.get("pagemode")}),_.has("nameddest")&&this.goToDestination(_.get("nameddest"))}else{O=unescape(d);try{O=JSON.parse(O),Array.isArray(O)||(O=O.toString())}catch(A){}if("string"==typeof O||function(x){if(!Array.isArray(x))return!1;var m=x.length;if(m<2)return!1;var d=x[0];if(!("object"===F(d)&&Number.isInteger(d.num)&&Number.isInteger(d.gen)||Number.isInteger(d)&&d>=0))return!1;var T=x[1];if("object"!==F(T)||"string"!=typeof T.name)return!1;var O=!0;switch(T.name){case"XYZ":if(5!==m)return!1;break;case"Fit":case"FitB":return 2===m;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==m)return!1;break;case"FitR":if(6!==m)return!1;O=!1;break;default:return!1}for(var _=2;_<m;_++){var C=x[_];if(!("number"==typeof C||O&&null===C))return!1}return!0}(O))return void this.goToDestination(O);console.error('PDFLinkService.setHash: "'.concat(unescape(d),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(d){var T,O;switch(d){case"GoBack":null===(T=this.pdfHistory)||void 0===T||T.back();break;case"GoForward":null===(O=this.pdfHistory)||void 0===O||O.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:d})}},{key:"cachePageRef",value:function(d,T){if(T){var O=0===T.gen?"".concat(T.num,"R"):"".concat(T.num,"R").concat(T.gen);this._pagesRefCache[O]=d}}},{key:"_cachedPageNumber",value:function(d){var T,O=0===d.gen?"".concat(d.num,"R"):"".concat(d.num,"R").concat(d.gen);return(null===(T=this._pagesRefCache)||void 0===T?void 0:T[O])||null}},{key:"isPageVisible",value:function(d){return this.pdfViewer.isPageVisible(d)}},{key:"isPageCached",value:function(d){return this.pdfViewer.isPageCached(d)}}]),x;var m}(),R.SimpleLinkService=function(){function x(){q(this,x),this.externalLinkEnabled=!0}return f(x,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(d){}},{key:"rotation",get:function(){return 0},set:function(d){}},{key:"goToDestination",value:(m=e(z.default.mark(function T(O){return z.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:case"end":return C.stop()}},T)})),function(T){return m.apply(this,arguments)})},{key:"goToPage",value:function(d){}},{key:"addLinkAttributes",value:function(d,T){(0,D.addLinkAttributes)(d,{url:T,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function(d){return"#"}},{key:"getAnchorUrl",value:function(d){return"#"}},{key:"setHash",value:function(d){}},{key:"executeNamedAction",value:function(d){}},{key:"cachePageRef",value:function(d,T){}},{key:"isPageVisible",value:function(d){return!0}},{key:"isPageCached",value:function(d){return!0}}]),x;var m}()},(B,R)=>{function H(oe,Ae){if("function"!=typeof Ae&&null!==Ae)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),Ae&&z(oe,Ae)}function z(oe,Ae){return(z=Object.setPrototypeOf||function(Ce,Ne){return Ce.__proto__=Ne,Ce})(oe,Ae)}function D(oe){var Ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(oe){return!1}}();return function(){var Ne,Ce=e(oe);if(Ae){var Me=e(this).constructor;Ne=Reflect.construct(Ce,arguments,Me)}else Ne=Ce.apply(this,arguments);return X(this,Ne)}}function X(oe,Ae){if(Ae&&("object"===f(Ae)||"function"==typeof Ae))return Ae;if(void 0!==Ae)throw new TypeError("Derived constructors may only return object or undefined");return function(oe){if(void 0===oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}(oe)}function e(oe){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(oe)}function F(oe,Ae){if(!(oe instanceof Ae))throw new TypeError("Cannot call a class as a function")}function q(oe,Ae){for(var pe=0;pe<Ae.length;pe++){var Ce=Ae[pe];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(oe,Ce.key,Ce)}}function M(oe,Ae,pe){return Ae&&q(oe.prototype,Ae),pe&&q(oe,pe),oe}function f(oe){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(oe)}function l(oe,Ae){return function(oe){if(Array.isArray(oe))return oe}(oe)||function(oe,Ae){var pe=null==oe?null:"undefined"!=typeof Symbol&&oe[Symbol.iterator]||oe["@@iterator"];if(null!=pe){var qe,je,Ce=[],Ne=!0,Me=!1;try{for(pe=pe.call(oe);!(Ne=(qe=pe.next()).done)&&(Ce.push(qe.value),!Ae||Ce.length!==Ae);Ne=!0);}catch(Ue){Me=!0,je=Ue}finally{try{!Ne&&null!=pe.return&&pe.return()}finally{if(Me)throw je}}return Ce}}(oe,Ae)||d(oe,Ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(oe,Ae){var pe="undefined"!=typeof Symbol&&oe[Symbol.iterator]||oe["@@iterator"];if(!pe){if(Array.isArray(oe)||(pe=d(oe))||Ae&&oe&&"number"==typeof oe.length){pe&&(oe=pe);var Ce=0,Ne=function(){};return{s:Ne,n:function(){return Ce>=oe.length?{done:!0}:{done:!1,value:oe[Ce++]}},e:function(Ge){throw Ge},f:Ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var je,Me=!0,qe=!1;return{s:function(){pe=pe.call(oe)},n:function(){var Ge=pe.next();return Me=Ge.done,Ge},e:function(Ge){qe=!0,je=Ge},f:function(){try{!Me&&null!=pe.return&&pe.return()}finally{if(qe)throw je}}}}function d(oe,Ae){if(oe){if("string"==typeof oe)return T(oe,Ae);var pe=Object.prototype.toString.call(oe).slice(8,-1);if("Object"===pe&&oe.constructor&&(pe=oe.constructor.name),"Map"===pe||"Set"===pe)return Array.from(oe);if("Arguments"===pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe))return T(oe,Ae)}}function T(oe,Ae){(null==Ae||Ae>oe.length)&&(Ae=oe.length);for(var pe=0,Ce=new Array(Ae);pe<Ae;pe++)Ce[pe]=oe[pe];return Ce}Object.defineProperty(R,"__esModule",{value:!0}),R.apiPageLayoutToSpreadMode=function(oe){switch(oe){case"SinglePage":case"OneColumn":return Q.NONE;case"TwoColumnLeft":case"TwoPageLeft":return Q.ODD;case"TwoColumnRight":case"TwoPageRight":return Q.EVEN}return Q.NONE},R.apiPageModeToSidebarView=function(oe){switch(oe){case"UseNone":return h.NONE;case"UseThumbs":return h.THUMBS;case"UseOutlines":return h.OUTLINE;case"UseAttachments":return h.ATTACHMENTS;case"UseOC":return h.LAYERS}return h.NONE},R.approximateFraction=function(oe){if(Math.floor(oe)===oe)return[oe,1];var Ae=1/oe;if(Ae>8)return[1,8];if(Math.floor(Ae)===Ae)return[1,Ae];for(var Ce=oe>1?Ae:oe,Ne=0,Me=1,qe=1,je=1;;){var Ue=Ne+qe,Ge=Me+je;if(Ge>8)break;Ce<=Ue/Ge?(qe=Ue,je=Ge):(Ne=Ue,Me=Ge)}return Ce-Ne/Me<qe/je-Ce?Ce===oe?[Ne,Me]:[Me,Ne]:Ce===oe?[qe,je]:[je,qe]},R.backtrackBeforeAllVisibleElements=$,R.binarySearchFirstItem=J,R.getActiveOrFocusedElement=function(){for(var oe=document,Ae=oe.activeElement||oe.querySelector(":focus");null!==(pe=Ae)&&void 0!==pe&&pe.shadowRoot;){var pe;Ae=(oe=Ae.shadowRoot).activeElement||oe.querySelector(":focus")}return Ae},R.getOutputScale=function(oe){var Ce=(window.devicePixelRatio||1)/(oe.webkitBackingStorePixelRatio||oe.mozBackingStorePixelRatio||oe.backingStorePixelRatio||1);return{sx:Ce,sy:Ce,scaled:1!==Ce}},R.getPageSizeInches=function(oe){var pe=oe.userUnit,Ce=oe.rotate,Ne=l(oe.view,4),Ge=Ce%180!=0,We=(Ne[2]-Ne[0])/72*pe,$e=(Ne[3]-Ne[1])/72*pe;return{width:Ge?$e:We,height:Ge?We:$e}},R.getVisibleElements=function(oe){var Ae=oe.scrollEl,pe=oe.views,Ce=oe.sortByVisibility,Ne=void 0!==Ce&&Ce,Me=oe.horizontal,qe=void 0!==Me&&Me,je=oe.rtl,Ue=void 0!==je&&je,Ge=Ae.scrollTop,We=Ge+Ae.clientHeight,$e=Ae.scrollLeft,Xe=$e+Ae.clientWidth;var ft=[],It=pe.length,Pt=J(pe,qe?function(ht){var gt=ht.div,Zt=gt.offsetLeft+gt.clientLeft;return Ue?Zt<Xe:Zt+gt.clientWidth>$e}:function(ht){var gt=ht.div;return gt.offsetTop+gt.clientTop+gt.clientHeight>Ge});Pt>0&&Pt<It&&!qe&&(Pt=$(Pt,pe,Ge));for(var Ft=qe?Xe:-1,Et=Pt;Et<It;Et++){var Ut=pe[Et],Nt=Ut.div,Ot=Nt.offsetLeft+Nt.clientLeft,kt=Nt.offsetTop+Nt.clientTop,Bt=Nt.clientWidth,Qt=Nt.clientHeight,Kt=Ot+Bt,we=kt+Qt;if(-1===Ft)we>=We&&(Ft=we);else if((qe?Ot:kt)>Ft)break;if(!(we<=Ge||kt>=We||Kt<=$e||Ot>=Xe)){var De=Math.max(0,Ge-kt)+Math.max(0,we-We),ze=(Bt-(Math.max(0,$e-Ot)+Math.max(0,Kt-Xe)))/Bt;ft.push({id:Ut.id,x:Ot,y:kt,view:Ut,percent:(Qt-De)/Qt*ze*100|0,widthPercent:100*ze|0})}}var tt=ft[0],et=ft[ft.length-1];return Ne&&ft.sort(function(ht,gt){var Zt=ht.percent-gt.percent;return Math.abs(Zt)>.001?-Zt:ht.id-gt.id}),{first:tt,last:et,views:ft}},R.isPortraitOrientation=function(oe){return oe.width<=oe.height},R.isValidRotation=function(oe){return Number.isInteger(oe)&&oe%90==0},R.isValidScrollMode=function(oe){return Number.isInteger(oe)&&Object.values(ee).includes(oe)&&oe!==ee.UNKNOWN},R.isValidSpreadMode=function(oe){return Number.isInteger(oe)&&Object.values(Q).includes(oe)&&oe!==Q.UNKNOWN},R.moveToEndOfArray=function(oe,Ae){for(var pe=[],Ce=oe.length,Ne=0,Me=0;Me<Ce;++Me)Ae(oe[Me])?pe.push(oe[Me]):(oe[Ne]=oe[Me],++Ne);for(var qe=0;Ne<Ce;++qe,++Ne)oe[Ne]=pe[qe]},R.noContextMenuHandler=function(oe){oe.preventDefault()},R.normalizeWheelEventDelta=function(oe){var Ae=me(oe);return 0===oe.deltaMode?Ae/=900:1===oe.deltaMode&&(Ae/=30),Ae},R.normalizeWheelEventDirection=me,R.parseQueryString=function(oe){var Ce,Ae=new Map,pe=m(oe.split("&"));try{for(pe.s();!(Ce=pe.n()).done;){var Me=Ce.value.split("="),qe=Me[0].toLowerCase(),je=Me.length>1?Me[1]:"";Ae.set(decodeURIComponent(qe),decodeURIComponent(je))}}catch(Ue){pe.e(Ue)}finally{pe.f()}return Ae},R.roundToDivide=function(oe,Ae){var pe=oe%Ae;return 0===pe?oe:Math.round(oe-pe+Ae)},R.scrollIntoView=function(oe,Ae){var pe=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Ce=oe.offsetParent;if(Ce){for(var Ne=oe.offsetTop+oe.clientTop,Me=oe.offsetLeft+oe.clientLeft;Ce.clientHeight===Ce.scrollHeight&&Ce.clientWidth===Ce.scrollWidth||pe&&(Ce.classList.contains("markedContent")||"hidden"===getComputedStyle(Ce).overflow);)if(Ne+=Ce.offsetTop,Me+=Ce.offsetLeft,!(Ce=Ce.offsetParent))return;Ae&&(void 0!==Ae.top&&(Ne+=Ae.top),void 0!==Ae.left&&(Ce.scrollLeft=Me+=Ae.left)),Ce.scrollTop=Ne}else console.error("offsetParent is not set -- cannot scroll")},R.waitOnEventOrTimeout=function(oe){var Ae=oe.target,pe=oe.name,Ce=oe.delay,Ne=void 0===Ce?0:Ce;return new Promise(function(Me,qe){if("object"!==f(Ae)||!pe||"string"!=typeof pe||!(Number.isInteger(Ne)&&Ne>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function je($e){Ae instanceof ue?Ae._off(pe,Ue):Ae.removeEventListener(pe,Ue),We&&clearTimeout(We),Me($e)}var Ue=je.bind(null,le.EVENT);Ae instanceof ue?Ae._on(pe,Ue):Ae.addEventListener(pe,Ue);var Ge=je.bind(null,le.TIMEOUT),We=setTimeout(Ge,Ne)})},R.watchScroll=function(oe,Ae){var pe=function(qe){Ne||(Ne=window.requestAnimationFrame(function(){Ne=null;var Ue=oe.scrollLeft,Ge=Ce.lastX;Ue!==Ge&&(Ce.right=Ue>Ge),Ce.lastX=Ue;var We=oe.scrollTop,$e=Ce.lastY;We!==$e&&(Ce.down=We>$e),Ce.lastY=We,Ae(Ce)}))},Ce={right:!0,down:!0,lastX:oe.scrollLeft,lastY:oe.scrollTop,_eventHandler:pe},Ne=null;return oe.addEventListener("scroll",pe,!0),Ce},R.WaitOnType=R.VERTICAL_PADDING=R.UNKNOWN_SCALE=R.TextLayerMode=R.SpreadMode=R.SidebarView=R.ScrollMode=R.SCROLLBAR_PADDING=R.RendererType=R.ProgressBar=R.PresentationModeState=R.MIN_SCALE=R.MAX_SCALE=R.MAX_AUTO_SCALE=R.EventBus=R.DEFAULT_SCALE_VALUE=R.DEFAULT_SCALE_DELTA=R.DEFAULT_SCALE=R.AutoPrintRegExp=R.AutomationEventBus=R.animationStarted=void 0,R.DEFAULT_SCALE_VALUE="auto",R.DEFAULT_SCALE=1,R.DEFAULT_SCALE_DELTA=1.1,R.MIN_SCALE=.1,R.MAX_SCALE=10,R.UNKNOWN_SCALE=0,R.MAX_AUTO_SCALE=1.25,R.SCROLLBAR_PADDING=40,R.VERTICAL_PADDING=5;R.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var h={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};R.SidebarView=h,R.RendererType={CANVAS:"canvas",SVG:"svg"},R.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var ee={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};R.ScrollMode=ee;var Q={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function J(oe,Ae){var pe=0,Ce=oe.length-1;if(Ce<0||!Ae(oe[Ce]))return oe.length;if(Ae(oe[pe]))return pe;for(;pe<Ce;){var Ne=pe+Ce>>1;Ae(oe[Ne])?Ce=Ne:pe=Ne+1}return pe}function $(oe,Ae,pe){if(oe<2)return oe;var Ce=Ae[oe].div,Ne=Ce.offsetTop+Ce.clientTop;Ne>=pe&&(Ne=(Ce=Ae[oe-1].div).offsetTop+Ce.clientTop);for(var Me=oe-2;Me>=0&&!((Ce=Ae[Me].div).offsetTop+Ce.clientTop+Ce.clientHeight<=Ne);--Me)oe=Me;return oe}function me(oe){var Ae=Math.hypot(oe.deltaX,oe.deltaY),pe=Math.atan2(oe.deltaY,oe.deltaX);return-.25*Math.PI<pe&&pe<.75*Math.PI&&(Ae=-Ae),Ae}R.SpreadMode=Q,R.AutoPrintRegExp=/\bprint\s*\(/;var le={EVENT:"event",TIMEOUT:"timeout"};R.WaitOnType=le;var re=new Promise(function(oe){window.requestAnimationFrame(oe)});R.animationStarted=re;var ue=function(){function oe(){F(this,oe),this._listeners=Object.create(null)}return M(oe,[{key:"on",value:function(pe,Ce){var Ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(pe,Ce,{external:!0,once:null==Ne?void 0:Ne.once})}},{key:"off",value:function(pe,Ce){var Ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(pe,Ce,{external:!0,once:null==Ne?void 0:Ne.once})}},{key:"dispatch",value:function(pe,Ce){var Ne=this._listeners[pe];if(Ne&&0!==Ne.length){var Me,je,qe=m(Ne.slice(0));try{for(qe.s();!(je=qe.n()).done;){var Ue=je.value,Ge=Ue.listener,We=Ue.external;Ue.once&&this._off(pe,Ge),We?(Me||(Me=[])).push(Ge):Ge(Ce)}}catch(ft){qe.e(ft)}finally{qe.f()}if(Me){var st,Xe=m(Me);try{for(Xe.s();!(st=Xe.n()).done;)(0,st.value)(Ce)}catch(ft){Xe.e(ft)}finally{Xe.f()}Me=null}}}},{key:"_on",value:function(pe,Ce){var Ne,Me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;((Ne=this._listeners)[pe]||(Ne[pe]=[])).push({listener:Ce,external:!0===(null==Me?void 0:Me.external),once:!0===(null==Me?void 0:Me.once)})}},{key:"_off",value:function(pe,Ce){var Me=this._listeners[pe];if(Me)for(var qe=0,je=Me.length;qe<je;qe++)if(Me[qe].listener===Ce)return void Me.splice(qe,1)}}]),oe}();R.EventBus=ue,R.AutomationEventBus=function(oe){H(pe,oe);var Ae=D(pe);function pe(){return F(this,pe),Ae.apply(this,arguments)}return M(pe,[{key:"dispatch",value:function(Ne,Me){throw new Error("Not implemented: AutomationEventBus.dispatch")}}]),pe}(ue),R.ProgressBar=function(){function oe(Ae){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ce=pe.height,Ne=pe.width,Me=pe.units;F(this,oe),this.visible=!0,this.div=document.querySelector(Ae+" .progress"),this.bar=this.div.parentNode,this.height=Ce||100,this.width=Ne||100,this.units=Me||"%",this.div.style.height=this.height+this.units,this.percent=0}return M(oe,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"percent",get:function(){return this._percent},set:function(pe){this._indeterminate=isNaN(pe),this._percent=function(oe,Ae,pe){return Math.min(Math.max(oe,Ae),pe)}(pe,0,100),this._updateBar()}},{key:"setWidth",value:function(pe){if(pe){var Ne=pe.parentNode.offsetWidth-pe.offsetWidth;Ne>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(Ne,"px"))}}},{key:"hide",value:function(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),oe}()},(B,R)=>{function H(f,l){var u="undefined"!=typeof Symbol&&f[Symbol.iterator]||f["@@iterator"];if(!u){if(Array.isArray(f)||(u=function(f,l){if(f){if("string"==typeof f)return D(f,l);var u=Object.prototype.toString.call(f).slice(8,-1);if("Object"===u&&f.constructor&&(u=f.constructor.name),"Map"===u||"Set"===u)return Array.from(f);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return D(f,l)}}(f))||l&&f&&"number"==typeof f.length){u&&(f=u);var b=0,x=function(){};return{s:x,n:function(){return b>=f.length?{done:!0}:{done:!1,value:f[b++]}},e:function(_){throw _},f:x}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,m=!0,d=!1;return{s:function(){u=u.call(f)},n:function(){var _=u.next();return m=_.done,_},e:function(_){d=!0,T=_},f:function(){try{!m&&null!=u.return&&u.return()}finally{if(d)throw T}}}}function D(f,l){(null==l||l>f.length)&&(l=f.length);for(var u=0,b=new Array(l);u<l;u++)b[u]=f[u];return b}function X(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function V(f,l){for(var u=0;u<l.length;u++){var b=l[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}function j(f,l,u){return l&&V(f.prototype,l),u&&V(f,u),f}Object.defineProperty(R,"__esModule",{value:!0}),R.StructTreeLayerBuilder=R.DefaultStructTreeLayerFactory=void 0;var e={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},F=/^H(\d+)$/,q=function(){function f(l){var u=l.pdfPage;X(this,f),this.pdfPage=u}return j(f,[{key:"render",value:function(u){return this._walk(u)}},{key:"_setAttributes",value:function(u,b){void 0!==u.alt&&b.setAttribute("aria-label",u.alt),void 0!==u.id&&b.setAttribute("aria-owns",u.id)}},{key:"_walk",value:function(u){if(!u)return null;var b=document.createElement("span");if("role"in u){var x=u.role,m=x.match(F);m?(b.setAttribute("role","heading"),b.setAttribute("aria-level",m[1])):e[x]&&b.setAttribute("role",e[x])}if(this._setAttributes(u,b),u.children)if(1===u.children.length&&"id"in u.children[0])this._setAttributes(u.children[0],b);else{var T,d=H(u.children);try{for(d.s();!(T=d.n()).done;)b.appendChild(this._walk(T.value))}catch(_){d.e(_)}finally{d.f()}}return b}}]),f}();R.StructTreeLayerBuilder=q,R.DefaultStructTreeLayerFactory=function(){function f(){X(this,f)}return j(f,[{key:"createStructTreeLayerBuilder",value:function(u){return new q({pdfPage:u})}}]),f}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.TextLayerBuilder=R.DefaultTextLayerFactory=void 0;var z=H(4);function D(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")}function X(q,M){for(var f=0;f<M.length;f++){var l=M[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(q,l.key,l)}}function V(q,M,f){return M&&X(q.prototype,M),f&&X(q,f),q}var e=function(){function q(M){var f=M.textLayerDiv,l=M.eventBus,u=M.pageIndex,b=M.viewport,x=M.highlighter,m=void 0===x?null:x,d=M.enhanceTextSelection,T=void 0!==d&&d;D(this,q),this.textLayerDiv=f,this.eventBus=l,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=u+1,this.viewport=b,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=m,this.enhanceTextSelection=T,this._bindMouse()}return V(q,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var f=document.createElement("div");f.className="endOfContent",this.textLayerDiv.appendChild(f)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var f,l=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs.length=0,null===(f=this.highlighter)||void 0===f||f.setTextMapping(this.textDivs,this.textContentItemsStr);var b=document.createDocumentFragment();this.textLayerRenderTask=(0,z.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:b,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:u,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){var x;l.textLayerDiv.appendChild(b),l._finishRendering(),null===(x=l.highlighter)||void 0===x||x.enable()},function(x){})}}},{key:"cancel",value:function(){var f;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(f=this.highlighter)||void 0===f||f.disable()}},{key:"setTextContentStream",value:function(f){this.cancel(),this.textContentStream=f}},{key:"setTextContent",value:function(f){this.cancel(),this.textContent=f}},{key:"_bindMouse",value:function(){var f=this,l=this.textLayerDiv,u=null;l.addEventListener("mousedown",function(b){if(f.enhanceTextSelection&&f.textLayerRenderTask)return f.textLayerRenderTask.expandTextDivs(!0),void(u&&(clearTimeout(u),u=null));var x=l.querySelector(".endOfContent");if(x){var m=b.target!==l;if(m=m&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select")){var d=l.getBoundingClientRect(),T=Math.max(0,(b.pageY-d.top)/d.height);x.style.top=(100*T).toFixed(2)+"%"}x.classList.add("active")}}),l.addEventListener("mouseup",function(){if(f.enhanceTextSelection&&f.textLayerRenderTask)u=setTimeout(function(){f.textLayerRenderTask&&f.textLayerRenderTask.expandTextDivs(!1),u=null},300);else{var b=l.querySelector(".endOfContent");!b||(b.style.top="",b.classList.remove("active"))}})}}]),q}();R.TextLayerBuilder=e,R.DefaultTextLayerFactory=function(){function q(){D(this,q)}return V(q,[{key:"createTextLayerBuilder",value:function(f,l,u){return new e({textLayerDiv:f,pageIndex:l,viewport:u,enhanceTextSelection:arguments.length>3&&void 0!==arguments[3]&&arguments[3],eventBus:arguments.length>4?arguments[4]:void 0,highlighter:arguments.length>5?arguments[5]:void 0})}}]),q}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaLayerBuilder=R.DefaultXfaLayerFactory=void 0;var z=H(6),D=H(4);function X(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")}function V(q,M){for(var f=0;f<M.length;f++){var l=M[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(q,l.key,l)}}function j(q,M,f){return M&&V(q.prototype,M),f&&V(q,f),q}var e=function(){function q(M){var f=M.pageDiv,l=M.pdfPage,u=M.annotationStorage,b=M.linkService,x=M.xfaHtml;X(this,q),this.pageDiv=f,this.pdfPage=l,this.annotationStorage=u,this.linkService=b,this.xfaHtml=x,this.div=null,this._cancelled=!1}return j(q,[{key:"render",value:function(f){var l=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("print"===u){var b={viewport:f.clone({dontFlip:!0}),div:this.div,xfa:this.xfaHtml,page:null,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u},x=document.createElement("div");this.pageDiv.appendChild(x),b.div=x;var m=D.XfaLayer.render(b);return Promise.resolve(m)}return this.pdfPage.getXfa().then(function(d){if(l._cancelled||!d)return{textDivs:[]};var T={viewport:f.clone({dontFlip:!0}),div:l.div,xfa:d,page:l.pdfPage,annotationStorage:l.annotationStorage,linkService:l.linkService,intent:u};return l.div?D.XfaLayer.update(T):(l.div=document.createElement("div"),l.pageDiv.appendChild(l.div),T.div=l.div,D.XfaLayer.render(T))}).catch(function(d){console.error(d)})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||(this.div.hidden=!0)}}]),q}();R.XfaLayerBuilder=e,R.DefaultXfaLayerFactory=function(){function q(){X(this,q)}return j(q,[{key:"createXfaLayerBuilder",value:function(f,l){var b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new e({pageDiv:f,pdfPage:l,annotationStorage:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,linkService:new z.SimpleLinkService,xfaHtml:b})}}]),q}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.DownloadManager=void 0;var z=H(4),D=H(12);function V(q,M){for(var f=0;f<M.length;f++){var l=M[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(q,l.key,l)}}function e(q,M){var f=document.createElement("a");if(!f.click)throw new Error('DownloadManager: "a.click()" is not supported.');f.href=q,f.target="_parent","download"in f&&(f.download=M),(document.body||document.documentElement).appendChild(f),f.click(),f.remove()}R.DownloadManager=function(){function q(){(function(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")})(this,q),this._openBlobUrls=new WeakMap}return function(q,M,f){M&&V(q.prototype,M),f&&V(q,f)}(q,[{key:"downloadUrl",value:function(f,l){(0,z.createValidAbsoluteUrl)(f,"http://example.com")?e(f+"#pdfjs.action=download",l):console.error("downloadUrl - not a valid URL: ".concat(f))}},{key:"downloadData",value:function(f,l,u){e((0,z.createObjectURL)(f,u,D.compatibilityParams.disableCreateObjectURL),l)}},{key:"openOrDownloadData",value:function(f,l,u){var b=(0,z.isPdfFile)(u),x=b?"application/pdf":"";if(b&&!D.compatibilityParams.disableCreateObjectURL){var d,m=this._openBlobUrls.get(f);m||(m=URL.createObjectURL(new Blob([l],{type:x})),this._openBlobUrls.set(f,m)),d="?file="+encodeURIComponent(m+"#"+u);try{return window.open(d),!0}catch(T){console.error("openOrDownloadData: ".concat(T)),URL.revokeObjectURL(m),this._openBlobUrls.delete(f)}}return this.downloadData(l,u,x),!1}},{key:"download",value:function(f,l,u){D.compatibilityParams.disableCreateObjectURL?this.downloadUrl(l,u):e(URL.createObjectURL(f),u)}}]),q}()},(B,R)=>{function H(m){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(m)}function D(m,d){for(var T=0;T<d.length;T++){var O=d[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}Object.defineProperty(R,"__esModule",{value:!0}),R.OptionKind=R.compatibilityParams=R.AppOptions=void 0;var V=Object.create(null);R.compatibilityParams=V;var j="undefined"!=typeof navigator&&navigator.userAgent||"",e="undefined"!=typeof navigator&&navigator.platform||"",F="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,q=/Android/.test(j),M=/\b(iPad|iPhone|iPod)(?=;)/.test(j)||"MacIntel"===e&&F>1;/CriOS/.test(j)&&(V.disableCreateObjectURL=!0),(M||q)&&(V.maxCanvasPixels=5242880);var l={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};R.OptionKind=l;var u={annotationMode:{value:2,kind:l.VIEWER+l.PREFERENCE},cursorToolOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:l.VIEWER},defaultZoomValue:{value:"",kind:l.VIEWER+l.PREFERENCE},disableHistory:{value:!1,kind:l.VIEWER},disablePageLabels:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePermissions:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:l.VIEWER+l.PREFERENCE},enableScripting:{value:!0,kind:l.VIEWER+l.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:l.VIEWER},externalLinkTarget:{value:0,kind:l.VIEWER+l.PREFERENCE},historyUpdateUrl:{value:!1,kind:l.VIEWER+l.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},imageResourcesPath:{value:"./images/",kind:l.VIEWER},maxCanvasPixels:{value:16777216,compatibility:V.maxCanvasPixels,kind:l.VIEWER},pdfBugEnabled:{value:!1,kind:l.VIEWER+l.PREFERENCE},printResolution:{value:150,kind:l.VIEWER},renderer:{value:"canvas",kind:l.VIEWER},sidebarViewOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},scrollModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},spreadModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},textLayerMode:{value:1,kind:l.VIEWER+l.PREFERENCE},useOnlyCssZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},viewerCssTheme:{value:0,kind:l.VIEWER+l.PREFERENCE},viewOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},cMapPacked:{value:!0,kind:l.API},cMapUrl:{value:"../web/cmaps/",kind:l.API},disableAutoFetch:{value:!1,kind:l.API+l.PREFERENCE},disableFontFace:{value:!1,kind:l.API+l.PREFERENCE},disableRange:{value:!1,kind:l.API+l.PREFERENCE},disableStream:{value:!1,kind:l.API+l.PREFERENCE},docBaseUrl:{value:"",kind:l.API},enableXfa:{value:!0,kind:l.API+l.PREFERENCE},fontExtraProperties:{value:!1,kind:l.API},isEvalSupported:{value:!0,kind:l.API},maxImageSize:{value:-1,kind:l.API},pdfBug:{value:!1,kind:l.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:l.API},verbosity:{value:1,kind:l.API},workerPort:{value:null,kind:l.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:l.WORKER}};u.disablePreferences={value:!1,kind:l.VIEWER},u.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:l.VIEWER},u.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:l.VIEWER},u.renderer.kind+=l.PREFERENCE;var b=Object.create(null);R.AppOptions=function(){function m(){throw function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,m),new Error("Cannot initialize AppOptions.")}return function(m,d,T){d&&D(m.prototype,d),T&&D(m,T)}(m,null,[{key:"get",value:function(T){var O=b[T];if(void 0!==O)return O;var C,_=u[T];return void 0!==_?null!==(C=_.compatibility)&&void 0!==C?C:_.value:void 0}},{key:"getAll",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,O=Object.create(null);for(var _ in u){var C,S=u[_];if(T){if(0==(T&S.kind))continue;if(T===l.PREFERENCE){var P=S.value,A=H(P);if("boolean"===A||"string"===A||"number"===A&&Number.isInteger(P)){O[_]=P;continue}throw new Error("Invalid type for preference: ".concat(_))}}var p=b[_];O[_]=void 0!==p?p:null!==(C=S.compatibility)&&void 0!==C?C:S.value}return O}},{key:"set",value:function(T,O){b[T]=O}},{key:"setAll",value:function(T){for(var O in T)b[O]=T[O]}},{key:"remove",value:function(T){delete b[T]}},{key:"_hasUserOptions",value:function(){return Object.keys(b).length>0}}]),m}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.GenericL10n=void 0;var l,z=(l=H(2))&&l.__esModule?l:{default:l};H(14);var D=H(5);function V(l,u,b,x,m,d,T){try{var O=l[d](T),_=O.value}catch(C){return void b(C)}O.done?u(_):Promise.resolve(_).then(x,m)}function j(l){return function(){var u=this,b=arguments;return new Promise(function(x,m){var d=l.apply(u,b);function T(_){V(d,x,m,T,O,"next",_)}function O(_){V(d,x,m,T,O,"throw",_)}T(void 0)})}}function F(l,u){for(var b=0;b<u.length;b++){var x=u[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(l,x.key,x)}}var M=document.webL10n;R.GenericL10n=function(){function l(u){(function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")})(this,l),this._lang=u,this._ready=new Promise(function(b,x){M.setLanguage((0,D.fixupLangCode)(u),function(){b(M)})})}return function(l,u,b){u&&F(l.prototype,u),b&&F(l,b)}(l,[{key:"getLanguage",value:(u=j(z.default.mark(function x(){return z.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,this._ready;case 2:return T.abrupt("return",T.sent.getLanguage());case 4:case"end":return T.stop()}},x,this)})),function(){return u.apply(this,arguments)})},{key:"getDirection",value:function(){var u=j(z.default.mark(function x(){return z.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,this._ready;case 2:return T.abrupt("return",T.sent.getDirection());case 4:case"end":return T.stop()}},x,this)}));return function(){return u.apply(this,arguments)}}()},{key:"get",value:function(){var u=j(z.default.mark(function x(m){var d,T,_=arguments;return z.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return d=_.length>1&&void 0!==_[1]?_[1]:null,T=_.length>2&&void 0!==_[2]?_[2]:(0,D.getL10nFallback)(m,d),S.next=4,this._ready;case 4:return S.abrupt("return",S.sent.get(m,d,T));case 6:case"end":return S.stop()}},x,this)}));return function(x){return u.apply(this,arguments)}}()},{key:"translate",value:function(){var u=j(z.default.mark(function x(m){return z.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this._ready;case 2:return O.abrupt("return",O.sent.translate(m));case 4:case"end":return O.stop()}},x,this)}));return function(x){return u.apply(this,arguments)}}()}]),l;var u}()},()=>{document.webL10n=function(B,R,H){var z={},D="",X="textContent",V="",j={},e="loading";function u(A,p,o){p=p||function(i){},o=o||function(){};var s=new XMLHttpRequest;s.open("GET",A,true),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=utf-8"),s.onreadystatechange=function(){4==s.readyState&&(200==s.status||0===s.status?p(s.responseText):o())},s.onerror=o,s.ontimeout=o;try{s.send(null)}catch(c){o()}}function b(A,p,o,s){var c=A.replace(/[^\/]*$/,"")||"./";function i(v){return v.lastIndexOf("\\")<0?v:v.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}u(A,function(v){D+=v,function(v,U){var ee={},Q=/^\s*|\s*$/,he=/^\s*#|^\s*$/,ce=/^\s*\[(.*)\]\s*$/,de=/^\s*@import\s+url\((.*)\)\s*$/i,be=/^([^=\s]*)\s*=\s*(.+)$/;function ie(G,L,N){var $=G.replace(Q,"").split(/[\r\n]+/),te="*",se=p.split("-",1)[0],me=!1,ke="";!function Pe(){for(;;){if(!$.length)return void N();var Ze=$.shift();if(!he.test(Ze)){if(L){if(ke=ce.exec(Ze)){te=ke[1].toLowerCase(),me="*"!==te&&te!==p&&te!==se;continue}if(me)continue;if(ke=de.exec(Ze))return void J(c+ke[1],Pe)}var Ee=Ze.match(be);Ee&&3==Ee.length&&(ee[Ee[1]]=i(Ee[2]))}}}()}function J(G,L){u(G,function(N){ie(N,!1,L)},function(){console.warn(G+" not found."),L()})}ie(v,!0,function(){U(ee)})}(v,function(U){for(var ee in U){var Q,he,ce=ee.lastIndexOf(".");ce>0?(Q=ee.substring(0,ce),he=ee.substring(ce+1)):(Q=ee,he=X),z[Q]||(z[Q]={}),z[Q][he]=U[ee]}o&&o()})},s)}function x(A,p){A&&(A=A.toLowerCase()),p=p||function(){},z={},D="",V="",V=A;var o=R.querySelectorAll('link[type="application/l10n"]'),s=o.length;if(0!==s){var v,U=0;v=function(){++U>=s&&(p(),e="complete")};for(var Q=0;Q<s;Q++)new ee(o[Q]).load(A,v)}else{var c=function(){var A=R.querySelector('script[type="application/l10n"]');return A?JSON.parse(A.innerHTML):null}();if(c&&c.locales&&c.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(z=c.locales[A])){var i=c.default_locale.toLowerCase();for(var h in c.locales){if((h=h.toLowerCase())===A){z=c.locales[A];break}h===i&&(z=c.locales[i])}}p()}else console.log("no resource to load, early way out");e="complete"}function ee(ce){var de=ce.href;this.load=function(be,ie){b(de,be,ie,function(){console.warn(de+" not found."),console.warn('"'+be+'" resource not found'),V="",ie()})}}}function T(A,p,o){var s=z[A];if(!s){if(console.warn("#"+A+" is undefined."),!o)return null;s=o}var c={};for(var i in s){var h=s[i];h=_(h=O(h,p,A,i),p,A),c[i]=h}return c}function O(A,p,o,s){var i=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(A);if(!i||!i.length)return A;var U,h=i[1],v=i[2];return p&&v in p?U=p[v]:v in z&&(U=z[v]),h in j&&(A=(0,j[h])(A,U,o,s)),A}function _(A,p,o){return A.replace(/\{\{\s*(.+?)\s*\}\}/g,function(c,i){return p&&i in p?p[i]:i in z?z[i]:(console.log("argument {{"+i+"}} for #"+o+" is undefined."),c)})}function C(A){var p=function(A){if(!A)return{};var p=A.getAttribute("data-l10n-id"),o=A.getAttribute("data-l10n-args"),s={};if(o)try{s=JSON.parse(o)}catch(c){console.warn("could not parse arguments for #"+p)}return{id:p,args:s}}(A);if(p.id){var o=T(p.id,p.args);if(!o)return void console.warn("#"+p.id+" is undefined.");if(o[X]){if(0===function(A){if(A.children)return A.children.length;if(void 0!==A.childElementCount)return A.childElementCount;for(var p=0,o=0;o<A.childNodes.length;o++)p+=1===A.nodeType?1:0;return p}(A))A[X]=o[X];else{for(var s=A.childNodes,c=!1,i=0,h=s.length;i<h;i++)3===s[i].nodeType&&/\S/.test(s[i].nodeValue)&&(c?s[i].nodeValue="":(s[i].nodeValue=o[X],c=!0));if(!c){var v=R.createTextNode(o[X]);A.insertBefore(v,A.firstChild)}}delete o[X]}for(var U in o)A[U]=o[U]}}return j.plural=function(A,p,o,s){var c=parseFloat(p);if(isNaN(c)||s!=X)return A;j._pluralRules||(j._pluralRules=function(A){function o(h,v){return-1!==v.indexOf(h)}function s(h,v,U){return v<=h&&h<=U}var c={0:function(v){return"other"},1:function(v){return s(v%100,3,10)?"few":0===v?"zero":s(v%100,11,99)?"many":2==v?"two":1==v?"one":"other"},2:function(v){return 0!==v&&v%10==0?"many":2==v?"two":1==v?"one":"other"},3:function(v){return 1==v?"one":"other"},4:function(v){return s(v,0,1)?"one":"other"},5:function(v){return s(v,0,2)&&2!=v?"one":"other"},6:function(v){return 0===v?"zero":v%10==1&&v%100!=11?"one":"other"},7:function(v){return 2==v?"two":1==v?"one":"other"},8:function(v){return s(v,3,6)?"few":s(v,7,10)?"many":2==v?"two":1==v?"one":"other"},9:function(v){return 0===v||1!=v&&s(v%100,1,19)?"few":1==v?"one":"other"},10:function(v){return s(v%10,2,9)&&!s(v%100,11,19)?"few":v%10!=1||s(v%100,11,19)?"other":"one"},11:function(v){return s(v%10,2,4)&&!s(v%100,12,14)?"few":v%10==0||s(v%10,5,9)||s(v%100,11,14)?"many":v%10==1&&v%100!=11?"one":"other"},12:function(v){return s(v,2,4)?"few":1==v?"one":"other"},13:function(v){return s(v%10,2,4)&&!s(v%100,12,14)?"few":1!=v&&s(v%10,0,1)||s(v%10,5,9)||s(v%100,12,14)?"many":1==v?"one":"other"},14:function(v){return s(v%100,3,4)?"few":v%100==2?"two":v%100==1?"one":"other"},15:function(v){return 0===v||s(v%100,2,10)?"few":s(v%100,11,19)?"many":1==v?"one":"other"},16:function(v){return v%10==1&&11!=v?"one":"other"},17:function(v){return 3==v?"few":0===v?"zero":6==v?"many":2==v?"two":1==v?"one":"other"},18:function(v){return 0===v?"zero":s(v,0,2)&&0!==v&&2!=v?"one":"other"},19:function(v){return s(v,2,10)?"few":s(v,0,1)?"one":"other"},20:function(v){return!s(v%10,3,4)&&v%10!=9||s(v%100,10,19)||s(v%100,70,79)||s(v%100,90,99)?v%1e6==0&&0!==v?"many":v%10!=2||o(v%100,[12,72,92])?v%10!=1||o(v%100,[11,71,91])?"other":"one":"two":"few"},21:function(v){return 0===v?"zero":1==v?"one":"other"},22:function(v){return s(v,0,1)||s(v,11,99)?"one":"other"},23:function(v){return s(v%10,1,2)||v%20==0?"one":"other"},24:function(v){return s(v,3,10)||s(v,13,19)?"few":o(v,[2,12])?"two":o(v,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[A.replace(/-.*$/,"")];return i in c?c[i]:(console.warn("plural form unknown for ["+A+"]"),function(){return"other"})}(V));var i="["+j._pluralRules(c)+"]";return 0===c&&o+"[zero]"in z?A=z[o+"[zero]"][s]:1==c&&o+"[one]"in z?A=z[o+"[one]"][s]:2==c&&o+"[two]"in z?A=z[o+"[two]"][s]:o+i in z?A=z[o+i][s]:o+"[other]"in z&&(A=z[o+"[other]"][s]),A},{get:function(p,o,s){var h,c=p.lastIndexOf("."),i=X;c>0&&(i=p.substring(c+1),p=p.substring(0,c)),s&&((h={})[i]=s);var v=T(p,o,h);return v&&i in v?v[i]:"{{"+p+"}}"},getData:function(){return z},getText:function(){return D},getLanguage:function(){return V},setLanguage:function(p,o){x(p,function(){o&&o()})},getDirection:function(){var o=V.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(o)>=0?"rtl":"ltr"},translate:function(A){for(var p=function(A){return A?A.querySelectorAll("*[data-l10n-id]"):[]}(A=A||R.documentElement),o=p.length,s=0;s<o;s++)C(p[s]);C(A)},getReadyState:function(){return e},ready:function(p){p&&("complete"==e||"interactive"==e?B.setTimeout(function(){p()}):R.addEventListener&&R.addEventListener("localized",function o(){R.removeEventListener("localized",o),p()}))}}}(window,document)},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFFindController=R.FindState=void 0;var z=H(4),D=H(16),X=H(7);function j(A,p){for(var o=0;o<p.length;o++){var s=p[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(A,s.key,s)}}function F(A,p){return function(A){if(Array.isArray(A))return A}(A)||function(A,p){var o=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null!=o){var h,v,s=[],c=!0,i=!1;try{for(o=o.call(A);!(c=(h=o.next()).done)&&(s.push(h.value),!p||s.length!==p);c=!0);}catch(U){i=!0,v=U}finally{try{!c&&null!=o.return&&o.return()}finally{if(i)throw v}}return s}}(A,p)||u(A,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(A,p){var o="undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(!o){if(Array.isArray(A)||(o=u(A))||p&&A&&"number"==typeof A.length){o&&(A=o);var s=0,c=function(){};return{s:c,n:function(){return s>=A.length?{done:!0}:{done:!1,value:A[s++]}},e:function(ee){throw ee},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var v,i=!0,h=!1;return{s:function(){o=o.call(A)},n:function(){var ee=o.next();return i=ee.done,ee},e:function(ee){h=!0,v=ee},f:function(){try{!i&&null!=o.return&&o.return()}finally{if(h)throw v}}}}function u(A,p){if(A){if("string"==typeof A)return b(A,p);var o=Object.prototype.toString.call(A).slice(8,-1);if("Object"===o&&A.constructor&&(o=A.constructor.name),"Map"===o||"Set"===o)return Array.from(A);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return b(A,p)}}function b(A,p){(null==p||p>A.length)&&(p=A.length);for(var o=0,s=new Array(p);o<p;o++)s[o]=A[o];return s}var x={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};R.FindState=x;var O={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},_=null;function C(A){if(!_){var p=Object.keys(O).join("");_=new RegExp("[".concat(p,"]"),"g")}var o=null;return[A.replace(_,function(c,i){var h=O[c],v=h.length-c.length;return 0!==v&&(o||(o=[])).push([i,v]),h}),o]}function S(A){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!p)return A;var c,o=0,s=l(p);try{for(s.s();!(c=s.n()).done;){var i=F(c.value,2),v=i[1],U=i[0]+o;if(U>=A)break;if(U+v>A){o+=A-U;break}o+=v}}catch(ee){s.e(ee)}finally{s.f()}return A-o}R.PDFFindController=function(){function A(p){var o=p.linkService,s=p.eventBus;(function(A,p){if(!(A instanceof p))throw new TypeError("Cannot call a class as a function")})(this,A),this._linkService=o,this._eventBus=s,this._reset(),s._on("findbarclose",this._onFindBarClose.bind(this))}return function(A,p,o){p&&j(A.prototype,p),o&&j(A,o)}(A,[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(o){this._pdfDocument&&this._reset(),o&&(this._pdfDocument=o,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(o,s){var c=this;if(s){var i=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(o,s))&&(this._dirtyMatch=!0),this._state=s,"findhighlightallchange"!==o&&this._updateUIState(x.PENDING),this._firstPageCapability.promise.then(function(){if(c._pdfDocument&&(!i||c._pdfDocument===i)){c._extractText();var h=!c._highlightMatches,v=!!c._findTimeout;c._findTimeout&&(clearTimeout(c._findTimeout),c._findTimeout=null),"find"===o?c._findTimeout=setTimeout(function(){c._nextMatch(),c._findTimeout=null},250):c._dirtyMatch?c._nextMatch():"findagain"===o?(c._nextMatch(),h&&c._state.highlightAll&&c._updateAllPages()):"findhighlightallchange"===o?(v?c._nextMatch():c._highlightMatches=!0,c._updateAllPages()):c._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(o){var s=o.element,c=void 0===s?null:s,i=o.selectedLeft,h=void 0===i?0:i,v=o.pageIndex,U=void 0===v?-1:v,ee=o.matchIndex,Q=void 0===ee?-1:ee;if(this._scrollMatches&&c){if(-1===Q||Q!==this._selected.matchIdx)return;if(-1===U||U!==this._selected.pageIdx)return;this._scrollMatches=!1,(0,X.scrollIntoView)(c,{top:-50,left:h+-400},!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,z.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var s=F(C(this._state.query),1);this._normalizedQuery=s[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(o,s){if(s.query!==this._state.query)return!0;switch(o){case"findagain":var c=this._selected.pageIdx+1,i=this._linkService;return c>=1&&c<=i.pagesCount&&c!==i.page&&!i.isPageVisible(c);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(o,s,c){function i(U){var ee=o[U];if(U<o.length-1&&ee.match===o[U+1].match)return ee.skipped=!0,!0;for(var he=U-1;he>=0;he--){var ce=o[he];if(!ce.skipped){if(ce.match+ce.matchLength<ee.match)break;if(ce.match+ce.matchLength>=ee.match+ee.matchLength)return ee.skipped=!0,!0}}return!1}o.sort(function(U,ee){return U.match===ee.match?U.matchLength-ee.matchLength:U.match-ee.match});for(var h=0,v=o.length;h<v;h++)i(h)||(s.push(o[h].match),c.push(o[h].matchLength))}},{key:"_isEntireWord",value:function(o,s,c){if(s>0){var i=o.charCodeAt(s),h=o.charCodeAt(s-1);if((0,D.getCharacterType)(i)===(0,D.getCharacterType)(h))return!1}var v=s+c-1;if(v<o.length-1){var U=o.charCodeAt(v),ee=o.charCodeAt(v+1);if((0,D.getCharacterType)(U)===(0,D.getCharacterType)(ee))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(o,s,c,i,h){for(var v=[],U=[],ee=o.length,Q=-ee;-1!==(Q=c.indexOf(o,Q+ee));)if(!h||this._isEntireWord(c,Q,ee)){var he=S(Q,i),de=S(Q+ee-1,i)-he+1;v.push(he),U.push(de)}this._pageMatches[s]=v,this._pageMatchesLength[s]=U}},{key:"_calculateWordMatch",value:function(o,s,c,i,h){for(var v=[],U=o.match(/\S+/g),ee=0,Q=U.length;ee<Q;ee++)for(var he=U[ee],ce=he.length,de=-ce;-1!==(de=c.indexOf(he,de+ce));)if(!h||this._isEntireWord(c,de,ce)){var be=S(de,i),J=S(de+ce-1,i)-be+1;v.push({match:be,matchLength:J,skipped:!1})}this._pageMatchesLength[s]=[],this._pageMatches[s]=[],this._prepareMatches(v,this._pageMatches[s],this._pageMatchesLength[s])}},{key:"_calculateMatch",value:function(o){var s=this._pageContents[o],c=this._pageDiffs[o],i=this._query,h=this._state,U=h.entireWord,ee=h.phraseSearch;if(0!==i.length){h.caseSensitive||(s=s.toLowerCase(),i=i.toLowerCase()),ee?this._calculatePhraseMatch(i,o,s,c,U):this._calculateWordMatch(i,o,s,c,U),this._state.highlightAll&&this._updatePage(o),this._resumePageIdx===o&&(this._resumePageIdx=null,this._nextPageMatch());var Q=this._pageMatches[o].length;Q>0&&(this._matchesCountTotal+=Q,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var o=this;if(!(this._extractTextPromises.length>0))for(var s=Promise.resolve(),c=function(U,ee){var Q=(0,z.createPromiseCapability)();o._extractTextPromises[U]=Q.promise,s=s.then(function(){return o._pdfDocument.getPage(U+1).then(function(he){return he.getTextContent({normalizeWhitespace:!0})}).then(function(he){for(var ce=he.items,de=[],be=0,ie=ce.length;be<ie;be++)de.push(ce[be].str);var G=F(C(de.join("")),2);o._pageContents[U]=G[0],o._pageDiffs[U]=G[1],Q.resolve(U)},function(he){console.error("Unable to get text content for page ".concat(U+1),he),o._pageContents[U]="",o._pageDiffs[U]=null,Q.resolve(U)})})},i=0,h=this._linkService.pagesCount;i<h;i++)c(i)}},{key:"_updatePage",value:function(o){this._scrollMatches&&this._selected.pageIdx===o&&(this._linkService.page=o+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:o})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var o=this,s=this._state.findPrevious,c=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=c,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var h=0;h<i;h++)this._pendingFindMatches.has(h)||(this._pendingFindMatches.add(h),this._extractTextPromises[h].then(function(ee){o._pendingFindMatches.delete(ee),o._calculateMatch(ee)}))}if(""!==this._query){if(!this._resumePageIdx){var v=this._offset;if(this._pagesToSearch=i,null!==v.matchIdx){if(!s&&v.matchIdx+1<this._pageMatches[v.pageIdx].length||s&&v.matchIdx>0)return v.matchIdx=s?v.matchIdx-1:v.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(s)}this._nextPageMatch()}}else this._updateUIState(x.FOUND)}},{key:"_matchesReady",value:function(o){var s=this._offset,c=o.length,i=this._state.findPrevious;return c?(s.matchIdx=i?c-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(s.wrapped&&(s.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var o=null;do{var s=this._offset.pageIdx;if(!(o=this._pageMatches[s])){this._resumePageIdx=s;break}}while(!this._matchesReady(o))}},{key:"_advanceOffsetPage",value:function(o){var s=this._offset,c=this._linkService.pagesCount;s.pageIdx=o?s.pageIdx-1:s.pageIdx+1,s.matchIdx=null,this._pagesToSearch--,(s.pageIdx>=c||s.pageIdx<0)&&(s.pageIdx=o?c-1:0,s.wrapped=!0)}},{key:"_updateMatch",value:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=x.NOT_FOUND,c=this._offset.wrapped;if(this._offset.wrapped=!1,o){var i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,s=c?x.WRAPPED:x.FOUND,-1!==i&&i!==this._selected.pageIdx&&this._updatePage(i)}this._updateUIState(s,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(o){var s=this,c=this._pdfDocument;this._firstPageCapability.promise.then(function(){!s._pdfDocument||c&&s._pdfDocument!==c||(s._findTimeout&&(clearTimeout(s._findTimeout),s._findTimeout=null),s._resumePageIdx&&(s._resumePageIdx=null,s._dirtyMatch=!0),s._updateUIState(x.FOUND),s._highlightMatches=!1,s._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var o=this._selected,s=o.pageIdx,c=o.matchIdx,i=0,h=this._matchesCountTotal;if(-1!==c){for(var v=0;v<s;v++){var U;i+=(null===(U=this._pageMatches[v])||void 0===U?void 0:U.length)||0}i+=c+1}return(i<1||i>h)&&(i=h=0),{current:i,total:h}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(o,s){var c,i;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:o,previous:s,matchesCount:this._requestMatchesCount(),rawQuery:null!==(c=null===(i=this._state)||void 0===i?void 0:i.query)&&void 0!==c?c:null})}}]),A}()},(B,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.getCharacterType=function(u){return function(u){return u<11904}(u)?function(u){return 0==(65408&u)}(u)?function(u){return 32===u||9===u||13===u||10===u}(u)?H.SPACE:function(u){return u>=97&&u<=122||u>=65&&u<=90}(u)||function(u){return u>=48&&u<=57}(u)||95===u?H.ALPHA_LETTER:H.PUNCT:function(u){return 3584==(65408&u)}(u)?H.THAI_LETTER:160===u?H.SPACE:H.ALPHA_LETTER:function(u){return u>=13312&&u<=40959||u>=63744&&u<=64255}(u)?H.HAN_LETTER:function(u){return u>=12448&&u<=12543}(u)?H.KATAKANA_LETTER:function(u){return u>=12352&&u<=12447}(u)?H.HIRAGANA_LETTER:function(u){return u>=65376&&u<=65439}(u)?H.HALFWIDTH_KATAKANA_LETTER:H.ALPHA_LETTER},R.CharacterType=void 0;var H={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};R.CharacterType=H},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isDestArraysEqual=O,R.isDestHashesEqual=T,R.PDFHistory=void 0;var z=H(7);function D(_){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}function X(_,C){return function(_){if(Array.isArray(_))return _}(_)||function(_,C){var S=null==_?null:"undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(null!=S){var o,s,P=[],A=!0,p=!1;try{for(S=S.call(_);!(A=(o=S.next()).done)&&(P.push(o.value),!C||P.length!==C);A=!0);}catch(c){p=!0,s=c}finally{try{!A&&null!=S.return&&S.return()}finally{if(p)throw s}}return P}}(_,C)||function(_,C){if(_){if("string"==typeof _)return e(_,C);var S=Object.prototype.toString.call(_).slice(8,-1);if("Object"===S&&_.constructor&&(S=_.constructor.name),"Map"===S||"Set"===S)return Array.from(_);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return e(_,C)}}(_,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(_,C){(null==C||C>_.length)&&(C=_.length);for(var S=0,P=new Array(C);S<C;S++)P[S]=_[S];return P}function f(_,C){for(var S=0;S<C.length;S++){var P=C[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}function m(){return document.location.hash}function T(_,C){return"string"==typeof _&&"string"==typeof C&&(_===C||(0,z.parseQueryString)(_).get("nameddest")===C)}function O(_,C){function S(p,o){if(D(p)!==D(o)||Array.isArray(p)||Array.isArray(o))return!1;if(null!==p&&"object"===D(p)&&null!==o){if(Object.keys(p).length!==Object.keys(o).length)return!1;for(var s in p)if(!S(p[s],o[s]))return!1;return!0}return p===o||Number.isNaN(p)&&Number.isNaN(o)}if(!Array.isArray(_)||!Array.isArray(C)||_.length!==C.length)return!1;for(var P=0,A=_.length;P<A;P++)if(!S(_[P],C[P]))return!1;return!0}R.PDFHistory=function(){function _(C){var S=this,P=C.linkService,A=C.eventBus;(function(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")})(this,_),this.linkService=P,this.eventBus=A,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(p){S._isViewerInPresentationMode=p.state!==z.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){S._isPagesLoaded=!1,S.eventBus._on("pagesloaded",function(p){S._isPagesLoaded=!!p.pagesCount},{once:!0})})}return function(_,C,S){C&&f(_.prototype,C),S&&f(_,S)}(_,[{key:"initialize",value:function(S){var P=S.fingerprint,A=S.resetHistory,p=void 0!==A&&A,o=S.updateUrl,s=void 0!==o&&o;if(P&&"string"==typeof P){this._initialized&&this.reset();var c=""!==this._fingerprint&&this._fingerprint!==P;this._fingerprint=P,this._updateUrl=!0===s,this._initialized=!0,this._bindEvents();var i=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=m(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(i,!0)||p){var h=this._parseCurrentHash(!0),v=h.hash,U=h.page,ee=h.rotation;return!v||c||p?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:v,page:U,rotation:ee},!0)}var Q=i.destination;this._updateInternalState(Q,i.uid,!0),void 0!==Q.rotation&&(this._initialRotation=Q.rotation),Q.dest?(this._initialBookmark=JSON.stringify(Q.dest),this._destination.page=null):Q.hash?this._initialBookmark=Q.hash:Q.page&&(this._initialBookmark="page=".concat(Q.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(S){var P=this,A=S.namedDest,p=void 0===A?null:A,o=S.explicitDest,s=S.pageNumber;if(this._initialized){if(p&&"string"!=typeof p)return void console.error("PDFHistory.push: "+'"'.concat(p,'" is not a valid namedDest parameter.'));if(!Array.isArray(o))return void console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid explicitDest parameter.'));if(!this._isValidPage(s)&&(null!==s||this._destination))return void console.error("PDFHistory.push: "+'"'.concat(s,'" is not a valid pageNumber parameter.'));var c=p||JSON.stringify(o);if(c){var i=!1;if(this._destination&&(T(this._destination.hash,c)||O(this._destination.dest,o))){if(this._destination.page)return;i=!0}this._popStateInProgress&&!i||(this._pushOrReplaceState({dest:o,hash:c,page:s,rotation:this.linkService.rotation},i),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){P._popStateInProgress=!1})))}}}},{key:"pushPage",value:function(S){var P,A=this;if(this._initialized){if(!this._isValidPage(S))return void console.error('PDFHistory.pushPage: "'.concat(S,'" is not a valid page number.'));(null===(P=this._destination)||void 0===P?void 0:P.page)!==S&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(S),page:S,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){A._popStateInProgress=!1}))))}}},{key:"pushCurrentPosition",value:function(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var S=window.history.state;this._isValidState(S)&&S.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var S=window.history.state;this._isValidState(S)&&S.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(S){var o,A=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,p={fingerprint:this._fingerprint,uid:A?this._uid:this._uid+1,destination:S};if(this._updateInternalState(S,p.uid),this._updateUrl&&null!=S&&S.hash){var s=document.location.href.split("#")[0];s.startsWith("file://")||(o="".concat(s,"#").concat(S.hash))}A?window.history.replaceState(p,"",o):window.history.pushState(p,"",o)}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var P=this._position;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((P=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void this._pushOrReplaceState(P);if(this._destination.temporary)return void this._pushOrReplaceState(P,!0);if(this._destination.hash!==P.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var A=!1;if(this._destination.page>=P.first&&this._destination.page<=P.page){if(void 0!==this._destination.dest||!this._destination.first)return;A=!0}this._pushOrReplaceState(P,A)}}}},{key:"_isValidPage",value:function(S){return Number.isInteger(S)&&S>0&&S<=this.linkService.pagesCount}},{key:"_isValidState",value:function(S){if(!S)return!1;if(S.fingerprint!==this._fingerprint){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof S.fingerprint||S.fingerprint.length!==this._fingerprint.length)return!1;var o=X(performance.getEntriesByType("navigation"),1)[0];if("reload"!==(null==o?void 0:o.type))return!1}return!(!Number.isInteger(S.uid)||S.uid<0||null===S.destination||"object"!==D(S.destination))}},{key:"_updateInternalState",value:function(S,P){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),A&&null!=S&&S.temporary&&delete S.temporary,this._destination=S,this._uid=P,this._maxUid=Math.max(this._maxUid,P),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var S=arguments.length>0&&void 0!==arguments[0]&&arguments[0],P=unescape(m()).substring(1),A=(0,z.parseQueryString)(P),p=A.get("nameddest")||"",o=0|A.get("page");return(!this._isValidPage(o)||S&&p.length>0)&&(o=null),{hash:P,page:o,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(S){var P=this,A=S.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(A.pageNumber):A.pdfOpenParams.substring(1),page:this.linkService.page,first:A.pageNumber,rotation:A.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){P._popStateInProgress||P._tryPushCurrentPosition(!0),P._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(S){var P=this,A=S.state,p=m(),o=this._currentHash!==p;if(this._currentHash=p,A){if(this._isValidState(A)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,z.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){P._blockHashChange--}));var v=A.destination;this._updateInternalState(v,A.uid,!0),(0,z.isValidRotation)(v.rotation)&&(this.linkService.rotation=v.rotation),v.dest?this.linkService.goToDestination(v.dest):v.hash?this.linkService.setHash(v.hash):v.page&&(this.linkService.page=v.page),Promise.resolve().then(function(){P._popStateInProgress=!1})}}else{this._uid++;var s=this._parseCurrentHash();this._pushOrReplaceState({hash:s.hash,page:s.page,rotation:s.rotation},!0)}}},{key:"_pageHide",value:function(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}]),_}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFPageView=void 0;var _,z=(_=H(2))&&_.__esModule?_:{default:_},D=H(4),X=H(7),V=H(12),j=H(5),e=H(19);function q(_){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}function M(_,C){var S="undefined"!=typeof Symbol&&_[Symbol.iterator]||_["@@iterator"];if(!S){if(Array.isArray(_)||(S=function(_,C){if(_){if("string"==typeof _)return l(_,C);var S=Object.prototype.toString.call(_).slice(8,-1);if("Object"===S&&_.constructor&&(S=_.constructor.name),"Map"===S||"Set"===S)return Array.from(_);if("Arguments"===S||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return l(_,C)}}(_))||C&&_&&"number"==typeof _.length){S&&(_=S);var P=0,A=function(){};return{s:A,n:function(){return P>=_.length?{done:!0}:{done:!1,value:_[P++]}},e:function(i){throw i},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,p=!0,o=!1;return{s:function(){S=S.call(_)},n:function(){var i=S.next();return p=i.done,i},e:function(i){o=!0,s=i},f:function(){try{!p&&null!=S.return&&S.return()}finally{if(o)throw s}}}}function l(_,C){(null==C||C>_.length)&&(C=_.length);for(var S=0,P=new Array(C);S<C;S++)P[S]=_[S];return P}function u(_,C,S,P,A,p,o){try{var s=_[p](o),c=s.value}catch(i){return void S(i)}s.done?C(c):Promise.resolve(c).then(P,A)}function b(_){return function(){var C=this,S=arguments;return new Promise(function(P,A){var p=_.apply(C,S);function o(c){u(p,P,A,o,s,"next",c)}function s(c){u(p,P,A,o,s,"throw",c)}o(void 0)})}}function m(_,C){for(var S=0;S<C.length;S++){var P=C[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}var T=V.compatibilityParams.maxCanvasPixels||16777216;R.PDFPageView=function(){function _(C){var S,P,A,p;!function(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var o=C.container,s=C.defaultViewport;this.id=C.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=C.scale||X.DEFAULT_SCALE,this.viewport=s,this.pdfPageRotate=s.rotation,this._optionalContentConfigPromise=C.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!==(S=C.textLayerMode)&&void 0!==S?S:X.TextLayerMode.ENABLE,this._annotationMode=null!==(P=C.annotationMode)&&void 0!==P?P:D.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=C.imageResourcesPath||"",this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels||T,this.eventBus=C.eventBus,this.renderingQueue=C.renderingQueue,this.textLayerFactory=C.textLayerFactory,this.annotationLayerFactory=C.annotationLayerFactory,this.xfaLayerFactory=C.xfaLayerFactory,this.textHighlighter=null===(A=C.textHighlighterFactory)||void 0===A?void 0:A.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=C.structTreeLayerFactory,this.renderer=C.renderer||X.RendererType.CANVAS,this.l10n=C.l10n||j.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=e.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null!==(p=this.renderingQueue)&&void 0!==p&&p.hasViewer()),this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;var c=document.createElement("div");c.className="page",c.style.width=Math.floor(this.viewport.width)+"px",c.style.height=Math.floor(this.viewport.height)+"px",c.setAttribute("data-page-number",this.id),c.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(function(i){c.setAttribute("aria-label",i)}),this.div=c,o.appendChild(c)}return function(_,C,S){C&&m(_.prototype,C),S&&m(_,S)}(_,[{key:"setPdfPage",value:function(S){this.pdfPage=S,this.pdfPageRotate=S.rotate,this.viewport=S.getViewport({scale:this.scale*D.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(C=b(z.default.mark(function P(){var A;return z.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return A=null,o.prev=1,o.next=4,this.annotationLayer.render(this.viewport,"display");case 4:o.next=9;break;case 6:o.prev=6,o.t0=o.catch(1),A=o.t0;case 9:return o.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:A}),o.finish(9);case 12:case"end":return o.stop()}},P,this,[[1,6,9,12]])})),function(){return C.apply(this,arguments)})},{key:"_renderXfaLayer",value:function(){var C=b(z.default.mark(function P(){var A,p;return z.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return A=null,s.prev=1,s.next=4,this.xfaLayer.render(this.viewport,"display");case 4:p=s.sent,this.textHighlighter&&this._buildXfaTextContentItems(p.textDivs),s.next=11;break;case 8:s.prev=8,s.t0=s.catch(1),A=s.t0;case 11:return s.prev=11,this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:A}),s.finish(11);case 14:case"end":return s.stop()}},P,this,[[1,8,11,14]])}));return function(){return C.apply(this,arguments)}}()},{key:"_buildXfaTextContentItems",value:function(){var C=b(z.default.mark(function P(A){var o,s,c;return z.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.pdfPage.getTextContent();case 2:o=[],s=M(v.sent.items);try{for(s.s();!(c=s.n()).done;)o.push(c.value.str)}catch(U){s.e(U)}finally{s.f()}this.textHighlighter.setTextMapping(A,o),this.textHighlighter.enable();case 8:case"end":return v.stop()}},P,this)}));return function(P){return C.apply(this,arguments)}}()},{key:"_resetZoomLayer",value:function(){var S=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var P=this.zoomLayer.firstChild;this.paintedViewportMap.delete(P),P.width=0,P.height=0,S&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var S,P,A=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=p.keepZoomLayer,s=void 0!==o&&o,c=p.keepAnnotationLayer,i=void 0!==c&&c,h=p.keepXfaLayer,v=void 0!==h&&h;this.cancelRendering({keepAnnotationLayer:i,keepXfaLayer:v}),this.renderingState=e.RenderingStates.INITIAL;var U=this.div;U.style.width=Math.floor(this.viewport.width)+"px",U.style.height=Math.floor(this.viewport.height)+"px";for(var ee=U.childNodes,Q=s&&this.zoomLayer||null,he=i&&(null===(S=this.annotationLayer)||void 0===S?void 0:S.div)||null,ce=v&&(null===(P=this.xfaLayer)||void 0===P?void 0:P.div)||null,de=ee.length-1;de>=0;de--){var be=ee[de];switch(be){case Q:case he:case ce:continue}U.removeChild(be)}U.removeAttribute("data-loaded"),he&&this.annotationLayer.hide(),ce&&this.xfaLayer.hide(),Q||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(function(ie){var J;null===(J=A.loadingIconDiv)||void 0===J||J.setAttribute("aria-label",ie)}),U.appendChild(this.loadingIconDiv)}},{key:"update",value:function(S){var P=S.scale,A=void 0===P?0:P,p=S.rotation,o=void 0===p?null:p,s=S.optionalContentConfigPromise,c=void 0===s?null:s;if("object"!==q(arguments[0]))return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});if(this.scale=A||this.scale,"number"==typeof o&&(this.rotation=o),c instanceof Promise&&(this._optionalContentConfigPromise=c),this._isStandalone&&document.documentElement.style.setProperty("--zoom-factor",this.scale),this.viewport=this.viewport.clone({scale:this.scale*D.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var v=!1;if(this.canvas&&this.maxCanvasPixels>0){var U=this.outputScale;(Math.floor(this.viewport.width)*U.sx|0)*(Math.floor(this.viewport.height)*U.sy|0)>this.maxCanvasPixels&&(v=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&v)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}},{key:"cancelRendering",value:function(){var s,S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=S.keepAnnotationLayer,A=void 0!==P&&P,p=S.keepXfaLayer,o=void 0!==p&&p;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!A||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null),!this.xfaLayer||o&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(s=this.textHighlighter)||void 0===s||s.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}},{key:"cssTransform",value:function(S){var P=S.target,A=S.redrawAnnotationLayer,p=void 0!==A&&A,o=S.redrawXfaLayer,s=void 0!==o&&o,c=this.viewport.width,i=this.viewport.height,h=this.div;P.style.width=P.parentNode.style.width=h.style.width=Math.floor(c)+"px",P.style.height=P.parentNode.style.height=h.style.height=Math.floor(i)+"px";var v=this.viewport.rotation-this.paintedViewportMap.get(P).rotation,U=Math.abs(v),ee=1,Q=1;if((90===U||270===U)&&(ee=i/c,Q=c/i),P.style.transform="rotate(".concat(v,"deg) scale(").concat(ee,", ").concat(Q,")"),this.textLayer){var he=this.textLayer.viewport,de=Math.abs(this.viewport.rotation-he.rotation),be=c/he.width;(90===de||270===de)&&(be=c/he.height);var J,G,ie=this.textLayer.textLayerDiv;switch(de){case 0:J=G=0;break;case 90:J=0,G="-"+ie.style.height;break;case 180:J="-"+ie.style.width,G="-"+ie.style.height;break;case 270:J="-"+ie.style.width,G=0;break;default:console.error("Bad rotation value.")}ie.style.transform="rotate(".concat(de,"deg) ")+"scale(".concat(be,") ")+"translate(".concat(J,", ").concat(G,")"),ie.style.transformOrigin="0% 0%"}p&&this.annotationLayer&&this._renderAnnotationLayer(),s&&this.xfaLayer&&this._renderXfaLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(S,P){return this.viewport.convertToPdfPoint(S,P)}},{key:"draw",value:function(){var S,P,A=this;this.renderingState!==e.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var p=this.div,o=this.pdfPage;if(!o)return this.renderingState=e.RenderingStates.FINISHED,this.loadingIconDiv&&(p.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=e.RenderingStates.RUNNING;var s=document.createElement("div");s.style.width=p.style.width,s.style.height=p.style.height,s.classList.add("canvasWrapper"),null!==(S=this.annotationLayer)&&void 0!==S&&S.div?p.insertBefore(s,this.annotationLayer.div):p.appendChild(s);var c=null;if(this.textLayerMode!==X.TextLayerMode.DISABLE&&this.textLayerFactory){var i,h=document.createElement("div");h.className="textLayer",h.style.width=s.style.width,h.style.height=s.style.height,null!==(i=this.annotationLayer)&&void 0!==i&&i.div?p.insertBefore(h,this.annotationLayer.div):p.appendChild(h),c=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.textLayerMode===X.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=c,null!==(P=this.xfaLayer)&&void 0!==P&&P.div&&p.appendChild(this.xfaLayer.div);var v=null;this.renderingQueue&&(v=function(ce){if(!A.renderingQueue.isHighestPriority(A))return A.renderingState=e.RenderingStates.PAUSED,void(A.resume=function(){A.renderingState=e.RenderingStates.RUNNING,ce()});ce()});var U=function(){var he=b(z.default.mark(function ce(){var de,be=arguments;return z.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(de=be.length>0&&void 0!==be[0]?be[0]:null,ee===A.paintTask&&(A.paintTask=null),!(de instanceof D.RenderingCancelledException)){J.next=5;break}return A._renderError=null,J.abrupt("return");case 5:if(A._renderError=de,A.renderingState=e.RenderingStates.FINISHED,A.loadingIconDiv&&(p.removeChild(A.loadingIconDiv),delete A.loadingIconDiv),A._resetZoomLayer(!0),A.eventBus.dispatch("pagerendered",{source:A,pageNumber:A.id,cssTransform:!1,timestamp:performance.now(),error:A._renderError}),!de){J.next=12;break}throw de;case 12:case"end":return J.stop()}},ce)}));return function(){return he.apply(this,arguments)}}(),ee=this.renderer===X.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);ee.onRenderContinue=v,this.paintTask=ee;var Q=ee.promise.then(function(){return U(null).then(function(){if(c){var he=o.streamTextContent({normalizeWhitespace:!0,includeMarkedContent:!0});c.setTextContentStream(he),c.render()}})},function(he){return U(he)});return this._annotationMode!==D.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(p,o,null,this.imageResourcesPath,this._annotationMode===D.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null)),this._renderAnnotationLayer()),this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(p,o,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=function(he){he.pageNumber===A.id&&(A.eventBus._off("textlayerrendered",A._onTextLayerRendered),A._onTextLayerRendered=null,A.canvas&&A.pdfPage.getStructTree().then(function(ce){if(ce&&A.canvas){var de=A.structTreeLayer.render(ce);de.classList.add("structTree"),A.canvas.appendChild(de)}}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(o)),p.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),Q}},{key:"paintOnCanvas",value:function(S){var P=(0,D.createPromiseCapability)(),A={promise:P.promise,onRenderContinue:function(J){J()},cancel:function(){be.cancel()}},p=this.viewport,o=document.createElement("canvas");o.hidden=!0;var s=!0,c=function(){s&&(o.hidden=!1,s=!1)};S.appendChild(o),this.canvas=o,o.mozOpaque=!0;var i=o.getContext("2d",{alpha:!1}),h=(0,X.getOutputScale)(i);if(this.outputScale=h,this.useOnlyCssZoom){var v=p.clone({scale:D.PixelsPerInch.PDF_TO_CSS_UNITS});h.sx*=v.width/p.width,h.sy*=v.height/p.height,h.scaled=!0}if(this.maxCanvasPixels>0){var ee=Math.sqrt(this.maxCanvasPixels/(p.width*p.height));h.sx>ee||h.sy>ee?(h.sx=ee,h.sy=ee,h.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var Q=(0,X.approximateFraction)(h.sx),he=(0,X.approximateFraction)(h.sy);o.width=(0,X.roundToDivide)(p.width*h.sx,Q[0]),o.height=(0,X.roundToDivide)(p.height*h.sy,he[0]),o.style.width=(0,X.roundToDivide)(p.width,Q[1])+"px",o.style.height=(0,X.roundToDivide)(p.height,he[1])+"px",this.paintedViewportMap.set(o,p);var be=this.pdfPage.render({canvasContext:i,transform:h.scaled?[h.sx,0,0,h.sy,0,0]:null,viewport:this.viewport,annotationMode:this._annotationMode,optionalContentConfigPromise:this._optionalContentConfigPromise});return be.onContinue=function(ie){c(),A.onRenderContinue?A.onRenderContinue(ie):ie()},be.promise.then(function(){c(),P.resolve(void 0)},function(ie){c(),P.reject(ie)}),A}},{key:"paintOnSvg",value:function(S){var P=this,A=!1,p=function(){if(A)throw new D.RenderingCancelledException("Rendering cancelled, page ".concat(P.id),"svg")},o=this.pdfPage,s=this.viewport.clone({scale:D.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:o.getOperatorList({annotationMode:this._annotationMode}).then(function(i){return p(),new D.SVGGraphics(o.commonObjs,o.objs,V.compatibilityParams.disableCreateObjectURL).getSVG(i,s).then(function(v){p(),P.svg=v,P.paintedViewportMap.set(v,s),v.style.width=S.style.width,v.style.height=S.style.height,P.renderingState=e.RenderingStates.FINISHED,S.appendChild(v)})}),onRenderContinue:function(h){h()},cancel:function(){A=!0}}}},{key:"setPageLabel",value:function(S){this.pageLabel="string"==typeof S?S:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}]),_;var C}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.RenderingStates=R.PDFRenderingQueue=void 0;var z=H(4);function X(q,M){for(var f=0;f<M.length;f++){var l=M[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(q,l.key,l)}}var e={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};R.RenderingStates=e,R.PDFRenderingQueue=function(){function q(){(function(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")})(this,q),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return function(q,M,f){M&&X(q.prototype,M),f&&X(q,f)}(q,[{key:"setViewer",value:function(f){this.pdfViewer=f}},{key:"setThumbnailViewer",value:function(f){this.pdfThumbnailViewer=f}},{key:"isHighestPriority",value:function(f){return this.highestPriorityPage===f.renderingId}},{key:"hasViewer",value:function(){return!!this.pdfViewer}},{key:"renderHighestPriority",value:function(f){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(f)&&(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}},{key:"getHighestPriority",value:function(f,l,u){var b=arguments.length>3&&void 0!==arguments[3]&&arguments[3],x=f.views,m=x.length;if(0===m)return null;for(var d=0;d<m;++d){var T=x[d].view;if(!this.isViewFinished(T))return T}var O=u?f.last.id:f.first.id-2,_=l[O];return _&&!this.isViewFinished(_)||b&&(_=l[O+=u?1:-1])&&!this.isViewFinished(_)?_:null}},{key:"isViewFinished",value:function(f){return f.renderingState===e.FINISHED}},{key:"renderView",value:function(f){var l=this;switch(f.renderingState){case e.FINISHED:return!1;case e.PAUSED:this.highestPriorityPage=f.renderingId,f.resume();break;case e.RUNNING:this.highestPriorityPage=f.renderingId;break;case e.INITIAL:this.highestPriorityPage=f.renderingId,f.draw().finally(function(){l.renderHighestPriority()}).catch(function(u){u instanceof z.RenderingCancelledException||console.error('renderView: "'.concat(u,'"'))})}return!0}}]),q}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFScriptingManager=void 0;var s,z=(s=H(2))&&s.__esModule?s:{default:s},D=H(4),X=H(7),V=H(19);function e(s){return function(s){if(Array.isArray(s))return T(s)}(s)||function(s){if("undefined"!=typeof Symbol&&null!=s[Symbol.iterator]||null!=s["@@iterator"])return Array.from(s)}(s)||d(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(s,c){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);c&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(s,v).enumerable})),i.push.apply(i,h)}return i}function l(s){for(var c=1;c<arguments.length;c++){var i=null!=arguments[c]?arguments[c]:{};c%2?f(Object(i),!0).forEach(function(h){u(s,h,i[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(i,h))})}return s}function u(s,c,i){return c in s?Object.defineProperty(s,c,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[c]=i,s}function b(s,c){var i="undefined"!=typeof Symbol&&s[Symbol.iterator]||s["@@iterator"];if(!i){if(Array.isArray(s)||(i=d(s))||c&&s&&"number"==typeof s.length){i&&(s=i);var h=0,v=function(){};return{s:v,n:function(){return h>=s.length?{done:!0}:{done:!1,value:s[h++]}},e:function(ce){throw ce},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,U=!0,ee=!1;return{s:function(){i=i.call(s)},n:function(){var ce=i.next();return U=ce.done,ce},e:function(ce){ee=!0,Q=ce},f:function(){try{!U&&null!=i.return&&i.return()}finally{if(ee)throw Q}}}}function x(s,c){return function(s){if(Array.isArray(s))return s}(s)||function(s,c){var i=null==s?null:"undefined"!=typeof Symbol&&s[Symbol.iterator]||s["@@iterator"];if(null!=i){var ee,Q,h=[],v=!0,U=!1;try{for(i=i.call(s);!(v=(ee=i.next()).done)&&(h.push(ee.value),!c||h.length!==c);v=!0);}catch(he){U=!0,Q=he}finally{try{!v&&null!=i.return&&i.return()}finally{if(U)throw Q}}return h}}(s,c)||d(s,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(s,c){if(s){if("string"==typeof s)return T(s,c);var i=Object.prototype.toString.call(s).slice(8,-1);if("Object"===i&&s.constructor&&(i=s.constructor.name),"Map"===i||"Set"===i)return Array.from(s);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return T(s,c)}}function T(s,c){(null==c||c>s.length)&&(c=s.length);for(var i=0,h=new Array(c);i<c;i++)h[i]=s[i];return h}function C(s,c,i,h,v,U,ee){try{var Q=s[U](ee),he=Q.value}catch(ce){return void i(ce)}Q.done?c(he):Promise.resolve(he).then(h,v)}function S(s){return function(){var c=this,i=arguments;return new Promise(function(h,v){var U=s.apply(c,i);function ee(he){C(U,h,v,ee,Q,"next",he)}function Q(he){C(U,h,v,ee,Q,"throw",he)}ee(void 0)})}}function A(s,c){for(var i=0;i<c.length;i++){var h=c[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(s,h.key,h)}}R.PDFScriptingManager=function(){function s(c){var i=this,h=c.eventBus,v=c.sandboxBundleSrc,U=void 0===v?null:v,ee=c.scriptingFactory,Q=void 0===ee?null:ee,he=c.docPropertiesLookup,ce=void 0===he?null:he;(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s),this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=h,this._sandboxBundleSrc=U,this._scriptingFactory=Q,this._docPropertiesLookup=ce,this._scriptingFactory||window.addEventListener("updatefromsandbox",function(de){i._eventBus.dispatch("updatefromsandbox",{source:window,detail:de.detail})})}return function(s,c,i){c&&A(s.prototype,c),i&&A(s,i)}(s,[{key:"setViewer",value:function(i){this._pdfViewer=i}},{key:"setDocument",value:(c=S(z.default.mark(function h(v){var ee,he,ce,de,be,ie,J,G,$,te,se,Pe,U=this;return z.default.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(!this._pdfDocument){Ee.next=3;break}return Ee.next=3,this._destroyScripting();case 3:if(this._pdfDocument=v,v){Ee.next=6;break}return Ee.abrupt("return");case 6:return Ee.next=8,Promise.all([v.getFieldObjects(),v.getCalculationOrderIds(),v.getJSActions()]);case 8:if(he=x(Ee.sent,3),de=he[1],be=he[2],(ce=he[0])||be){Ee.next=17;break}return Ee.next=16,this._destroyScripting();case 16:return Ee.abrupt("return");case 17:if(v===this._pdfDocument){Ee.next=19;break}return Ee.abrupt("return");case 19:Ee.prev=19,this._scripting=this._createScripting(),Ee.next=29;break;case 23:return Ee.prev=23,Ee.t0=Ee.catch(19),console.error('PDFScriptingManager.setDocument: "'.concat(null==Ee.t0?void 0:Ee.t0.message,'".')),Ee.next=28,this._destroyScripting();case 28:return Ee.abrupt("return");case 29:this._internalEvents.set("updatefromsandbox",function(Fe){(null==Fe?void 0:Fe.source)===window&&U._updateFromSandbox(Fe.detail)}),this._internalEvents.set("dispatcheventinsandbox",function(Fe){var le;null===(le=U._scripting)||void 0===le||le.dispatchEventInSandbox(Fe.detail)}),this._internalEvents.set("pagechanging",function(Fe){var le=Fe.pageNumber,ge=Fe.previous;le!==ge&&(U._dispatchPageClose(ge),U._dispatchPageOpen(le))}),this._internalEvents.set("pagerendered",function(Fe){var le=Fe.pageNumber;!U._pageOpenPending.has(le)||le===U._pdfViewer.currentPageNumber&&U._dispatchPageOpen(le)}),this._internalEvents.set("pagesdestroy",function(){var Fe=S(z.default.mark(function le(ge){var re,ue;return z.default.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,U._dispatchPageClose(U._pdfViewer.currentPageNumber);case 2:return fe.next=4,null===(re=U._scripting)||void 0===re?void 0:re.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:null===(ue=U._closeCapability)||void 0===ue||ue.resolve();case 5:case"end":return fe.stop()}},le)}));return function(le){return Fe.apply(this,arguments)}}()),this._domEvents.set("mousedown",function(Fe){U._mouseState.isDown=!0}),this._domEvents.set("mouseup",function(Fe){U._mouseState.isDown=!1}),ie=b(this._internalEvents);try{for(ie.s();!(J=ie.n()).done;)G=x(J.value,2),this._eventBus._on(G[0],G[1])}catch(Fe){ie.e(Fe)}finally{ie.f()}$=b(this._domEvents);try{for($.s();!(te=$.n()).done;)se=x(te.value,2),window.addEventListener(se[0],se[1])}catch(Fe){$.e(Fe)}finally{$.f()}return Ee.prev=40,Ee.next=43,this._getDocProperties();case 43:if(Pe=Ee.sent,v===this._pdfDocument){Ee.next=46;break}return Ee.abrupt("return");case 46:return Ee.next=48,this._scripting.createSandbox({objects:ce,calculationOrder:de,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:l(l({},Pe),{},{actions:be})});case 48:this._eventBus.dispatch("sandboxcreated",{source:this}),Ee.next=57;break;case 51:return Ee.prev=51,Ee.t1=Ee.catch(40),console.error('PDFScriptingManager.setDocument: "'.concat(null==Ee.t1?void 0:Ee.t1.message,'".')),Ee.next=56,this._destroyScripting();case 56:return Ee.abrupt("return");case 57:return Ee.next=59,null===(ee=this._scripting)||void 0===ee?void 0:ee.dispatchEventInSandbox({id:"doc",name:"Open"});case 59:return Ee.next=61,this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0);case 61:Promise.resolve().then(function(){v===U._pdfDocument&&(U._ready=!0)});case 62:case"end":return Ee.stop()}},h,this,[[19,23],[40,51]])})),function(h){return c.apply(this,arguments)})},{key:"dispatchWillSave",value:function(){var c=S(z.default.mark(function h(v){var U;return z.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",null===(U=this._scripting)||void 0===U?void 0:U.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return Q.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"dispatchDidSave",value:function(){var c=S(z.default.mark(function h(v){var U;return z.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",null===(U=this._scripting)||void 0===U?void 0:U.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return Q.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"dispatchWillPrint",value:function(){var c=S(z.default.mark(function h(v){var U;return z.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",null===(U=this._scripting)||void 0===U?void 0:U.dispatchEventInSandbox({id:"doc",name:"WillPrint"}));case 1:case"end":return Q.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"dispatchDidPrint",value:function(){var c=S(z.default.mark(function h(v){var U;return z.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.abrupt("return",null===(U=this._scripting)||void 0===U?void 0:U.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return Q.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"mouseState",get:function(){return this._mouseState}},{key:"destroyPromise",get:function(){var i;return(null===(i=this._destroyCapability)||void 0===i?void 0:i.promise)||null}},{key:"ready",get:function(){return this._ready}},{key:"_internalEvents",get:function(){return(0,D.shadow)(this,"_internalEvents",new Map)}},{key:"_domEvents",get:function(){return(0,D.shadow)(this,"_domEvents",new Map)}},{key:"_pageOpenPending",get:function(){return(0,D.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,D.shadow)(this,"_visitedPages",new Map)}},{key:"_updateFromSandbox",value:function(){var c=S(z.default.mark(function h(v){var U,ee,Q,he,ce,de,be,ie,J,G,L;return z.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(U=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,Q=v.siblings,he=v.command,ce=v.value,ee=v.id){$.next=43;break}$.t0=he,$.next="clear"===$.t0?6:"error"===$.t0?8:"layout"===$.t0?10:"page-num"===$.t0?12:"print"===$.t0?14:"println"===$.t0?18:"zoom"===$.t0?20:"SaveAs"===$.t0?24:"FirstPage"===$.t0?26:"LastPage"===$.t0?28:"NextPage"===$.t0?30:"PrevPage"===$.t0?32:"ZoomViewIn"===$.t0?34:"ZoomViewOut"===$.t0?38:42;break;case 6:return console.clear(),$.abrupt("break",42);case 8:return console.error(ce),$.abrupt("break",42);case 10:return this._pdfViewer.spreadMode=(0,X.apiPageLayoutToSpreadMode)(ce),$.abrupt("break",42);case 12:return this._pdfViewer.currentPageNumber=ce+1,$.abrupt("break",42);case 14:return $.next=16,this._pdfViewer.pagesPromise;case 16:return this._eventBus.dispatch("print",{source:this}),$.abrupt("break",42);case 18:return console.log(ce),$.abrupt("break",42);case 20:if(!U){$.next=22;break}return $.abrupt("return");case 22:return this._pdfViewer.currentScaleValue=ce,$.abrupt("break",42);case 24:return this._eventBus.dispatch("save",{source:this}),$.abrupt("break",42);case 26:return this._pdfViewer.currentPageNumber=1,$.abrupt("break",42);case 28:return this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount,$.abrupt("break",42);case 30:return this._pdfViewer.nextPage(),$.abrupt("break",42);case 32:return this._pdfViewer.previousPage(),$.abrupt("break",42);case 34:if(!U){$.next=36;break}return $.abrupt("return");case 36:return this._pdfViewer.increaseScale(),$.abrupt("break",42);case 38:if(!U){$.next=40;break}return $.abrupt("return");case 40:return this._pdfViewer.decreaseScale(),$.abrupt("break",42);case 42:return $.abrupt("return");case 43:if(!U){$.next=46;break}if(!v.focus){$.next=46;break}return $.abrupt("return");case 46:delete v.id,delete v.siblings,de=Q?[ee].concat(e(Q)):[ee],be=b(de);try{for(be.s();!(ie=be.n()).done;)J=ie.value,(G=document.getElementById(J))?G.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:v})):null===(L=this._pdfDocument)||void 0===L||L.annotationStorage.setValue(J,v)}catch(te){be.e(te)}finally{be.f()}case 51:case"end":return $.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"_dispatchPageOpen",value:function(){var c=S(z.default.mark(function h(v){var Q,he,ce,de,U=this,be=arguments;return z.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(Q=this._pdfDocument,he=this._visitedPages,be.length>1&&void 0!==be[1]&&be[1]&&(this._closeCapability=(0,D.createPromiseCapability)()),this._closeCapability){J.next=5;break}return J.abrupt("return");case 5:if((null==(ce=this._pdfViewer.getPageView(v-1))?void 0:ce.renderingState)===V.RenderingStates.FINISHED){J.next=9;break}return this._pageOpenPending.add(v),J.abrupt("return");case 9:this._pageOpenPending.delete(v),de=S(z.default.mark(function G(){var L,N,$;return z.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,he.has(v)?null:null===(L=ce.pdfPage)||void 0===L?void 0:L.getJSActions();case 2:if($=se.sent,Q===U._pdfDocument){se.next=5;break}return se.abrupt("return");case 5:return se.next=7,null===(N=U._scripting)||void 0===N?void 0:N.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:v,actions:$});case 7:case"end":return se.stop()}},G)}))(),he.set(v,de);case 12:case"end":return J.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"_dispatchPageClose",value:function(){var c=S(z.default.mark(function h(v){var U,ee,Q,he;return z.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(ee=this._pdfDocument,Q=this._visitedPages,this._closeCapability){de.next=3;break}return de.abrupt("return");case 3:if(!this._pageOpenPending.has(v)){de.next=5;break}return de.abrupt("return");case 5:if(he=Q.get(v)){de.next=8;break}return de.abrupt("return");case 8:return Q.set(v,null),de.next=11,he;case 11:if(ee===this._pdfDocument){de.next=13;break}return de.abrupt("return");case 13:return de.next=15,null===(U=this._scripting)||void 0===U?void 0:U.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:v});case 15:case"end":return de.stop()}},h,this)}));return function(h){return c.apply(this,arguments)}}()},{key:"_getDocProperties",value:function(){var c=S(z.default.mark(function h(){var v;return z.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!this._docPropertiesLookup){Q.next=2;break}return Q.abrupt("return",this._docPropertiesLookup(this._pdfDocument));case 2:return v=H(21),Q.abrupt("return",(0,v.docPropertiesLookup)(this._pdfDocument));case 4:case"end":return Q.stop()}},h,this)}));return function(){return c.apply(this,arguments)}}()},{key:"_createScripting",value:function(){if(this._destroyCapability=(0,D.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");return this._scriptingFactory?this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc}):new(0,H(21).GenericScripting)(this._sandboxBundleSrc)}},{key:"_destroyScripting",value:function(){var c=S(z.default.mark(function h(){var v,U,ee,Q,he,be,ie,J;return z.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(this._scripting){$.next=4;break}return this._pdfDocument=null,null===(U=this._destroyCapability)||void 0===U||U.resolve(),$.abrupt("return");case 4:if(!this._closeCapability){$.next=8;break}return $.next=7,Promise.race([this._closeCapability.promise,new Promise(function(te){setTimeout(te,1e3)})]).catch(function(te){});case 7:this._closeCapability=null;case 8:return this._pdfDocument=null,$.prev=9,$.next=12,this._scripting.destroySandbox();case 12:$.next=16;break;case 14:$.prev=14,$.t0=$.catch(9);case 16:ee=b(this._internalEvents);try{for(ee.s();!(Q=ee.n()).done;)he=x(Q.value,2),this._eventBus._off(he[0],he[1])}catch(te){ee.e(te)}finally{ee.f()}this._internalEvents.clear(),be=b(this._domEvents);try{for(be.s();!(ie=be.n()).done;)J=x(ie.value,2),window.removeEventListener(J[0],J[1])}catch(te){be.e(te)}finally{be.f()}this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,null===(v=this._destroyCapability)||void 0===v||v.resolve();case 28:case"end":return $.stop()}},h,this,[[9,14]])}));return function(){return c.apply(this,arguments)}}()}]),s;var c}()},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.docPropertiesLookup=function(m){return b.apply(this,arguments)},R.GenericScripting=void 0;var m,z=(m=H(2))&&m.__esModule?m:{default:m},D=H(4);function V(m,d){var T=Object.keys(m);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(m);d&&(O=O.filter(function(_){return Object.getOwnPropertyDescriptor(m,_).enumerable})),T.push.apply(T,O)}return T}function j(m){for(var d=1;d<arguments.length;d++){var T=null!=arguments[d]?arguments[d]:{};d%2?V(Object(T),!0).forEach(function(O){e(m,O,T[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(T)):V(Object(T)).forEach(function(O){Object.defineProperty(m,O,Object.getOwnPropertyDescriptor(T,O))})}return m}function e(m,d,T){return d in m?Object.defineProperty(m,d,{value:T,enumerable:!0,configurable:!0,writable:!0}):m[d]=T,m}function q(m,d){for(var T=0;T<d.length;T++){var O=d[T];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,O.key,O)}}function f(m,d,T,O,_,C,S){try{var P=m[C](S),A=P.value}catch(p){return void T(p)}P.done?d(A):Promise.resolve(A).then(O,_)}function l(m){return function(){var d=this,T=arguments;return new Promise(function(O,_){var C=m.apply(d,T);function S(A){f(C,O,_,S,P,"next",A)}function P(A){f(C,O,_,S,P,"throw",A)}S(void 0)})}}function b(){return(b=l(z.default.mark(function m(d){var T,O,_,C,S,P,A;return z.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return O=(T="").split("#")[0],c.next=3,d.getMetadata();case 3:if(C=(_=c.sent).info,S=_.metadata,P=_.contentDispositionFilename,A=_.contentLength){c.next=14;break}return c.next=11,d.getDownloadInfo();case 11:A=c.sent.length;case 14:return c.abrupt("return",j(j({},C),{},{baseURL:O,filesize:A,filename:P||(0,D.getPdfFilenameFromUrl)(T),metadata:null==S?void 0:S.getRaw(),authors:null==S?void 0:S.get("dc:creator"),numPages:d.numPages,URL:T}));case 15:case"end":return c.stop()}},m)}))).apply(this,arguments)}R.GenericScripting=function(){function m(d){(function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")})(this,m),this._ready=(0,D.loadScript)(d,!0).then(function(){return window.pdfjsSandbox.QuickJSSandbox()})}return function(m,d,T){d&&q(m.prototype,d),T&&q(m,T)}(m,[{key:"createSandbox",value:(d=l(z.default.mark(function O(_){return z.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this._ready;case 2:P.sent.create(_);case 4:case"end":return P.stop()}},O,this)})),function(O){return d.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:function(){var d=l(z.default.mark(function O(_){return z.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this._ready;case 2:P.sent.dispatchEvent(_);case 4:case"end":return P.stop()}},O,this)}));return function(O){return d.apply(this,arguments)}}()},{key:"destroySandbox",value:function(){var d=l(z.default.mark(function O(){return z.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,this._ready;case 2:S.sent.nukeSandbox();case 4:case"end":return S.stop()}},O,this)}));return function(){return d.apply(this,arguments)}}()}]),m;var d}()},(B,R,H)=>{function z(T){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(T)}Object.defineProperty(R,"__esModule",{value:!0}),R.PDFSinglePageViewer=void 0;var D=H(23),X=H(4);function j(T,O){for(var _=0;_<O.length;_++){var C=O[_];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}function F(T,O,_){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(S,P,A){var p=function(T,O){for(;!Object.prototype.hasOwnProperty.call(T,O)&&null!==(T=m(T)););return T}(S,P);if(p){var o=Object.getOwnPropertyDescriptor(p,P);return o.get?o.get.call(A):o.value}})(T,O,_||T)}function M(T,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),O&&f(T,O)}function f(T,O){return(f=Object.setPrototypeOf||function(C,S){return C.__proto__=S,C})(T,O)}function l(T){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(T){return!1}}();return function(){var S,C=m(T);if(O){var P=m(this).constructor;S=Reflect.construct(C,arguments,P)}else S=C.apply(this,arguments);return u(this,S)}}function u(T,O){if(O&&("object"===z(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T)}function m(T){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(T)}R.PDFSinglePageViewer=function(T){M(_,T);var O=l(_);function _(C){var S;return function(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}(this,_),(S=O.call(this,C)).eventBus._on("pagesinit",function(P){S._ensurePageViewVisible()}),S}return function(T,O,_){O&&j(T.prototype,O),_&&j(T,_)}(_,[{key:"_viewerElement",get:function(){return(0,X.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){F(m(_.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var S=this._pages[this._currentPageNumber-1],P=this._pages[this._previousPageNumber-1],A=this.viewer.childNodes;switch(A.length){case 0:this.viewer.appendChild(S.div);break;case 1:if(A[0]!==P.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(S===P)break;this._shadowViewer.appendChild(P.div),this.viewer.appendChild(S.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),F(m(_.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(S){var P=this,A=S.pageDiv,p=S.pageSpot,o=void 0===p?null:p,s=S.pageNumber,c=void 0===s?null:s;c&&this._setCurrentPageNumber(c);var i=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),F(m(_.prototype),"_scrollIntoView",this).call(this,{pageDiv:A,pageSpot:o,pageNumber:c}),this._updateScrollDown=function(){P.scroll.down=i,P._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(S){}},{key:"_isScrollModeHorizontal",get:function(){return(0,X.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}]),_}(D.BaseViewer)},(B,R,H)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.BaseViewer=void 0;var z=H(4),D=H(7),X=H(19),V=H(1),j=H(5),e=H(18),F=H(6),q=H(8),M=H(24),f=H(9),l=H(10);function u(P,A){var p="undefined"!=typeof Symbol&&P[Symbol.iterator]||P["@@iterator"];if(!p){if(Array.isArray(P)||(p=function(P,A){if(P){if("string"==typeof P)return x(P,A);var p=Object.prototype.toString.call(P).slice(8,-1);if("Object"===p&&P.constructor&&(p=P.constructor.name),"Map"===p||"Set"===p)return Array.from(P);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return x(P,A)}}(P))||A&&P&&"number"==typeof P.length){p&&(P=p);var o=0,s=function(){};return{s,n:function(){return o>=P.length?{done:!0}:{done:!1,value:P[o++]}},e:function(U){throw U},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,i=!1;return{s:function(){p=p.call(P)},n:function(){var U=p.next();return c=U.done,U},e:function(U){i=!0,h=U},f:function(){try{!c&&null!=p.return&&p.return()}finally{if(i)throw h}}}}function x(P,A){(null==A||A>P.length)&&(A=P.length);for(var p=0,o=new Array(A);p<A;p++)o[p]=P[p];return o}function d(P,A){for(var p=0;p<A.length;p++){var o=A[p];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(P,o.key,o)}}function _(P){var A=[];this.push=function(p){var o=A.indexOf(p);o>=0&&A.splice(o,1),A.push(p),A.length>P&&A.shift().destroy()},this.resize=function(p,o){if(P=p,o){for(var s=new Set,c=0,i=o.length;c<i;++c)s.add(o[c].id);(0,D.moveToEndOfArray)(A,function(h){return s.has(h.id)})}for(;A.length>P;)A.shift().destroy()},this.has=function(p){return A.includes(p)}}function C(P,A){return A===P||Math.abs(A-P)<1e-15}R.BaseViewer=function(){function P(A){var p,o,s,c,i=this;if(function(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}(this,P),this.constructor===P)throw new Error("Cannot initialize BaseViewer.");var h="2.11.338";if(z.version!==h)throw new Error('The API version "'.concat(z.version,'" does not match the Viewer version "').concat(h,'".'));if(this.container=A.container,this.viewer=A.viewer||A.container.firstElementChild,"DIV"!==(null===(p=this.container)||void 0===p?void 0:p.tagName.toUpperCase())||"DIV"!==(null===(o=this.viewer)||void 0===o?void 0:o.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=A.eventBus,this.linkService=A.linkService||new F.SimpleLinkService,this.downloadManager=A.downloadManager||null,this.findController=A.findController||null,this._scriptingManager=A.scriptingManager||null,this.removePageBorders=A.removePageBorders||!1,this.textLayerMode=null!==(s=A.textLayerMode)&&void 0!==s?s:D.TextLayerMode.ENABLE,this._annotationMode=null!==(c=A.annotationMode)&&void 0!==c?c:z.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=A.imageResourcesPath||"",this.enablePrintAutoRotate=A.enablePrintAutoRotate||!1,this.renderer=A.renderer||D.RendererType.CANVAS,this.useOnlyCssZoom=A.useOnlyCssZoom||!1,this.maxCanvasPixels=A.maxCanvasPixels,this.l10n=A.l10n||j.NullL10n,this.defaultRenderingQueue=!A.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new X.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=A.renderingQueue,this._doc=document.documentElement,this.scroll=(0,D.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=D.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){i.eventBus.dispatch("baseviewerinit",{source:i})})}return function(P,A,p){A&&d(P.prototype,A),p&&d(P,p)}(P,[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(p){return this._pages[p]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(p){return null==p?void 0:p.pdfPage})}},{key:"renderForms",get:function(){return this._annotationMode===z.AnnotationMode.ENABLE_FORMS}},{key:"enableScripting",get:function(){return!!this._scriptingManager}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(p){if(!Number.isInteger(p))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(p,!0)||console.error('currentPageNumber: "'.concat(p,'" is not a valid page.'))}},{key:"_setCurrentPageNumber",value:function(p){var o,s,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===p)return c&&this._resetCurrentPageView(),!0;if(!(0<p&&p<=this.pagesCount))return!1;var i=this._currentPageNumber;return this._currentPageNumber=p,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:p,pageLabel:null!==(o=null===(s=this._pageLabels)||void 0===s?void 0:s[p-1])&&void 0!==o?o:null,previous:i}),c&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){var p,o;return null!==(p=null===(o=this._pageLabels)||void 0===o?void 0:o[this._currentPageNumber-1])&&void 0!==p?p:null},set:function(p){if(this.pdfDocument){var o=0|p;if(this._pageLabels){var s=this._pageLabels.indexOf(p);s>=0&&(o=s+1)}this._setCurrentPageNumber(o,!0)||console.error('currentPageLabel: "'.concat(p,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==D.UNKNOWN_SCALE?this._currentScale:D.DEFAULT_SCALE},set:function(p){if(isNaN(p))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(p,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(p){!this.pdfDocument||this._setScale(p,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(p){if(!(0,D.isValidRotation)(p))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((p%=360)<0&&(p+=360),this._pagesRotation!==p)){this._pagesRotation=p;var i,o=this._currentPageNumber,s={rotation:p},c=u(this._pages);try{for(c.s();!(i=c.n()).done;)i.value.update(s)}catch(v){c.e(v)}finally{c.f()}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:p,pageNumber:o}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(p){var o=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=p,p){var s=p.isPureXfa,c=p.numPages,i=p.getPage(1),h=p.getOptionalContentConfig();this._pagesCapability.promise.then(function(){o.eventBus.dispatch("pagesloaded",{source:o,pagesCount:c})}),this._onBeforeDraw=function(v){var U=o._pages[v.pageNumber-1];!U||o._buffer.push(U)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(v){v.cssTransform||o._onePageRenderedCapability.settled||(o._onePageRenderedCapability.resolve(),o.eventBus._off("pagerendered",o._onAfterDraw),o._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),i.then(function(v){o._firstPageCapability.resolve(v),o._optionalContentConfigPromise=h;for(var U=o.currentScale,ee=v.getViewport({scale:U*z.PixelsPerInch.PDF_TO_CSS_UNITS}),Q=o.textLayerMode===D.TextLayerMode.DISABLE||s?null:o,he=o._annotationMode!==z.AnnotationMode.DISABLE?o:null,ce=s?o:null,de=1;de<=c;++de){var be=new e.PDFPageView({container:o._viewerElement,eventBus:o.eventBus,id:de,scale:U,defaultViewport:ee.clone(),optionalContentConfigPromise:h,renderingQueue:o.renderingQueue,textLayerFactory:Q,textLayerMode:o.textLayerMode,annotationLayerFactory:he,annotationMode:o._annotationMode,xfaLayerFactory:ce,textHighlighterFactory:o,structTreeLayerFactory:o,imageResourcesPath:o.imageResourcesPath,renderer:o.renderer,useOnlyCssZoom:o.useOnlyCssZoom,maxCanvasPixels:o.maxCanvasPixels,l10n:o.l10n});o._pages.push(be)}var ie=o._pages[0];ie&&(ie.setPdfPage(v),o.linkService.cachePageRef(1,v.ref)),o._spreadMode!==D.SpreadMode.NONE&&o._updateSpreadMode(),o._onePageRenderedOrForceFetch().then(function(){if(o.findController&&o.findController.setDocument(p),o._scriptingManager&&o._scriptingManager.setDocument(p),p.loadingParams.disableAutoFetch||c>7500)o._pagesCapability.resolve();else{var J=c-1;if(J<=0)o._pagesCapability.resolve();else for(var G=function($){p.getPage($).then(function(te){var se=o._pages[$-1];se.pdfPage||se.setPdfPage(te),o.linkService.cachePageRef($,te.ref),0==--J&&o._pagesCapability.resolve()},function(te){console.error("Unable to get page ".concat($," to initialize viewer"),te),0==--J&&o._pagesCapability.resolve()})},L=2;L<=c;++L)G(L)}}),o.eventBus.dispatch("pagesinit",{source:o}),o.defaultRenderingQueue&&o.update()}).catch(function(v){console.error("Unable to initialize viewer",v)})}}},{key:"setPageLabels",value:function(p){if(this.pdfDocument){p?Array.isArray(p)&&this.pdfDocument.numPages===p.length?this._pageLabels=p:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var o=0,s=this._pages.length;o<s;o++){var c,i;this._pages[o].setPageLabel(null!==(c=null===(i=this._pageLabels)||void 0===i?void 0:i[o])&&void 0!==c?c:null)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=D.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new _(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,z.createPromiseCapability)(),this._onePageRenderedCapability=(0,z.createPromiseCapability)(),this._pagesCapability=(0,z.createPromiseCapability)(),this._scrollMode=D.ScrollMode.VERTICAL,this._spreadMode=D.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(p){var s=p.pageSpot;(0,D.scrollIntoView)(p.pageDiv,void 0===s?null:s)}},{key:"_setScaleUpdatePages",value:function(p,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=o.toString(),C(this._currentScale,p))c&&this.eventBus.dispatch("scalechanging",{source:this,scale:p,presetValue:o});else{this._doc.style.setProperty("--zoom-factor",p);var v,i={scale:p},h=u(this._pages);try{for(h.s();!(v=h.n()).done;)v.value.update(i)}catch(he){h.e(he)}finally{h.f()}if(this._currentScale=p,!s){var Q,ee=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ee=this._location.pageNumber,Q=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ee,destArray:Q,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:p,presetValue:c?o:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this._spreadMode===D.SpreadMode.NONE||this._scrollMode===D.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(p){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=parseFloat(p);if(s>0)this._setScaleUpdatePages(s,p,o,!1);else{var c=this._pages[this._currentPageNumber-1];if(!c)return;var i=this.isInPresentationMode||this.removePageBorders,h=i?0:D.SCROLLBAR_PADDING,v=i?0:D.VERTICAL_PADDING;if(!i&&this._isScrollModeHorizontal){var U=[v,h];h=U[0],v=U[1]}var ee=(this.container.clientWidth-h)/c.width*c.scale/this._pageWidthScaleFactor,Q=(this.container.clientHeight-v)/c.height*c.scale;switch(p){case"page-actual":s=1;break;case"page-width":s=ee;break;case"page-height":s=Q;break;case"page-fit":s=Math.min(ee,Q);break;case"auto":var he=(0,D.isPortraitOrientation)(c)?ee:Math.min(Q,ee);s=Math.min(D.MAX_AUTO_SCALE,he);break;default:return void console.error('_setScale: "'.concat(p,'" is an unknown zoom value.'))}this._setScaleUpdatePages(s,p,o,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"pageLabelToPageNumber",value:function(p){if(!this._pageLabels)return null;var o=this._pageLabels.indexOf(p);return o<0?null:o+1}},{key:"scrollPageIntoView",value:function(p){var o=p.pageNumber,s=p.destArray,c=void 0===s?null:s,i=p.allowNegativeOffset,h=void 0!==i&&i,v=p.ignoreDestinationZoom,U=void 0!==v&&v;if(this.pdfDocument){var ee=Number.isInteger(o)&&this._pages[o-1];if(!ee)return void console.error('scrollPageIntoView: "'.concat(o,'" is not a valid pageNumber parameter.'));if(this.isInPresentationMode||!c)return void this._setCurrentPageNumber(o,!0);var ie,Q=0,he=0,ce=0,de=0,J=ee.rotation%180!=0,G=(J?ee.height:ee.width)/ee.scale/z.PixelsPerInch.PDF_TO_CSS_UNITS,L=(J?ee.width:ee.height)/ee.scale/z.PixelsPerInch.PDF_TO_CSS_UNITS,N=0;switch(c[1].name){case"XYZ":N=c[4],Q=null!==(Q=c[2])?Q:0,he=null!==(he=c[3])?he:L;break;case"Fit":case"FitB":N="page-fit";break;case"FitH":case"FitBH":N="page-width",null===(he=c[2])&&this._location?(Q=this._location.left,he=this._location.top):"number"!=typeof he&&(he=L);break;case"FitV":case"FitBV":Q=c[2],ce=G,de=L,N="page-height";break;case"FitR":ce=c[4]-(Q=c[2]),ie=(this.container.clientHeight-(this.removePageBorders?0:D.VERTICAL_PADDING))/(de=c[5]-(he=c[3]))/z.PixelsPerInch.PDF_TO_CSS_UNITS,N=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:D.SCROLLBAR_PADDING))/ce/z.PixelsPerInch.PDF_TO_CSS_UNITS),Math.abs(ie));break;default:return void console.error('scrollPageIntoView: "'.concat(c[1].name,'" is not a valid destination type.'))}if(U||(N&&N!==this._currentScale?this.currentScaleValue=N:this._currentScale===D.UNKNOWN_SCALE&&(this.currentScaleValue=D.DEFAULT_SCALE_VALUE)),"page-fit"===N&&!c[4])return void this._scrollIntoView({pageDiv:ee.div,pageNumber:o});var se=[ee.viewport.convertToViewportPoint(Q,he),ee.viewport.convertToViewportPoint(Q+ce,he+de)],me=Math.min(se[0][0],se[1][0]),ke=Math.min(se[0][1],se[1][1]);h||(me=Math.max(me,0),ke=Math.max(ke,0)),this._scrollIntoView({pageDiv:ee.div,pageSpot:{left:me,top:ke},pageNumber:o})}}},{key:"_updateLocation",value:function(p){var o=this._currentScale,s=this._currentScaleValue,c=parseFloat(s)===o?Math.round(1e4*o)/100:s,i=p.id,h="#page="+i;h+="&zoom="+c;var U=this.container,ee=this._pages[i-1].getPagePoint(U.scrollLeft-p.x,U.scrollTop-p.y),Q=Math.round(ee[0]),he=Math.round(ee[1]);this._location={pageNumber:i,scale:c,top:he,left:Q,rotation:this._pagesRotation,pdfOpenParams:h+=","+Q+","+he}}},{key:"_updateHelper",value:function(p){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var p=this._getVisiblePages(),o=p.views,s=o.length;if(0!==s){var c=Math.max(10,2*s+1);this._buffer.resize(c,o),this.renderingQueue.renderHighestPriority(p),this._updateHelper(o),this._updateLocation(p.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(p){return this.container.contains(p)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===D.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===D.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===D.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var p=this._pages[this._currentPageNumber-1],o=p.div,s={id:p.id,x:o.offsetLeft+o.clientLeft,y:o.offsetTop+o.clientTop,view:p};return{first:s,last:s,views:[s]}}},{key:"_getVisiblePages",value:function(){return(0,D.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(p){return!!this.pdfDocument&&(Number.isInteger(p)&&p>0&&p<=this.pagesCount?this._getVisiblePages().views.some(function(o){return o.id===p}):(console.error('isPageVisible: "'.concat(p,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(p){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(p)&&p>0&&p<=this.pagesCount))return console.error('isPageCached: "'.concat(p,'" is not a valid page.')),!1;var o=this._pages[p-1];return!!o&&this._buffer.has(o)}},{key:"cleanup",value:function(){for(var p=0,o=this._pages.length;p<o;p++)this._pages[p]&&this._pages[p].renderingState!==X.RenderingStates.FINISHED&&this._pages[p].reset()}},{key:"_cancelRendering",value:function(){for(var p=0,o=this._pages.length;p<o;p++)this._pages[p]&&this._pages[p].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(p){var o=this;if(p.pdfPage)return Promise.resolve(p.pdfPage);if(this._pagesRequests.has(p))return this._pagesRequests.get(p);var s=this.pdfDocument.getPage(p.id).then(function(c){return p.pdfPage||p.setPdfPage(c),o._pagesRequests.delete(p),c}).catch(function(c){console.error("Unable to get page for page view",c),o._pagesRequests.delete(p)});return this._pagesRequests.set(p,s),s}},{key:"forceRendering",value:function(p){var o=this,s=p||this._getVisiblePages(),h=this.renderingQueue.getHighestPriority(s,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,this._scrollMode===D.ScrollMode.VERTICAL&&this._spreadMode!==D.SpreadMode.NONE&&!this.isInPresentationMode);return!!h&&(this._ensurePdfPageLoaded(h).then(function(){o.renderingQueue.renderView(h)}),!0)}},{key:"createTextLayerBuilder",value:function(p,o,s){return new f.TextLayerBuilder({textLayerDiv:p,eventBus:arguments.length>4?arguments[4]:void 0,pageIndex:o,viewport:s,enhanceTextSelection:!this.isInPresentationMode&&arguments.length>3&&void 0!==arguments[3]&&arguments[3],highlighter:arguments.length>5?arguments[5]:void 0})}},{key:"createTextHighlighter",value:function(p,o){return new M.TextHighlighter({eventBus:o,pageIndex:p,findController:this.isInPresentationMode?null:this.findController})}},{key:"createAnnotationLayerBuilder",value:function(p,o){var s,c,i,h,he=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,de=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,be=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;return new V.AnnotationLayerBuilder({pageDiv:p,pdfPage:o,annotationStorage:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(null===(s=this.pdfDocument)||void 0===s?void 0:s.annotationStorage),imageResourcesPath:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",renderForms:!(arguments.length>4&&void 0!==arguments[4])||arguments[4],linkService:this.linkService,downloadManager:this.downloadManager,l10n:arguments.length>5&&void 0!==arguments[5]?arguments[5]:j.NullL10n,enableScripting:null!=he?he:this.enableScripting,hasJSActionsPromise:(arguments.length>7&&void 0!==arguments[7]?arguments[7]:null)||(null===(c=this.pdfDocument)||void 0===c?void 0:c.hasJSActions()),fieldObjectsPromise:be||(null===(i=this.pdfDocument)||void 0===i?void 0:i.getFieldObjects()),mouseState:de||(null===(h=this._scriptingManager)||void 0===h?void 0:h.mouseState)})}},{key:"createXfaLayerBuilder",value:function(p,o){var s;return new l.XfaLayerBuilder({pageDiv:p,pdfPage:o,annotationStorage:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(null===(s=this.pdfDocument)||void 0===s?void 0:s.annotationStorage),linkService:this.linkService})}},{key:"createStructTreeLayerBuilder",value:function(p){return new q.StructTreeLayerBuilder({pdfPage:p})}},{key:"hasEqualPageSizes",get:function(){for(var p=this._pages[0],o=1,s=this._pages.length;o<s;++o){var c=this._pages[o];if(c.width!==p.width||c.height!==p.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var p=this;return this._pages.map(function(o){var s=o.pdfPage.getViewport({scale:1});return!p.enablePrintAutoRotate||(0,D.isPortraitOrientation)(s)?{width:s.width,height:s.height,rotation:s.rotation}:{width:s.height,height:s.width,rotation:(s.rotation-90)%360}})}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(p){if(!(p instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(p));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=p;var c,o={optionalContentConfigPromise:p},s=u(this._pages);try{for(s.s();!(c=s.n()).done;)c.value.update(o)}catch(h){s.e(h)}finally{s.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:p})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(p){if(this._scrollMode!==p){if(!(0,D.isValidScrollMode)(p))throw new Error("Invalid scroll mode: ".concat(p));this._scrollMode=p,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:p}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=this._scrollMode,s=this.viewer;s.classList.toggle("scrollHorizontal",o===D.ScrollMode.HORIZONTAL),s.classList.toggle("scrollWrapped",o===D.ScrollMode.WRAPPED),this.pdfDocument&&p&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(p,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(p){if(this._spreadMode!==p){if(!(0,D.isValidSpreadMode)(p))throw new Error("Invalid spread mode: ".concat(p));this._spreadMode=p,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:p}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var o=this.viewer,s=this._pages;if(o.textContent="",this._spreadMode===D.SpreadMode.NONE)for(var c=0,i=s.length;c<i;++c)o.appendChild(s[c].div);else for(var h=this._spreadMode-1,v=null,U=0,ee=s.length;U<ee;++U)null===v?((v=document.createElement("div")).className="spread",o.appendChild(v)):U%2===h&&(v=v.cloneNode(!1),o.appendChild(v)),v.appendChild(s[U].div);!p||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(p,!0),this.update())}}},{key:"_getPageAdvance",value:function(p){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case D.ScrollMode.WRAPPED:var v,c=this._getVisiblePages().views,i=new Map,h=u(c);try{for(h.s();!(v=h.n()).done;){var U=v.value,ee=U.id,Q=U.y;if(!(0===U.percent||U.widthPercent<100)){var de=i.get(Q);de||i.set(Q,de||(de=[])),de.push(ee)}}}catch(Ie){h.e(Ie)}finally{h.f()}var ie,be=u(i.values());try{for(be.s();!(ie=be.n()).done;){var J=ie.value,G=J.indexOf(p);if(-1!==G){var L=J.length;if(1===L)break;if(o)for(var N=G-1,$=0;N>=$;N--){var se=J[N+1]-1;if(J[N]<se)return p-se}else for(var me=G+1,ke=L;me<ke;me++){var Ze=J[me-1]+1;if(J[me]>Ze)return Ze-p}if(o){var Ee=J[0];if(Ee<p)return p-Ee+1}else{var Fe=J[L-1];if(Fe>p)return Fe-p+1}break}}}catch(Ie){be.e(Ie)}finally{be.f()}break;case D.ScrollMode.HORIZONTAL:break;case D.ScrollMode.VERTICAL:if(this._spreadMode===D.SpreadMode.NONE)break;var le=this._spreadMode-1;if(o&&p%2!==le)break;if(!o&&p%2===le)break;var fe,ue=o?p-1:p+1,ne=u(this._getVisiblePages().views);try{for(ne.s();!(fe=ne.n()).done;){var _e=fe.value;if(_e.id===ue){if(_e.percent>0&&100===_e.widthPercent)return 2;break}}}catch(Ie){ne.e(Ie)}finally{ne.f()}}return 1}},{key:"nextPage",value:function(){var p=this._currentPageNumber,o=this.pagesCount;if(p>=o)return!1;var s=this._getPageAdvance(p,!1)||1;return this.currentPageNumber=Math.min(p+s,o),!0}},{key:"previousPage",value:function(){var p=this._currentPageNumber;if(p<=1)return!1;var o=this._getPageAdvance(p,!0)||1;return this.currentPageNumber=Math.max(p-o,1),!0}},{key:"increaseScale",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=this._currentScale;do{o=(o*D.DEFAULT_SCALE_DELTA).toFixed(2),o=Math.ceil(10*o)/10,o=Math.min(D.MAX_SCALE,o)}while(--p>0&&o<D.MAX_SCALE);this.currentScaleValue=o}},{key:"decreaseScale",value:function(){var p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=this._currentScale;do{o=(o/D.DEFAULT_SCALE_DELTA).toFixed(2),o=Math.floor(10*o)/10,o=Math.max(D.MIN_SCALE,o)}while(--p>0&&o>D.MIN_SCALE);this.currentScaleValue=o}}]),P}()},(B,R)=>{function z(V,j){for(var e=0;e<j.length;e++){var F=j[e];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}Object.defineProperty(R,"__esModule",{value:!0}),R.TextHighlighter=void 0,R.TextHighlighter=function(){function V(j){var e=j.findController,F=j.eventBus,q=j.pageIndex;(function(V,j){if(!(V instanceof j))throw new TypeError("Cannot call a class as a function")})(this,V),this.findController=e,this.matches=[],this.eventBus=F,this.pageIdx=q,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}return function(V,j,e){j&&z(V.prototype,j),e&&z(V,e)}(V,[{key:"setTextMapping",value:function(e,F){this.textDivs=e,this.textContentItemsStr=F}},{key:"enable",value:function(){var e=this;if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(F){(F.pageIndex===e.pageIdx||-1===F.pageIndex)&&e._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}},{key:"disable",value:function(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}},{key:"_convertMatches",value:function(e,F){if(!e)return[];for(var q=this.textContentItemsStr,M=0,f=0,l=q.length-1,u=[],b=0,x=e.length;b<x;b++){for(var m=e[b];M!==l&&m>=f+q[M].length;)f+=q[M].length,M++;M===q.length&&console.error("Could not find a matching mapping");var d={begin:{divIdx:M,offset:m-f}};for(m+=F[b];M!==l&&m>f+q[M].length;)f+=q[M].length,M++;d.end={divIdx:M,offset:m-f},u.push(d)}return u}},{key:"_renderMatches",value:function(e){if(0!==e.length){var F=this.findController,q=this.pageIdx,M=this.textContentItemsStr,f=this.textDivs,l=q===F.selected.pageIdx,u=F.selected.matchIdx,x=null,m={divIdx:-1,offset:void 0},O=u,_=O+1;if(F.state.highlightAll)O=0,_=e.length;else if(!l)return;for(var C=O;C<_;C++){var S=e[C],P=S.begin,A=S.end,p=l&&C===u,o=p?" selected":"",s=0;if(x&&P.divIdx===x.divIdx?T(x.divIdx,x.offset,P.offset):(null!==x&&T(x.divIdx,x.offset,m.offset),d(P)),P.divIdx===A.divIdx)s=T(P.divIdx,P.offset,A.offset,"highlight"+o);else{s=T(P.divIdx,P.offset,m.offset,"highlight begin"+o);for(var c=P.divIdx+1,i=A.divIdx;c<i;c++)f[c].className="highlight middle"+o;d(A,"highlight end"+o)}x=A,p&&F.scrollMatchIntoView({element:f[P.divIdx],selectedLeft:s,pageIndex:q,matchIndex:u})}x&&T(x.divIdx,x.offset,m.offset)}function d(h,v){var U=h.divIdx;return f[U].textContent="",T(U,0,h.offset,v)}function T(h,v,U,ee){var Q=f[h];if(Q.nodeType===Node.TEXT_NODE){var he=document.createElement("span");Q.parentNode.insertBefore(he,Q),he.appendChild(Q),f[h]=he,Q=he}var ce=M[h].substring(v,U),de=document.createTextNode(ce);if(ee){var be=document.createElement("span");return be.className="".concat(ee," appended"),be.appendChild(de),Q.appendChild(be),ee.includes("selected")?be.offsetLeft:0}return Q.appendChild(de),0}}},{key:"_updateMatches",value:function(){if(this.enabled){for(var e=this.findController,F=this.matches,q=this.pageIdx,M=this.textContentItemsStr,f=this.textDivs,l=-1,u=0,b=F.length;u<b;u++){for(var x=F[u],d=Math.max(l,x.begin.divIdx),T=x.end.divIdx;d<=T;d++){var O=f[d];O.textContent=M[d],O.className=""}l=x.end.divIdx+1}null!=e&&e.highlightMatches&&(this.matches=this._convertMatches(e.pageMatches[q]||null,e.pageMatchesLength[q]||null),this._renderMatches(this.matches))}}}]),V}()},(B,R,H)=>{function z(S){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}Object.defineProperty(R,"__esModule",{value:!0}),R.PDFViewer=void 0;var D=H(7),X=H(23),V=H(4);function j(S,P){var A="undefined"!=typeof Symbol&&S[Symbol.iterator]||S["@@iterator"];if(!A){if(Array.isArray(S)||(A=function(S,P){if(S){if("string"==typeof S)return F(S,P);var A=Object.prototype.toString.call(S).slice(8,-1);if("Object"===A&&S.constructor&&(A=S.constructor.name),"Map"===A||"Set"===A)return Array.from(S);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return F(S,P)}}(S))||P&&S&&"number"==typeof S.length){A&&(S=A);var p=0,o=function(){};return{s:o,n:function(){return p>=S.length?{done:!0}:{done:!1,value:S[p++]}},e:function(v){throw v},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){A=A.call(S)},n:function(){var v=A.next();return s=v.done,v},e:function(v){c=!0,i=v},f:function(){try{!s&&null!=A.return&&A.return()}finally{if(c)throw i}}}}function F(S,P){(null==P||P>S.length)&&(P=S.length);for(var A=0,p=new Array(P);A<P;A++)p[A]=S[A];return p}function q(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function M(S,P){for(var A=0;A<P.length;A++){var p=P[A];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(S,p.key,p)}}function l(S,P,A){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(o,s,c){var i=function(S,P){for(;!Object.prototype.hasOwnProperty.call(S,P)&&null!==(S=_(S)););return S}(o,s);if(i){var h=Object.getOwnPropertyDescriptor(i,s);return h.get?h.get.call(c):h.value}})(S,P,A||S)}function b(S,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),P&&x(S,P)}function x(S,P){return(x=Object.setPrototypeOf||function(p,o){return p.__proto__=o,p})(S,P)}function m(S){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(S){return!1}}();return function(){var o,p=_(S);if(P){var s=_(this).constructor;o=Reflect.construct(p,arguments,s)}else o=p.apply(this,arguments);return d(this,o)}}function d(S,P){if(P&&("object"===z(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(S)}function _(S){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(S)}R.PDFViewer=function(S){b(A,S);var P=m(A);function A(){return q(this,A),P.apply(this,arguments)}return function(S,P,A){P&&M(S.prototype,P),A&&M(S,A)}(A,[{key:"_viewerElement",get:function(){return(0,V.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(o){var s=o.pageDiv,c=o.pageSpot,i=void 0===c?null:c,h=o.pageNumber,v=void 0===h?null:h;if(!i&&!this.isInPresentationMode){var U=s.offsetLeft+s.clientLeft,Q=this.container,he=Q.scrollLeft;(this._isScrollModeHorizontal||U<he||U+s.clientWidth>he+Q.clientWidth)&&(i={left:0,top:0})}l(_(A.prototype),"_scrollIntoView",this).call(this,{pageDiv:s,pageSpot:i,pageNumber:v})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():l(_(A.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(o){if(!this.isInPresentationMode){var h,s=this._currentPageNumber,c=!1,i=j(o);try{for(i.s();!(h=i.n()).done;){var v=h.value;if(v.percent<100)break;if(v.id===s&&this._scrollMode===D.ScrollMode.VERTICAL&&this._spreadMode===D.SpreadMode.NONE){c=!0;break}}}catch(U){i.e(U)}finally{i.f()}c||(s=o[0].id),this._setCurrentPageNumber(s)}}}]),A}(X.BaseViewer)}],I={};function E(B){var R=I[B];if(void 0!==R)return R.exports;var H=I[B]={id:B,loaded:!1,exports:{}};return a[B](H,H.exports,E),H.loaded=!0,H.exports}E.nmd=B=>(B.paths=[],B.children||(B.children=[]),B);var w={};return(()=>{var B=w;Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return R.AnnotationLayerBuilder}}),Object.defineProperty(B,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return R.DefaultAnnotationLayerFactory}}),Object.defineProperty(B,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return H.DefaultStructTreeLayerFactory}}),Object.defineProperty(B,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return H.StructTreeLayerBuilder}}),Object.defineProperty(B,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return z.DefaultTextLayerFactory}}),Object.defineProperty(B,"TextLayerBuilder",{enumerable:!0,get:function(){return z.TextLayerBuilder}}),Object.defineProperty(B,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return D.DefaultXfaLayerFactory}}),Object.defineProperty(B,"XfaLayerBuilder",{enumerable:!0,get:function(){return D.XfaLayerBuilder}}),Object.defineProperty(B,"EventBus",{enumerable:!0,get:function(){return X.EventBus}}),Object.defineProperty(B,"ProgressBar",{enumerable:!0,get:function(){return X.ProgressBar}}),Object.defineProperty(B,"PDFLinkService",{enumerable:!0,get:function(){return V.PDFLinkService}}),Object.defineProperty(B,"SimpleLinkService",{enumerable:!0,get:function(){return V.SimpleLinkService}}),Object.defineProperty(B,"DownloadManager",{enumerable:!0,get:function(){return j.DownloadManager}}),Object.defineProperty(B,"GenericL10n",{enumerable:!0,get:function(){return e.GenericL10n}}),Object.defineProperty(B,"NullL10n",{enumerable:!0,get:function(){return F.NullL10n}}),Object.defineProperty(B,"PDFFindController",{enumerable:!0,get:function(){return q.PDFFindController}}),Object.defineProperty(B,"PDFHistory",{enumerable:!0,get:function(){return M.PDFHistory}}),Object.defineProperty(B,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(B,"PDFScriptingManager",{enumerable:!0,get:function(){return l.PDFScriptingManager}}),Object.defineProperty(B,"PDFSinglePageViewer",{enumerable:!0,get:function(){return u.PDFSinglePageViewer}}),Object.defineProperty(B,"PDFViewer",{enumerable:!0,get:function(){return b.PDFViewer}});var R=E(1),H=E(8),z=E(9),D=E(10),X=E(7),V=E(6),j=E(11),e=E(13),F=E(5),q=E(15),M=E(17),f=E(18),l=E(20),u=E(22),b=E(25)})(),w})()},7697:(Y,k,n)=>{"use strict";n.d(k,{i:()=>R});var a=n(496),I=n.n(a),E=n(1777),w=n(3018),B=n(5638);I().vfs=E.I.vfs;let R=(()=>{class H{constructor(D){this.canvas=D}setPageheaderOnePage(D,X,V,j){let e,F;return"A6"===j?(e=[15,10,0,0],F=8):(e=[15,50,0,0],F=10),[{columns:[{width:"40%",fontSize:10,margin:e,alignment:"center",uppercase:!0,text:[{text:"REPUBLIQUE DU CAMEROUN\n"},{text:"PAIX-TRAVAIL-PATRIE\n"},{text:"MINIST\xc8RE DES ENSEIGNEMENTS SECONDAIRE"}]},{width:60,image:D,height:30,margin:[5,50,5,0],alignment:"center"},{width:"40%",fontSize:10,margin:[10,50,0,0],alignment:"center",uppercase:!0,text:[{text:"REPUBLIC OF CAMEROON\n"},{text:"PEACE-WORK-FATHERLAND\n"},{text:"MINISTRY OF SECONDARY EDUCATION.\n"}]}]},{columns:[{width:"100%",text:X,fontSize:12,margin:[10,10,10,80],alignment:"center",bold:!0,uppercase:!0}]}]}setTitle(D,X,V,j){let e,F;return"A6"===j?(e=[15,10,0,10],F=8):(e=[15,10,0,10],F=10),[{table:{widths:["40%","20%","40%"],body:[[{text:"Ministere",fontSize:F,margin:[100,-20,0,0]}],[{image:D,width:60,height:30}],[{text:X,fontSize:F,margin:[100,-20,0,0]}]]},layout:"noBorders"}]}getDocDefinition(D,X,V,j,e,F){const q={header:D};let M,f,l,u;return"A6"===F?(M=[10,110,10,55],f=10,l=7):(f=16,l=10,M=[15,135,10,55]),u=e?{text:"test watermark",color:"blue",opacity:.3,bold:!0,italics:!1}:"",{pageOrientation:j,pageSize:F,pageMargins:M,watermark:u,header:(b,x)=>1==b?this.setPageheaderOnePage(X,D,q,F):null,content:V,styles:{tableHeader:{bold:!0},tableContent:{fontSize:l}}}}generatePdf(D){I().createPdf(D).print()}generatePdfcustom(D,X,V,j,e){this.canvas.getBase64Image("./assets/images/logo/logo.png").then(F=>{this.generatePdf(this.getDocDefinition(D,F,X,V,j,e))})}generatePdfcomptable(D,X,V,j){this.generatePdf(this.getDocDefinitioncormCustom(D,X,V,j))}getDocDefinitioncormCustom(D,X,V,j){let F,q,M,f;return"A6"===j?(F=[10,50,10,50],q=10,M=7):(q=16,M=10,F=[25,50,25,50]),f=V?{text:"test watermark",color:"blue",opacity:.3,bold:!0,italics:!1}:"",{pageOrientation:X,pageSize:j,pageMargins:F,watermark:f,content:D,styles:{tableHeader:{bold:!0},tableContent:{fontSize:M}}}}}return H.\u0275fac=function(D){return new(D||H)(w.LFG(B.t))},H.\u0275prov=w.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},3075:(Y,k,n)=>{"use strict";function a(E){return null!=E}n.d(k,{E:()=>a})},8157:(Y,k,n)=>{"use strict";n.r(k),n.d(k,{AdministrationModule:()=>In});var a=n(8583),I=n(8932),E=n(8550),w=n(3679),B=n(1289),R=n(9344);class H{constructor(ae,t){this.id=ae,this.libelle=t}}class D{constructor(ae,t,g,W,Se,Be,Je){this.id=ae,this.libelle=t,this.indice=g,this.date_start=W,this.date_end=Se,this.is_clotured=Be,this.year=Je}}class V{constructor(ae,t,g,W,Se,Be){this.id=ae,this.libelle=t,this.indice=g,this.date_start=W,this.date_end=Se,this.trimestre=Be}}var e=n(3018),F=n(3301),q=n(9790),M=n(4300),f=n(5836),l=n(5690),u=n(7552),b=n(1875),x=n(519),m=n(2201);const d=["childModal"],T=["trimestreModal"],O=["sequenceModal"];function _(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function C(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_start,"dd/MM/yyyy")," ")}function S(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_end,"dd/MM/yyyy")," ")}function P(Z,ae){if(1&Z&&(e.TgZ(0,"div",57),e._UZ(1,"span",58),e.TgZ(2,"span",59),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function A(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"a",65),e.NdJ("click",function(){e.CHM(t);const W=e.oxw().row;return e.oxw().yearActivate(W.id)}),e.TgZ(1,"div",66),e._UZ(2,"i",74),e.TgZ(3,"span",68),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.activate")))}function p(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"a",65),e.NdJ("click",function(){e.CHM(t);const W=e.oxw().row;return e.oxw().yearActivate(W.id)}),e.TgZ(1,"div",66),e._UZ(2,"i",75),e.TgZ(3,"span",68),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.desactivate")))}const o=function(Z){return["/administration/trimestre",Z]};function s(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",60),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",61),e._UZ(2,"i",62),e.qZA(),e.TgZ(3,"dropdown-menu",63,64),e.TgZ(5,"a",65),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().edityear(Se)}),e.TgZ(6,"div",66),e._UZ(7,"i",67),e.TgZ(8,"span",68),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",69),e.TgZ(12,"div",66),e._UZ(13,"i",70),e.TgZ(14,"span",68),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,A,6,3,"a",71),e.YNc(18,p,6,3,"a",71),e.TgZ(19,"a",72),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(220);return Be.delete(Se,Je)}),e.TgZ(20,"div",66),e._UZ(21,"i",73),e.TgZ(22,"span",68),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=ae.row;e.xp6(9),e.Oqu(e.lcZ(10,6,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(12,o,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,8,"action.addtrimestre")),e.xp6(2),e.Q6J("ngIf",t.is_clotured),e.xp6(1),e.Q6J("ngIf",!t.is_clotured),e.xp6(5),e.Oqu(e.lcZ(24,10,"action.delete"))}}function c(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function i(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_start,"dd/MM/yyyy")," ")}function h(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_end,"dd/MM/yyyy")," ")}function v(Z,ae){if(1&Z&&(e.TgZ(0,"div",57),e._UZ(1,"span",58),e.TgZ(2,"span",59),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function U(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"a",65),e.NdJ("click",function(){e.CHM(t);const W=e.oxw().row;return e.oxw().trimestreActivate(W.id)}),e.TgZ(1,"div",66),e._UZ(2,"i",74),e.TgZ(3,"span",68),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.activate")))}function ee(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"a",65),e.NdJ("click",function(){e.CHM(t);const W=e.oxw().row;return e.oxw().trimestreActivate(W.id)}),e.TgZ(1,"div",66),e._UZ(2,"i",75),e.TgZ(3,"span",68),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.desactivate")))}const Q=function(Z){return["/administration/sequence",Z]};function he(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",60),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",61),e._UZ(2,"i",62),e.qZA(),e.TgZ(3,"dropdown-menu",76,64),e.TgZ(5,"a",65),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().edittrimestre(Se)}),e.TgZ(6,"div",66),e._UZ(7,"i",67),e.TgZ(8,"span",68),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",77),e.TgZ(12,"div",66),e._UZ(13,"i",70),e.TgZ(14,"span",68),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,U,6,3,"a",71),e.YNc(18,ee,6,3,"a",71),e.TgZ(19,"a",65),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(222);return Be.delete(Se,Je)}),e.TgZ(20,"div",66),e._UZ(21,"i",73),e.TgZ(22,"span",68),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=ae.row;e.xp6(9),e.Oqu(e.lcZ(10,6,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(12,Q,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,8,"action.addsequence")),e.xp6(2),e.Q6J("ngIf",t.is_clotured),e.xp6(1),e.Q6J("ngIf",!t.is_clotured),e.xp6(5),e.Oqu(e.lcZ(24,10,"action.delete"))}}function ce(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function de(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_start,"dd/MM/yyyy")," ")}function be(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_end,"dd/MM/yyyy")," ")}function ie(Z,ae){if(1&Z&&(e.TgZ(0,"div",57),e._UZ(1,"span",58),e.TgZ(2,"span",59),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function J(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",60),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",61),e._UZ(2,"i",62),e.qZA(),e.TgZ(3,"dropdown-menu",76,64),e.TgZ(5,"a",65),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().editsequence(Se)}),e.TgZ(6,"div",66),e._UZ(7,"i",67),e.TgZ(8,"span",68),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",65),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(224);return Be.delete(Se,Je)}),e.TgZ(12,"div",66),e._UZ(13,"i",73),e.TgZ(14,"span",68),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}function G(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",78),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment l'ann\xe9e scolaire':",t.deleteRow.libelle,"?")}}function L(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",78),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment le trimestre:",t.deleteRow.libelle,"?")}}function N(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",78),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmSequence()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",80),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment l'evaluation':",t.deleteRow.libelle,"?")}}const $=function(){return{backdrop:"static"}};let te=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt){this.modalService=t,this.translateService=g,this.formBuilder=W,this.tableSvc=Se,this.toaster=Be,this.cdr=Je,this.screenSizeSvc=lt,this.rows=[],this.rowsequences=[],this.rowtrimestres=[],this.tempsequences=[],this.temptrimestres=[],this.temp=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.columns=[{prop:"libelle"},{name:"datedebut"},{name:"datefin"}],this.editSequenceForm=this.formBuilder.group({id:[],libelle:[],trimestre:[],is_clotured:[],indice:[null,[w.kI.required]],date_start:[null,[w.kI.required]],date_end:[null,[w.kI.required]]}),this.editTrimestreForm=this.formBuilder.group({id:[],libelle:[],year:[],is_clotured:[],indice:[null,[w.kI.required]],date_start:[null,[w.kI.required]],date_end:[null,[w.kI.required]]}),this.editYearschoolForm=this.formBuilder.group({id:[],libelle:[],is_clotured:[],indice:[null,[w.kI.required]],dateStart:[null,[w.kI.required]],dateEnd:[null,[w.kI.required]]}),this.hideId=!0,this.screenSizeSvc.onResize$.pipe((0,B.g)(0)).subscribe(it=>{this.cdr.markForCheck()})}ngOnInit(){this.fetch(),this.formGroup=this.formBuilder.group({libelle:[null,[w.kI.required]],indice:[null,[w.kI.required]],dateStart:[null,[w.kI.required]],dateEnd:[null,[w.kI.required]]}),this.formGroupSequence=this.formBuilder.group({indice:[null,[w.kI.required]]}),this.formGroupTrimestre=this.formBuilder.group({libelle:[null,[w.kI.required]]})}windowResize(t){this.getScreenWidth(t.target.innerWidth)}onSelect(t){this.value=t.heading}onSaveYear(){console.log(this.formGroup)}onSubmit(){const g={data:this.createFromYearForm()};this.tableSvc.addTrimestre(g).subscribe(W=>{this.fetch()})}onReset(){this.formGroup.reset(),this.sequenceModal.hide(),this.trimestreModal.hide(),this.childModal.hide()}delete(t,g){this.deleteRow=t,this.modalRef=this.modalService.show(g,{class:"modal-sm"})}confirm(){this.tableSvc.delete(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmTrimestre(){this.tableSvc.deleteTrimestre(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmSequence(){this.tableSvc.deleteSequence(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}decline(){this.modalRef.hide()}onActivate(t){}yearActivate(t){this.tableSvc.activateYear(t).subscribe(g=>{this.fetch()},g=>{console.log(g)})}trimestreActivate(t){this.tableSvc.activateTrimestre(t).subscribe(g=>{},g=>{console.log(g)})}sequenceActivate(t){this.tableSvc.activateSequence(t).subscribe(g=>{this.fetch()},g=>{console.log(g)})}showChildModal(){this.childModal.show()}hideChildModal(){this.childModal.hide()}showTrimestredModal(){this.trimestreModal.show()}hideTrimestredModal(){this.trimestreModal.hide()}showSequenceModal(){this.sequenceModal.show()}hideSequenceModal(){this.sequenceModal.hide()}getScreenWidth(t){this.screenSizeSvc.onResize(t)}fetch(){this.tableSvc.getYears().subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}createFromYearForm(){return Object.assign(Object.assign({},new H),{id:this.editYearschoolForm.get(["id"]).value,libelle:this.editYearschoolForm.get(["libelle"]).value,indice:this.editYearschoolForm.get(["indice"]).value,dateStart:this.editYearschoolForm.get(["date_start"]).value,dateEnd:this.editYearschoolForm.get(["date_end"]).value,is_clotured:this.editYearschoolForm.get(["is_clotured"]).value})}updateYearForm(t){this.editYearschoolForm.patchValue({id:t.id,libelle:t.libelle,indice:t.indice,dateStart:t.dateStart,dateEnd:t.dateEnd})}createFromTrimestreForm(){return Object.assign(Object.assign({},new D),{id:this.editTrimestreForm.get(["id"]).value,libelle:this.editTrimestreForm.get(["libelle"]).value,indice:this.editTrimestreForm.get(["indice"]).value,date_start:this.editTrimestreForm.get(["date_start"]).value,date_end:this.editTrimestreForm.get(["date_end"]).value,year:this.editTrimestreForm.get(["year"]).value,is_clotured:this.editTrimestreForm.get(["is_clotured"]).value})}updateTrimestreForm(t){this.editTrimestreForm.patchValue({id:t.id,libelle:t.libelle,indice:t.indice,date_start:t.date_start,date_end:t.date_end,is_clotured:t.is_clotured,year:t.year.id})}createFromSequenceForm(){return Object.assign(Object.assign({},new V),{id:this.editSequenceForm.get(["id"]).value,libelle:this.editSequenceForm.get(["libelle"]).value,indice:this.editSequenceForm.get(["indice"]).value,date_start:this.editSequenceForm.get(["date_end"]).value,date_end:this.editSequenceForm.get(["date_end"]).value,trimestre:this.editSequenceForm.get(["trimestre"]).value,is_clotured:this.editSequenceForm.get(["is_clotured"]).value})}updateSequenceForm(t){this.editSequenceForm.patchValue({id:t.id,libelle:t.libelle,indice:t.indice,date_start:t.date_start,date_end:t.date_end,is_clotured:t.is_clotured,trimestre:t.trimestre.id})}editsequence(t){this.updateSequenceForm(t),this.sequenceModal.show(),this.cdr.markForCheck()}edittrimestre(t){console.log(t),this.updateTrimestreForm(t),this.trimestreModal.show(),this.cdr.markForCheck()}edityear(t){this.updateYearForm(t),this.childModal.show(),this.cdr.markForCheck()}onSubmitSequence(){const t=this.createFromSequenceForm();this.tableSvc.updateSequence(t.id,{data:t}).subscribe(W=>{this.fetch(),this.sequenceModal.hide()})}onSubmitTrimestre(){const t=this.createFromTrimestreForm();console.log(t),this.tableSvc.updateTrimestre(t.id,{data:t}).subscribe(W=>{this.fetch(),this.trimestreModal.hide()})}onSelecttrimestre(t){this.tableSvc.getTrimestres().subscribe(g=>{this.temptrimestres=[...g.data],this.rowtrimestres=g.data,this.cdr.detectChanges(),console.log(this.temptrimestres)},g=>{console.log(g)})}onSelectSequence(t){this.tableSvc.getSequences().subscribe(g=>{this.tempsequences=[...g.data],this.rowsequences=g.data,this.cdr.markForCheck(),console.log(this.tempsequences)},g=>{console.log(g)})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(F.tT),e.Y36(q.sK),e.Y36(w.qu),e.Y36(M.E),e.Y36(R._W),e.Y36(e.sBO),e.Y36(f.O))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-yearschool"]],viewQuery:function(t,g){if(1&t&&(e.Gf(E.nE,5),e.Gf(E.nE,5),e.Gf(E.nE,5),e.Gf(d,5),e.Gf(T,5),e.Gf(O,5)),2&t){let W;e.iGM(W=e.CRH())&&(g.tableevaluation=W.first),e.iGM(W=e.CRH())&&(g.table=W.first),e.iGM(W=e.CRH())&&(g.tabletrimestre=W.first),e.iGM(W=e.CRH())&&(g.childModal=W.first),e.iGM(W=e.CRH())&&(g.trimestreModal=W.first),e.iGM(W=e.CRH())&&(g.sequenceModal=W.first)}},hostBindings:function(t,g){1&t&&e.NdJ("resize",function(Se){return g.windowResize(Se)},!1,e.Jf7)},features:[e._Bn([R._W])],decls:225,vars:171,consts:[["type","pills",3,"justified"],["heading","Ann\xe9e scolaire",1,"mt-2",3,"selectTab"],[1,"card"],[1,"card-header"],[1,"card-title"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["heading","Trimestre",1,"mt-2",3,"selectTab"],[3,"rows","headerHeight","columnMode","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["tabletrimestre",""],["heading","Evaluation",1,"mt-2",3,"selectTab"],[3,"rows","headerHeight","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["tableevaluation",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["childModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","number","formControlName","indice",1,"form-control"],["type","date","formControlName","dateStart",1,"form-control"],["type","date","formControlName","dateEnd",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["trimestreModal","bs-modal"],["id","dialog-trimestre-libelle",1,"modal-title","pull-left"],[1,"form-group",3,"hidden"],["for","field_idm",1,"form-control-label"],["type","number","name","id","id","field_idm","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["type","number","name","id","id","field_yearschool","data-cy","id","formControlName","year",1,"form-control",3,"readonly"],["type","text","name","id","id","field_is_clotured","data-cy","id","formControlName","is_clotured",1,"form-control",3,"readonly"],["type","text","formControlName","indice",1,"form-control"],["type","date","formControlName","date_start",1,"form-control"],["type","date","formControlName","date_end",1,"form-control"],["sequenceModal","bs-modal"],["id","dialog-sequence-libelle",1,"modal-title","pull-left"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["type","number","name","id","id","field_trimestre","data-cy","id","formControlName","trimestre",1,"form-control",3,"readonly"],["type","text","name","id","id","field_is_clotured2","data-cy","id","formControlName","is_clotured",1,"form-control",3,"readonly"],["template",""],["templateTrimestre",""],["templateSequence",""],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],["dropdownItem","","href","",3,"routerLink"],[1,"feather","icon-plus"],["dropdownItem","","href","javascript:void(0)",3,"click",4,"ngIf"],["dropdownItem","","disabled","","href","javascript:void(0)",3,"click"],[1,"feather","icon-trash-2"],[1,"feather","icon-check"],[1,"feather","icon-delete"],["alignment","right"],["dropdownItem","","href","javascript:void(0)",3,"routerLink"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,g){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.NdJ("selectTab",function(Se){return g.onSelect(Se)}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return g.showChildModal()}),e._UZ(8,"i",6),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"ngx-datatable",8,9),e.NdJ("activate",function(Se){return g.onActivate(Se)})("select",function(Se){return g.onSelect(Se)}),e.TgZ(12,"ngx-datatable-column",10),e.ALo(13,"translate"),e.YNc(14,_,1,1,"ng-template",11),e.qZA(),e.TgZ(15,"ngx-datatable-column",10),e.ALo(16,"translate"),e.YNc(17,C,2,4,"ng-template",11),e.qZA(),e.TgZ(18,"ngx-datatable-column",10),e.ALo(19,"translate"),e.YNc(20,S,2,4,"ng-template",11),e.qZA(),e.TgZ(21,"ngx-datatable-column",10),e.ALo(22,"translate"),e.YNc(23,P,4,3,"ng-template",11),e.qZA(),e.TgZ(24,"ngx-datatable-column",12),e.YNc(25,s,25,14,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tab",13),e.NdJ("selectTab",function(Se){return g.onSelecttrimestre(Se)}),e.TgZ(27,"div",2),e.TgZ(28,"div",3),e.TgZ(29,"h5",4),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.qZA(),e.TgZ(32,"div",7),e.TgZ(33,"ngx-datatable",14,15),e.NdJ("activate",function(Se){return g.onActivate(Se)})("select",function(Se){return g.onSelect(Se)}),e.TgZ(35,"ngx-datatable-column",10),e.ALo(36,"translate"),e.YNc(37,c,1,1,"ng-template",11),e.qZA(),e.TgZ(38,"ngx-datatable-column",10),e.ALo(39,"translate"),e.YNc(40,i,2,4,"ng-template",11),e.qZA(),e.TgZ(41,"ngx-datatable-column",10),e.ALo(42,"translate"),e.YNc(43,h,2,4,"ng-template",11),e.qZA(),e.TgZ(44,"ngx-datatable-column",10),e.ALo(45,"translate"),e.YNc(46,v,4,3,"ng-template",11),e.qZA(),e.TgZ(47,"ngx-datatable-column",12),e.YNc(48,he,25,14,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"tab",16),e.NdJ("selectTab",function(Se){return g.onSelectSequence(Se)}),e.TgZ(50,"div",2),e.TgZ(51,"div",3),e.TgZ(52,"h5",4),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.qZA(),e.TgZ(55,"div",7),e.TgZ(56,"ngx-datatable",17,18),e.NdJ("activate",function(Se){return g.onActivate(Se)})("select",function(Se){return g.onSelect(Se)}),e.TgZ(58,"ngx-datatable-column",10),e.ALo(59,"translate"),e.YNc(60,ce,1,1,"ng-template",11),e.qZA(),e.TgZ(61,"ngx-datatable-column",10),e.ALo(62,"translate"),e.YNc(63,de,2,4,"ng-template",11),e.qZA(),e.TgZ(64,"ngx-datatable-column",10),e.ALo(65,"translate"),e.YNc(66,be,2,4,"ng-template",11),e.qZA(),e.TgZ(67,"ngx-datatable-column",10),e.ALo(68,"translate"),e.YNc(69,ie,4,3,"ng-template",11),e.qZA(),e.TgZ(70,"ngx-datatable-column",12),e.YNc(71,J,17,6,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(72,"div",19,20),e.TgZ(74,"div",21),e.TgZ(75,"div",22),e.TgZ(76,"div",23),e.TgZ(77,"h4",24),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"button",25),e.NdJ("click",function(){return g.hideChildModal()}),e.TgZ(81,"span",26),e._uU(82,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(83,"div",27),e.TgZ(84,"form",28),e.NdJ("validSubmit",function(){return g.onSaveYear()}),e.TgZ(85,"div",29),e.TgZ(86,"div",30),e.TgZ(87,"div",31),e.TgZ(88,"label",32),e._uU(89),e.ALo(90,"translate"),e.qZA(),e._UZ(91,"input",33),e.qZA(),e.TgZ(92,"div",31),e.TgZ(93,"label",32),e._uU(94),e.ALo(95,"translate"),e.qZA(),e._UZ(96,"input",34),e.qZA(),e.TgZ(97,"div",31),e.TgZ(98,"label",32),e._uU(99),e.ALo(100,"translate"),e.qZA(),e._UZ(101,"input",35),e.qZA(),e.TgZ(102,"div",31),e.TgZ(103,"label",32),e._uU(104),e.ALo(105,"translate"),e.qZA(),e._UZ(106,"input",36),e.qZA(),e.TgZ(107,"button",37),e.NdJ("click",function(){return g.onReset()}),e._uU(108),e.ALo(109,"translate"),e.qZA(),e.TgZ(110,"button",38),e._uU(111),e.ALo(112,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(113,"div",19,39),e.TgZ(115,"div",21),e.TgZ(116,"div",22),e.TgZ(117,"div",23),e.TgZ(118,"h4",40),e._uU(119),e.ALo(120,"translate"),e.qZA(),e.TgZ(121,"button",25),e.NdJ("click",function(){return g.hideTrimestredModal()}),e.TgZ(122,"span",26),e._uU(123,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(124,"div",27),e.TgZ(125,"form",28),e.NdJ("validSubmit",function(){return g.onSubmitTrimestre()}),e.TgZ(126,"div",29),e.TgZ(127,"div",30),e.TgZ(128,"div",41),e.TgZ(129,"label",42),e._uU(130,"ID"),e.qZA(),e._UZ(131,"input",43),e.qZA(),e.TgZ(132,"div",41),e.TgZ(133,"label",42),e._uU(134,"ID"),e.qZA(),e._UZ(135,"input",44),e.qZA(),e.TgZ(136,"div",41),e.TgZ(137,"label",42),e._uU(138,"ID"),e.qZA(),e._UZ(139,"input",45),e.qZA(),e.TgZ(140,"div",31),e.TgZ(141,"label",32),e._uU(142),e.ALo(143,"translate"),e.qZA(),e._UZ(144,"input",33),e.qZA(),e.TgZ(145,"div",31),e.TgZ(146,"label",32),e._uU(147),e.ALo(148,"translate"),e.qZA(),e._UZ(149,"input",46),e.qZA(),e.TgZ(150,"div",31),e.TgZ(151,"label",32),e._uU(152),e.ALo(153,"translate"),e.qZA(),e._UZ(154,"input",47),e.qZA(),e.TgZ(155,"div",31),e.TgZ(156,"label",32),e._uU(157),e.ALo(158,"translate"),e.qZA(),e._UZ(159,"input",48),e.qZA(),e.TgZ(160,"button",37),e.NdJ("click",function(){return g.onReset()}),e._uU(161),e.ALo(162,"translate"),e.qZA(),e.TgZ(163,"button",38),e._uU(164),e.ALo(165,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(166,"div",19,49),e.TgZ(168,"div",21),e.TgZ(169,"div",22),e.TgZ(170,"div",23),e.TgZ(171,"h4",50),e._uU(172),e.ALo(173,"translate"),e.qZA(),e.TgZ(174,"button",25),e.NdJ("click",function(){return g.hideSequenceModal()}),e.TgZ(175,"span",26),e._uU(176,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(177,"div",27),e.TgZ(178,"form",28),e.NdJ("validSubmit",function(){return g.onSubmitSequence()}),e.TgZ(179,"div",29),e.TgZ(180,"div",30),e.TgZ(181,"div",41),e.TgZ(182,"label",42),e._uU(183,"ID"),e.qZA(),e._UZ(184,"input",51),e.qZA(),e.TgZ(185,"div",41),e.TgZ(186,"label",42),e._uU(187,"trimestre"),e.qZA(),e._UZ(188,"input",52),e.qZA(),e.TgZ(189,"div",41),e.TgZ(190,"label",42),e._uU(191,"is_clotured"),e.qZA(),e._UZ(192,"input",53),e.qZA(),e.TgZ(193,"div",31),e.TgZ(194,"label",32),e._uU(195),e.ALo(196,"translate"),e.qZA(),e._UZ(197,"input",33),e.qZA(),e.TgZ(198,"div",31),e.TgZ(199,"label",32),e._uU(200),e.ALo(201,"translate"),e.qZA(),e._UZ(202,"input",46),e.qZA(),e.TgZ(203,"div",31),e.TgZ(204,"label",32),e._uU(205),e.ALo(206,"translate"),e.qZA(),e._UZ(207,"input",47),e.qZA(),e.TgZ(208,"div",31),e.TgZ(209,"label",32),e._uU(210),e.ALo(211,"translate"),e.qZA(),e._UZ(212,"input",48),e.qZA(),e.TgZ(213,"button",37),e.NdJ("click",function(){return g.onReset()}),e._uU(214),e.ALo(215,"translate"),e.qZA(),e.TgZ(216,"button",38),e._uU(217),e.ALo(218,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(219,G,7,1,"ng-template",null,54,e.W1O),e.YNc(221,L,7,1,"ng-template",null,55,e.W1O),e.YNc(223,N,7,1,"ng-template",null,56,e.W1O)),2&t&&(e.Q6J("justified",!0),e.xp6(5),e.Oqu(e.lcZ(6,96,"title.annee")),e.xp6(5),e.Q6J("rows",g.rows)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("selectionType",g.SelectionType.checkbox)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(13,98,"fields.libelle")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(16,100,"fields.datedebut")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(19,102,"fields.datefin")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(22,104,"fields.isclotured")),e.Q6J("width",170),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(31,106,"title.trimestre")),e.xp6(3),e.Q6J("rows",g.rowtrimestres)("headerHeight",50)("columnMode",g.columnMode)("footerHeight",150)("limit",10)("selectionType",g.SelectionType.checkbox)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(36,108,"fields.libelle")),e.Q6J("width",270),e.xp6(3),e.s9C("name",e.lcZ(39,110,"fields.datedebut")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(42,112,"fields.datefin")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(45,114,"fields.isclotured")),e.Q6J("width",170),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(54,116,"title.sequence")),e.xp6(3),e.Q6J("rows",g.rowsequences)("headerHeight",50)("footerHeight",100)("limit",10)("selectionType",g.SelectionType.checkbox)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(59,118,"fields.libelle")),e.Q6J("width",270),e.xp6(3),e.s9C("name",e.lcZ(62,120,"fields.datedebut")),e.Q6J("width",270),e.xp6(3),e.s9C("name",e.lcZ(65,122,"fields.datefin")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(68,124,"fields.isclotured")),e.Q6J("width",170),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(168,$)),e.xp6(6),e.Oqu(e.lcZ(79,126,"title.addannee")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(5),e.Oqu(e.lcZ(90,128,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(95,130,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(100,132,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(105,134,"fields.datefin")),e.xp6(4),e.Oqu(e.lcZ(109,136,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(112,138,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(169,$)),e.xp6(6),e.Oqu(e.lcZ(120,140,"title.addtrimestre")),e.xp6(6),e.Q6J("formGroup",g.editTrimestreForm),e.xp6(3),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(143,142,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(148,144,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(153,146,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(158,148,"fields.datefin")),e.xp6(4),e.Oqu(e.lcZ(162,150,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(165,152,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(170,$)),e.xp6(6),e.Oqu(e.lcZ(173,154,"title.addsequence")),e.xp6(6),e.Q6J("formGroup",g.editSequenceForm),e.xp6(3),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(196,156,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(201,158,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(206,160,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(211,162,"fields.datefin")),e.xp6(4),e.Oqu(e.lcZ(215,164,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(218,166,"action.save")))},directives:[l.AH,l.wW,E.nE,E.UC,E.vq,F.oB,w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,a.mk,b.L,x.h,m.h,I.yS,a.O5],pipes:[q.X$,a.uU],styles:[""]}),Z})();function se(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function me(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_start,"dd/MM/yyyy")," ")}function ke(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_end,"dd/MM/yyyy")," ")}function Pe(Z,ae){if(1&Z&&(e.TgZ(0,"div",20),e._UZ(1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}let Ze=(()=>{class Z{constructor(t,g,W,Se,Be,Je){this.formBuilder=t,this.toaster=g,this.translateService=W,this.route=Se,this.cdr=Be,this.service=Je,this.rows=[],this.columns=[{prop:"libelle"},{name:"Date debut"},{name:"Date fin"}],this.editTrimestreForm=this.formBuilder.group({id:[],libelle:[],year:[],is_clotured:[],indice:[null,[w.kI.required]],date_start:[null,[w.kI.required]],date_end:[null,[w.kI.required]]}),this.hideId=!0}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[w.kI.required]],indice:["",[w.kI.required]],dateStart:[,w.kI.required],dateEnd:[,w.kI.required]}),this.service.getTrimestresByyear(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}createFromTrimestreForm(){return Object.assign(Object.assign({},new D),{id:this.editTrimestreForm.get(["id"]).value,libelle:this.editTrimestreForm.get(["libelle"]).value,indice:this.editTrimestreForm.get(["indice"]).value,date_start:this.editTrimestreForm.get(["date_start"]).value,date_end:this.editTrimestreForm.get(["date_end"]).value,is_clotured:this.editTrimestreForm.get(["is_clotured"]).value})}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,indice:this.formGroup.value.indice,date_start:this.formGroup.value.dateStart,date_end:this.formGroup.value.dateEnd,is_clotured:!0,year:this.route.snapshot.paramMap.get("id")}};this.service.addTrimestre(t).subscribe(g=>{this.service.getTrimestresByyear(this.route.snapshot.paramMap.get("id")).subscribe(W=>{this.rows=W.data,this.cdr.markForCheck(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")})},g=>this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")),console.log(t)}onSubmit(){console.log(this.formGroup)}onReset(){console.log(this.formGroup)}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(R._W),e.Y36(q.sK),e.Y36(I.gz),e.Y36(e.sBO),e.Y36(M.E))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-trimestre"]],features:[e._Bn([R._W])],decls:52,vars:39,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["name","indice","type","number","formControlName","indice",1,"form-control"],["type","date","formControlName","dateStart",1,"form-control"],["type","date","formControlName","dateEnd",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],[3,"name","width"],["ngx-datatable-cell-template",""],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return g.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return g.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"label",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"div",8),e.TgZ(21,"label",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",12),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"label",9),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"div",14),e.TgZ(31,"button",15),e.NdJ("click",function(){return g.onReset()}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",16),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",0),e.TgZ(38,"div",6),e.TgZ(39,"ngx-datatable",17),e.TgZ(40,"ngx-datatable-column",18),e.ALo(41,"translate"),e.YNc(42,se,1,1,"ng-template",19),e.qZA(),e.TgZ(43,"ngx-datatable-column",18),e.ALo(44,"translate"),e.YNc(45,me,2,4,"ng-template",19),e.qZA(),e.TgZ(46,"ngx-datatable-column",18),e.ALo(47,"translate"),e.YNc(48,ke,2,4,"ng-template",19),e.qZA(),e.TgZ(49,"ngx-datatable-column",18),e.ALo(50,"translate"),e.YNc(51,Pe,4,3,"ng-template",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,17,"title.addtrimestre")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(3),e.Oqu(e.lcZ(13,19,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(18,21,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(23,23,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(28,25,"fields.datefin")),e.xp6(5),e.Oqu(e.lcZ(33,27,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(36,29,"action.save")),e.xp6(4),e.Q6J("rows",g.rows),e.xp6(1),e.s9C("name",e.lcZ(41,31,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(44,33,"fields.datedebut")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(47,35,"fields.datefin")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(50,37,"fields.isclotured")),e.Q6J("width",70))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,E.nE,E.UC,E.vq,a.mk],pipes:[q.X$,a.uU],styles:[""]}),Z})();var Ee=n(735),Fe=n(5994);const le=["caisseModal"],ge=["deleteModal"];function re(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"div",72),e.TgZ(9,"button",73),e.NdJ("click",function(){const Se=e.CHM(t).$implicit;return e.oxw().edit(Se)}),e._UZ(10,"i",74),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",75),e.NdJ("click",function(){const Se=e.CHM(t).$implicit;return e.oxw().delete(Se)}),e._UZ(14,"i",71),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=ae.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.libelle),e.xp6(2),e.Oqu(t.code),e.xp6(5),e.hij("",e.lcZ(12,5,"action.edit")," "),e.xp6(4),e.hij("",e.lcZ(16,7,"action.delete")," ")}}function ue(Z,ae){if(1&Z&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA()),2&Z){const t=ae.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value)}}const ne=function(){return{backdrop:"static"}};let fe=(()=>{class Z{constructor(t,g,W){this.formBuilder=t,this.tableSvc=g,this.cdr=W,this.rowcaisses=[],this.rowtimestable=[],this.listdays=[]}ngOnInit(){this.formGroup=this.formBuilder.group({name:[,[w.kI.required]],phone:[,[w.kI.required]],slogan:[,[w.kI.required]],localisation:[,[w.kI.required]],sequenceByTrimestre:[,[w.kI.required]],directeur:[,[w.kI.required]],formatMatricule:[,[w.kI.required]],enableSignature:[!1,[w.kI.requiredTrue]],activateMutiAffectation:[!1,[w.kI.requiredTrue]],minMatiereComposition:[,[w.kI.required]],minCompositionTrimestre:[,[w.kI.required]],minEncouragement:[,[w.kI.required]],minFelicitation:[,[w.kI.nullValidator]],minBlame:[,[w.kI.nullValidator]],devise:[,[w.kI.nullValidator]],minTableauHonneur:[,[w.kI.nullValidator]],signature:[,[w.kI.nullValidator]]}),this.formGroupcaisse=this.formBuilder.group({libelle:[null,[w.kI.required]],code:[null,[w.kI.required]],hasretraitespece:[null,[w.kI.required]],maxretraitoperation:[null,[w.kI.required]],maxretraitperiode:[null,[w.kI.required]],hastransfertretrait:[null,[w.kI.required]]}),this.formGrouptimestable=this.formBuilder.group({sceanceparjour:[null,[w.kI.required]],debutjour:[null,[w.kI.required]],dureesceance:[null,[w.kI.required]],firstpause:[null,[w.kI.required]],firstpausedurree:[null,[w.kI.required]],secondpause:[null,[w.kI.required]],secondpausedurree:[null,[w.kI.required]]}),this.tableSvc.getConfiguration().subscribe(t=>{this.row=t.data,this.resetForm(t.data)},t=>{console.log(t)}),this.tableSvc.getCaisses().subscribe(t=>{this.rowcaisses=t.data},t=>{console.log(t)})}resetForm(t){this.formGroup.reset({name:t.name,devise:t.devise,localisation:t.localisation,phone:t.phone,slogan:t.slogan,sequenceByTrimestre:t.sequence_by_trimestre,directeur:t.directeur,formatMatricule:t.format_matricule,enableSignature:t.enable_signature,activateMutiAffectation:t.activate_muti_affectation,minMatiereComposition:t.min_matiere_composition,minCompositionTrimestre:t.min_composition_trimestre,minFelicitation:t.min_felicitation,minEncouragement:t.min_encouragement,minBlame:t.min_blame,minTableauHonneur:t.min_tableauHonneur,signature:t.signature}),this.formGrouptimestable.reset({sceanceparjour:t.timetablesceanceday,debutjour:t.timetabletimebegin,dureesceance:t.timetablesceanceduration,firstpause:t.timetablefirstpause,firstpausedurree:t.timetablefirstpauseduration,secondpause:t.timetablesecondpause,secondpausedurree:t.timetablesecondpauseduration})}onReset(){console.log(this.formGroup.value)}onSubmit(){const t={data:this.formGroup.value};console.log(t),this.tableSvc.addConfiguration(t).subscribe(g=>{this.resetForm(g.data)},g=>{console.log(g)})}onSubmitCaisse(){const t={data:this.formGroupcaisse.value};console.log(t),this.tableSvc.addCaisse(t).subscribe(g=>{this.tableSvc.getCaisses().subscribe(W=>{this.rowcaisses=W.data},W=>{console.log(W)}),this.formGroupcaisse.reset(),this.hideChildModal(),this.cdr.detectChanges()},g=>{console.log(g),this.hideChildModal()})}showChildModal(){this.caisseModal.show()}hideChildModal(){this.caisseModal.hide()}edit(t){this.formGroupcaisse=this.formBuilder.group({libelle:[t.libelle,[w.kI.required]],code:[t.code,[w.kI.required]],hasretraitespece:[t.hasretraitespece,[w.kI.required]],maxretraitoperation:[t.maxretraitoperation,[w.kI.required]],maxretraitperiode:[t.maxretraitperiode,[w.kI.required]],hastransfertretrait:[t.hastransfertretrait,[w.kI.required]]}),this.caisseModal.show()}delete(t){this.rowdelete=t,this.deleteModal.show()}deleteConfirm(t){console.log(t)}closeDelete(){this.deleteModal.hide()}updatesceance(){this.listdays=[];let W=0,Se=this.formGrouptimestable.value.sceanceparjour;console.log(this.formGrouptimestable.value);const Je=this.formGrouptimestable.value.debutjour.split(":"),it="10:45".split(":");console.log(Je);const nt=parseInt(it[0])-parseInt(Je[0]);for(let pt=0;pt<nt;pt++){W+=1;const zt=parseInt(Je[0])+pt+":"+Je[1]+" => "+(parseInt(Je[0])+pt+1)+":"+Je[1];this.listdays.push({name:zt,hour:Je[0],minuite:Je[1]})}this.listdays.push({name:"10:30 => 10:45",value:"pause"});const rt="13:00".split(":"),yt=parseInt(rt[0])-parseInt(it[0]);for(let pt=0;pt<yt;pt++){W+=1;const zt=parseInt(it[0])+pt+":"+it[1]+" => "+(parseInt(it[0])+pt+1)+":"+it[1];this.listdays.push({name:zt,hour:it[0],minuite:it[1]})}this.listdays.push({name:"12:45 => 13:00",value:"pause"}),Se-=W;for(let pt=0;pt<Se;pt++){const zt=parseInt(rt[0])+pt+":"+rt[1]+" => "+(parseInt(rt[0])+pt+1)+":"+rt[1];this.listdays.push({name:zt,hour:rt[0],minuite:rt[1]})}console.log(this.listdays)}updateTimes(){this.listdays=[];const t=[],g=this.formGrouptimestable.value.sceanceparjour,W=this.formGrouptimestable.value.debutjour,Se=this.formGrouptimestable.value.dureesceance,Be=this.formGrouptimestable.value.secondpausedurree,Je=this.formGrouptimestable.value.secondpause,lt=this.formGrouptimestable.value.firstpausedurree,it=this.formGrouptimestable.value.firstpause,nt=this.createNumberSceacnce(g,W,Se,it,lt,Je,Be);for(let rt=0;rt<nt.length-1;rt++)if(Number.isInteger(nt[rt].number)){const yt=nt[rt].heure+":"+nt[rt].minuite+"=>"+nt[rt+1].heure+":"+nt[rt+1].minuite;this.listdays.push({name:yt,hour:nt[rt].heure,minuite:nt[rt].minuite}),t.push({position:rt,ispause:!1,periode:yt})}else{const yt=nt[rt].heure+":"+nt[rt].minuite+"=>"+nt[rt+1].heure+":"+nt[rt+1].minuite;this.listdays.push({name:yt,hour:nt[rt].heure,minuite:nt[rt].minuite,value:nt[rt].number}),t.push({position:rt,ispause:!0,periode:yt})}this.tableSvc.addConfigurationTimestable({data:{configuration:{firstpause:it,firstpauseduration:lt,secondpause:Je,secondpauseduration:Be,sceanceday:g,sceanceduration:Se,timebegin:W},timestable:t}}).subscribe(rt=>{console.log(rt.data)},rt=>{console.log(rt),this.hideChildModal()})}createNumberSceacnce(t,g,W,Se,Be,Je,lt){const it=Se,nt=Be.split(":"),Lt=Je,rt=lt.split(":"),yt=W.split(":"),pt=g.split(":"),Jt=[];Jt.push({number:0,heure:pt[0],minuite:pt[1]});for(let Yt=1;Yt<t;Yt++){let ot=parseInt(pt[1])+parseInt(yt[1]),dt=parseInt(pt[0])+parseInt(yt[0]);ot>=60&&(dt+=1,ot-=60),Yt===it&&(Jt.push({number:"Frirst pause",heure:dt,minuite:ot}),ot+=parseInt(nt[1]),ot>=60&&(dt+=1,ot-=60)),Yt===Lt&&(Jt.push({number:"Second pause",heure:dt,minuite:ot}),ot+=parseInt(rt[1]),ot>=60&&(dt+=1,ot-=60)),pt[1]=ot,pt[0]=dt,Jt.push({number:Yt,heure:dt,minuite:ot})}return console.log(Jt),Jt}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(Ee.e),e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-configuration"]],viewQuery:function(t,g){if(1&t&&(e.Gf(le,5),e.Gf(ge,5)),2&t){let W;e.iGM(W=e.CRH())&&(g.caisseModal=W.first),e.iGM(W=e.CRH())&&(g.deleteModal=W.first)}},features:[e._Bn([R._W])],decls:265,vars:146,consts:[[3,"justified"],["id","tab1",3,"heading"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-4"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","devise",1,"form-control"],["type","text","formControlName","directeur",1,"form-control"],["type","text","formControlName","localisation",1,"form-control"],["type","text","formControlName","slogan",1,"form-control"],["type","text","formControlName","formatMatricule",1,"form-control"],[1,"form-check","form-switch","col-md-4"],[1,"form-check-label","ms-2"],["type","checkbox","formControlName","enableSignature",1,"form-check-input"],["type","checkbox","formControlName","activateMutiAffectation",1,"form-check-input"],["type","text","formControlName","sequenceByTrimestre",1,"form-control"],["type","text","formControlName","minMatiereComposition",1,"form-control"],["type","text","formControlName","minCompositionTrimestre",1,"form-control"],["type","text","formControlName","minEncouragement",1,"form-control"],["type","text","formControlName","minFelicitation",1,"form-control"],["type","text","formControlName","minBlame",1,"form-control"],["type","text","formControlName","signature",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","submit",1,"btn","btn-primary"],[3,"heading"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"formGroup","validSubmit"],[1,"row"],[1,"form-group","mb-3","col-md-3"],["type","number","formControlName","sceanceparjour",1,"form-control",3,"min"],[1,"form-group","col-md-3"],["type","time","formControlName","dureesceance",1,"form-control",3,"min"],["type","time","formControlName","debutjour",1,"form-control"],["type","number","formControlName","firstpause",1,"form-control",3,"min"],["type","time","formControlName","firstpausedurree",1,"form-control"],["type","number","formControlName","secondpause",1,"form-control",3,"min"],["type","time","formControlName","secondpausedurree",1,"form-control"],[1,"table","table-striped","table-bordered"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["caisseModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","code",1,"form-control"],["formControlName","hasretraitespece","single","true"],["formControlName","hastransfertretrait","single","true"],["type","number","formControlName","maxretraitoperation",1,"form-control"],["type","number","formControlName","maxretraitperiode",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["deleteModal","bs-modal"],["id","dialog-delete-name",1,"modal-title","pull-left"],["type","button",1,"btn","btn-warning","m-3",3,"click"],[1,"la","la-times"],["type","button",1,"btn","btn-success",3,"click"],[1,"la","la-remove"],[1,"btn-group"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"la","la-edit"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,g){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"h4",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"form",6),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(10,"div",7),e.TgZ(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"label",8),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",7),e.TgZ(21,"label",8),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",11),e.qZA(),e.TgZ(25,"div",7),e.TgZ(26,"label",8),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",12),e.qZA(),e.TgZ(30,"div",7),e.TgZ(31,"label",8),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",13),e.qZA(),e.TgZ(35,"div",7),e.TgZ(36,"label",8),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",14),e.qZA(),e.TgZ(40,"div",7),e.TgZ(41,"label",8),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",15),e.qZA(),e.TgZ(45,"div",16),e.TgZ(46,"label",17),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"input",18),e.qZA(),e.TgZ(50,"div",16),e.TgZ(51,"label",17),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"input",19),e.qZA(),e.TgZ(55,"div",7),e.TgZ(56,"label",8),e._uU(57),e.ALo(58,"translate"),e.qZA(),e._UZ(59,"input",20),e.qZA(),e.TgZ(60,"div",7),e.TgZ(61,"label",8),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"input",21),e.qZA(),e.TgZ(65,"div",7),e.TgZ(66,"label",8),e._uU(67),e.ALo(68,"translate"),e.qZA(),e._UZ(69,"input",22),e.qZA(),e.TgZ(70,"div",7),e.TgZ(71,"label",8),e._uU(72),e.ALo(73,"translate"),e.qZA(),e._UZ(74,"input",23),e.qZA(),e.TgZ(75,"div",7),e.TgZ(76,"label",8),e._uU(77),e.ALo(78,"translate"),e.qZA(),e._UZ(79,"input",24),e.qZA(),e.TgZ(80,"div",7),e.TgZ(81,"label",8),e._uU(82),e.ALo(83,"translate"),e.qZA(),e._UZ(84,"input",25),e.qZA(),e.TgZ(85,"div",7),e.TgZ(86,"label",8),e._uU(87,"signature"),e.qZA(),e._UZ(88,"input",26),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"div",27),e.TgZ(91,"button",28),e._uU(92),e.ALo(93,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"tab",29),e.ALo(95,"translate"),e.TgZ(96,"div",2),e.TgZ(97,"div",3),e.TgZ(98,"h4",4),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.TgZ(101,"div",30),e.TgZ(102,"button",31),e.NdJ("click",function(){return g.showChildModal()}),e._UZ(103,"i",32),e._uU(104),e.ALo(105,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(106,"div",5),e.TgZ(107,"table",33),e.TgZ(108,"thead"),e.TgZ(109,"tr"),e.TgZ(110,"th",34),e._uU(111,"#"),e.qZA(),e.TgZ(112,"th",34),e._uU(113,"Libelle"),e.qZA(),e.TgZ(114,"th",34),e._uU(115,"Code"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"tbody"),e.YNc(117,re,17,9,"tr",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(118,"tab",29),e.ALo(119,"translate"),e.TgZ(120,"div",2),e.TgZ(121,"div",3),e.TgZ(122,"h4",4),e._uU(123),e.ALo(124,"translate"),e.qZA(),e.qZA(),e.TgZ(125,"div",5),e.TgZ(126,"form",36),e.NdJ("validSubmit",function(){return g.updateTimes()}),e.TgZ(127,"div",37),e.TgZ(128,"div",38),e.TgZ(129,"label",8),e._uU(130),e.ALo(131,"translate"),e.qZA(),e._UZ(132,"input",39),e.qZA(),e.TgZ(133,"div",40),e.TgZ(134,"label",8),e._uU(135),e.ALo(136,"translate"),e.qZA(),e._UZ(137,"input",41),e.qZA(),e.TgZ(138,"div",40),e.TgZ(139,"label",8),e._uU(140),e.ALo(141,"translate"),e.qZA(),e._UZ(142,"input",42),e.qZA(),e.qZA(),e.TgZ(143,"div",37),e.TgZ(144,"div",40),e.TgZ(145,"label",8),e._uU(146),e.ALo(147,"translate"),e.qZA(),e._UZ(148,"input",43),e.qZA(),e.TgZ(149,"div",40),e.TgZ(150,"label",8),e._uU(151),e.ALo(152,"translate"),e.qZA(),e._UZ(153,"input",44),e.qZA(),e.TgZ(154,"div",40),e.TgZ(155,"label",8),e._uU(156),e.ALo(157,"translate"),e.qZA(),e._UZ(158,"input",45),e.qZA(),e.TgZ(159,"div",40),e.TgZ(160,"label",8),e._uU(161),e.ALo(162,"translate"),e.qZA(),e._UZ(163,"input",46),e.qZA(),e.qZA(),e._UZ(164,"br"),e.TgZ(165,"div",27),e.TgZ(166,"button",28),e._uU(167),e.ALo(168,"translate"),e.qZA(),e.qZA(),e.qZA(),e._UZ(169,"br"),e.TgZ(170,"table",47),e.TgZ(171,"thead"),e.TgZ(172,"tr"),e.TgZ(173,"th",34),e._uU(174,"Horaires"),e.qZA(),e.TgZ(175,"th",34),e._uU(176,"Lundi"),e.qZA(),e.TgZ(177,"th",34),e._uU(178,"Mardi"),e.qZA(),e.TgZ(179,"th",34),e._uU(180,"Mercredi"),e.qZA(),e.TgZ(181,"th",34),e._uU(182,"Jeudi"),e.qZA(),e.TgZ(183,"th",34),e._uU(184,"Vendredi"),e.qZA(),e.TgZ(185,"th",34),e._uU(186,"Samedi"),e.qZA(),e.TgZ(187,"th",34),e._uU(188,"Dimanche"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(189,"tbody"),e.YNc(190,ue,17,8,"tr",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(191,"div",48,49),e.TgZ(193,"div",50),e.TgZ(194,"div",51),e.TgZ(195,"div",52),e.TgZ(196,"h4",53),e._uU(197),e.ALo(198,"translate"),e.qZA(),e.TgZ(199,"button",54),e.NdJ("click",function(){return g.hideChildModal()}),e.TgZ(200,"span",55),e._uU(201,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(202,"div",56),e.TgZ(203,"form",36),e.NdJ("validSubmit",function(){return g.onSubmitCaisse()}),e.TgZ(204,"div",37),e.TgZ(205,"div",57),e.TgZ(206,"div",58),e.TgZ(207,"label",8),e._uU(208),e.ALo(209,"translate"),e.qZA(),e._UZ(210,"input",59),e.qZA(),e.TgZ(211,"div",58),e.TgZ(212,"label",8),e._uU(213),e.ALo(214,"translate"),e.qZA(),e._UZ(215,"input",60),e.qZA(),e.TgZ(216,"div",58),e.TgZ(217,"label",8),e._uU(218),e.ALo(219,"translate"),e.qZA(),e._UZ(220,"checkbox",61),e.qZA(),e.TgZ(221,"div",58),e.TgZ(222,"label",8),e._uU(223),e.ALo(224,"translate"),e.qZA(),e._UZ(225,"checkbox",62),e.qZA(),e.TgZ(226,"div",58),e.TgZ(227,"label",8),e._uU(228),e.ALo(229,"translate"),e.qZA(),e._UZ(230,"input",63),e.qZA(),e.TgZ(231,"div",58),e.TgZ(232,"label",8),e._uU(233),e.ALo(234,"translate"),e.qZA(),e._UZ(235,"input",64),e.qZA(),e.TgZ(236,"button",65),e.NdJ("click",function(){return g.onReset()}),e._uU(237),e.ALo(238,"translate"),e.qZA(),e.TgZ(239,"button",28),e._uU(240),e.ALo(241,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(242,"div",48,66),e.TgZ(244,"div",50),e.TgZ(245,"div",51),e.TgZ(246,"div",52),e.TgZ(247,"h4",67),e._uU(248),e.ALo(249,"translate"),e.qZA(),e.TgZ(250,"button",54),e.NdJ("click",function(){return g.hideChildModal()}),e.TgZ(251,"span",55),e._uU(252,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(253,"div",56),e.TgZ(254,"h4"),e._uU(255),e.ALo(256,"translate"),e.qZA(),e.TgZ(257,"button",68),e.NdJ("click",function(){return g.closeDelete()}),e._UZ(258,"i",69),e._uU(259),e.ALo(260,"translate"),e.qZA(),e.TgZ(261,"button",70),e.NdJ("click",function(){return g.deleteConfirm(g.rowdelete)}),e._UZ(262,"i",71),e._uU(263),e.ALo(264,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("justified",!0),e.xp6(1),e.s9C("heading",e.lcZ(2,56,"title.configuration")),e.xp6(5),e.Oqu(e.lcZ(7,58,"title.configuration")),e.xp6(3),e.Q6J("formGroup",g.formGroup),e.xp6(3),e.Oqu(e.lcZ(13,60,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(18,62,"fields.phone")),e.xp6(5),e.Oqu(e.lcZ(23,64,"fields.devise")),e.xp6(5),e.Oqu(e.lcZ(28,66,"fields.directeur")),e.xp6(5),e.Oqu(e.lcZ(33,68,"fields.localisation")),e.xp6(5),e.Oqu(e.lcZ(38,70,"fields.slogan")),e.xp6(5),e.Oqu(e.lcZ(43,72,"fields.formatmatricule")),e.xp6(5),e.Oqu(e.lcZ(48,74,"fields.activesignature")),e.xp6(5),e.Oqu(e.lcZ(53,76,"fields.activemutiaffectation")),e.xp6(5),e.Oqu(e.lcZ(58,78,"fields.sequencebytrimestre")),e.xp6(5),e.Oqu(e.lcZ(63,80,"fields.minmatierecomposition")),e.xp6(5),e.Oqu(e.lcZ(68,82,"fields.mincompositiontrimestre")),e.xp6(5),e.Oqu(e.lcZ(73,84,"fields.minencouragement")),e.xp6(5),e.Oqu(e.lcZ(78,86,"fields.minfelicitation")),e.xp6(5),e.Oqu(e.lcZ(83,88,"fields.minblame")),e.xp6(10),e.Oqu(e.lcZ(93,90,"action.save")),e.xp6(2),e.s9C("heading",e.lcZ(95,92,"title.caisseconfig")),e.xp6(5),e.Oqu(e.lcZ(100,94,"title.caisseconfig")),e.xp6(5),e.Oqu(e.lcZ(105,96,"action.add")),e.xp6(13),e.Q6J("ngForOf",g.rowcaisses),e.xp6(1),e.s9C("heading",e.lcZ(119,98,"title.emploisdetemps")),e.xp6(5),e.Oqu(e.lcZ(124,100,"title.emploisdetemps")),e.xp6(3),e.Q6J("formGroup",g.formGrouptimestable),e.xp6(4),e.Oqu(e.lcZ(131,102,"fields.sceanceparjour")),e.xp6(2),e.Q6J("min",3),e.xp6(3),e.Oqu(e.lcZ(136,104,"fields.dureesceance")),e.xp6(2),e.Q6J("min",1),e.xp6(3),e.Oqu(e.lcZ(141,106,"fields.debutjour")),e.xp6(6),e.Oqu(e.lcZ(147,108,"fields.firstpause")),e.xp6(2),e.Q6J("min",1),e.xp6(3),e.Oqu(e.lcZ(152,110,"fields.firstpausedurree")),e.xp6(5),e.Oqu(e.lcZ(157,112,"fields.secondpause")),e.xp6(2),e.Q6J("min",1),e.xp6(3),e.Oqu(e.lcZ(162,114,"fields.secondpausedurree")),e.xp6(6),e.Oqu(e.lcZ(168,116,"action.save")),e.xp6(23),e.Q6J("ngForOf",g.listdays),e.xp6(1),e.Q6J("config",e.DdM(144,ne)),e.xp6(6),e.Oqu(e.lcZ(198,118,"title.caisse")),e.xp6(6),e.Q6J("formGroup",g.formGroupcaisse),e.xp6(5),e.Oqu(e.lcZ(209,120,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(214,122,"fields.code")),e.xp6(5),e.Oqu(e.lcZ(219,124,"fields.hasretraitespece")),e.xp6(5),e.Oqu(e.lcZ(224,126,"fields.hastransfertretrait")),e.xp6(5),e.Oqu(e.lcZ(229,128,"fields.maxretraitoperation")),e.xp6(5),e.Oqu(e.lcZ(234,130,"fields.maxretraitperiode")),e.xp6(4),e.Oqu(e.lcZ(238,132,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(241,134,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(145,ne)),e.xp6(6),e.Oqu(e.lcZ(249,136,"title.confirmdelete")),e.xp6(7),e.Oqu(e.lcZ(256,138,"title.acceptdelete")),e.xp6(4),e.hij("",e.lcZ(260,140,"action.cancel")," "),e.xp6(4),e.hij("",e.lcZ(264,142,"action.delete")," "))},directives:[l.AH,l.wW,w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.Wl,a.sg,w.wV,w.qQ,F.oB,Fe.b],pipes:[q.X$],styles:[""]}),Z})();var _e=n(1541),xe=n(965),Re=n(1841),ve=n(2340),Ie=n(5917),oe=n(3342),Ae=n(5304);let pe=(()=>{class Z{constructor(t){this.http=t,this.apiUrl=ve.N.API_URL+"scolaritesettings",this.apiUrltranche=ve.N.API_URL+"tranches",this.apiUrlscolaritesetting=ve.N.API_URL+"scolaritesettings",this.httpOptions={headers:new Re.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getScolarite(){return this.http.get(this.apiUrl,this.httpOptions)}getScolariteId(t){return this.http.get(`${this.apiUrl}/${t}`)}getScolariteByNiveau(t){return this.http.get(`${this.apiUrl}/${t}`).pipe((0,oe.b)(W=>console.log(`fetched product id=${t}`)),(0,Ae.K)(this.handleError(`getProduct id=${t}`)))}addScolarite(t){return this.http.post(this.apiUrl,t,this.httpOptions)}editScolarite(t,g){return this.http.put(`${this.apiUrl}/${g}/put`,t,this.httpOptions)}updatetranchescolarite(t,g){return this.http.put(`${this.apiUrl}/${g}/line`,t,this.httpOptions)}deletetranchescolarite(t){return this.http.delete(`${this.apiUrl}/${t}/deleteline`,this.httpOptions)}deletescolarite(t){return this.http.delete(`${this.apiUrl}/${t}/delete`,this.httpOptions)}getTranche(){return this.http.get(this.apiUrltranche,this.httpOptions)}addTranche(t){return this.http.post(this.apiUrltranche,t,this.httpOptions)}editTranche(t,g){return this.http.put(`${this.apiUrltranche}/${g}`,t)}handleError(t="operation",g){return W=>(console.error(W),(0,Ie.of)(g))}}return Z.\u0275fac=function(t){return new(t||Z)(e.LFG(Re.eN))},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();const Ce=["detailModal"];function Ne(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.niveau.libelle," ")}function Me(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.montant_pension," ")}function qe(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.frais_inscription_new," ")}function je(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.frais_inscriprion_old," ")}const Ue=function(Z){return["/administration/editscolariteniveau",Z]};function Ge(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",26),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",27),e._UZ(2,"i",28),e.qZA(),e.TgZ(3,"dropdown-menu",29,30),e.TgZ(5,"a",31),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().detailScolarite(Se)}),e.TgZ(6,"div",32),e._UZ(7,"i",33),e.TgZ(8,"span",34),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",35),e.TgZ(12,"div",32),e._UZ(13,"i",36),e.TgZ(14,"span",34),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",31),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().delete(Se)}),e.TgZ(18,"div",32),e._UZ(19,"i",37),e.TgZ(20,"span",34),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=ae.row;e.xp6(9),e.Oqu(e.lcZ(10,4,"action.show")),e.xp6(2),e.Q6J("routerLink",e.VKq(10,Ue,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,6,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(22,8,"action.delete"))}}function We(Z,ae){if(1&Z&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&Z){const t=ae.$implicit;e.xp6(2),e.hij(" ",t.tranche.libelle," "),e.xp6(2),e.hij(" ",t.montant," "),e.xp6(2),e.hij(" ",t.limit_date," "),e.xp6(2),e.hij(" ",t.cumulmontant," ")}}function $e(Z,ae){if(1&Z&&(e.TgZ(0,"div"),e.TgZ(1,"dl",38),e.TgZ(2,"dt"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"dd"),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"dt"),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.qZA(),e.TgZ(13,"dd"),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"dt"),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"dd"),e.TgZ(21,"span"),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"dt"),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.TgZ(27,"dd"),e.TgZ(28,"span"),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",39),e.TgZ(31,"div",40),e.TgZ(32,"table",41),e.TgZ(33,"thead"),e.TgZ(34,"tr"),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"tbody"),e.YNc(48,We,9,4,"tr",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&Z){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,13,"fields.niveau")),e.xp6(4),e.Oqu(t.scolarite.niveau.libelle),e.xp6(3),e.Oqu(e.lcZ(12,15,"fields.montantpension")),e.xp6(4),e.Oqu(t.scolarite.montant_pension),e.xp6(3),e.Oqu(e.lcZ(19,17,"fields.fraisinscriptionnew")),e.xp6(4),e.Oqu(t.scolarite.frais_inscription_new),e.xp6(3),e.Oqu(e.lcZ(26,19,"fields.fraisinscriptionold")),e.xp6(4),e.Oqu(t.scolarite.frais_inscriprion_old),e.xp6(7),e.Oqu(e.lcZ(37,21,"fields.tranche")),e.xp6(3),e.Oqu(e.lcZ(40,23,"fields.montant")),e.xp6(3),e.Oqu(e.lcZ(43,25,"fields.datelimite")),e.xp6(3),e.Oqu(e.lcZ(46,27,"fields.montantcumul")),e.xp6(3),e.Q6J("ngForOf",t.tranchescolarites)}}const Xe=function(){return{backdrop:"static"}};let st=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt,it){this.toaster=t,this.translateService=g,this.service=W,this.scolariteService=Se,this.router=Be,this.cdr=Je,this.route=lt,this.screenSizeSvc=it,this.rows=[],this.tranchescolarites=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.screenSizeSvc.onResize$.pipe((0,B.g)(0)).subscribe(nt=>{nt.includes(_e.y.XXL)||nt.includes(_e.y.XL)||nt.includes(_e.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=E.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=E.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.fecth()}fecth(){this.scolariteService.getScolarite().subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onRowClick(t,g){console.log(t),this.router.navigate(["/administration/scolariteniveau/"+t])}goToTranche(){this.router.navigate(["/administration/tranche"])}goToAddscolarite(){this.router.navigate(["/administration/scolariteniveau/"])}editScolarite(t){console.log(t.id),this.router.navigate(["/administration/editscolariteniveau/"],{queryParams:{data:t.id}})}detailScolarite(t){this.scolarite=null,this.scolarite=t,this.tranchescolarites=t.tranche_scolarites,this.detailModal.show(),this.cdr.markForCheck()}previousState(){}hideDetailModal(){this.detailModal.hide()}delete(t){this.scolariteService.deletescolarite(t.id).subscribe(g=>{this.fecth(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),g.message)},g=>{console.log(g),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),g)})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(R._W),e.Y36(q.sK),e.Y36(xe.U),e.Y36(pe),e.Y36(I.F0),e.Y36(e.sBO),e.Y36(I.gz),e.Y36(f.O))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-scolarite"]],viewQuery:function(t,g){if(1&t&&(e.Gf(Ce,5),e.Gf(E.nE,5)),2&t){let W;e.iGM(W=e.CRH())&&(g.detailModal=W.first),e.iGM(W=e.CRH())&&(g.table=W.first)}},features:[e._Bn([R._W])],decls:44,vars:29,consts:[[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"la","la-plus"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-users"],[1,"card-body"],["rowHeight","auto","columnMode","force",3,"rows","footerHeight"],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-classe-name",1,"modal","fade",3,"config"],["detailModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","dialog-classe-libelle",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","justify-content-center"],[1,"col-12"],[4,"ngIf"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],["dropdownItem","","href","javascript:void(0)",3,"routerLink"],[1,"feather","icon-edit"],[1,"feather","icon-trash"],[1,"row-md","jh-entity-details"],[1,"row"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"button",5),e.NdJ("click",function(){return g.goToAddscolarite()}),e._UZ(8,"i",6),e._uU(9,"Ajouter une scolarite "),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return g.goToTranche()}),e._UZ(11,"i",8),e._uU(12,"Tranches "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"ngx-datatable",10),e.TgZ(15,"ngx-datatable-column",11),e.ALo(16,"translate"),e.YNc(17,Ne,1,1,"ng-template",12),e.qZA(),e.TgZ(18,"ngx-datatable-column",11),e.ALo(19,"translate"),e.YNc(20,Me,1,1,"ng-template",12),e.qZA(),e.TgZ(21,"ngx-datatable-column",11),e.ALo(22,"translate"),e.YNc(23,qe,1,1,"ng-template",12),e.qZA(),e.TgZ(24,"ngx-datatable-column",11),e.ALo(25,"translate"),e.YNc(26,je,1,1,"ng-template",12),e.qZA(),e.TgZ(27,"ngx-datatable-column",13),e.YNc(28,Ge,23,12,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",14,15),e.TgZ(31,"div",16),e.TgZ(32,"div",17),e.TgZ(33,"div",18),e.TgZ(34,"h2",19),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"button",20),e.NdJ("click",function(){return g.hideDetailModal()}),e.TgZ(38,"span",21),e._uU(39,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",22),e.TgZ(41,"div",23),e.TgZ(42,"div",24),e.YNc(43,$e,49,29,"div",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,16,"title.scolarite")),e.xp6(11),e.Q6J("rows",g.rows)("footerHeight",100),e.xp6(1),e.s9C("name",e.lcZ(16,18,"fields.niveau")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(19,20,"fields.montantpension")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(22,22,"fields.fraisinscriptionnew")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(25,24,"fields.fraisinscriptionold")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(28,Xe)),e.xp6(6),e.Oqu(e.lcZ(36,26,"title.detailscolarite")),e.xp6(8),e.Q6J("ngIf",g.scolarite))},directives:[E.nE,E.UC,E.vq,F.oB,a.O5,b.L,x.h,m.h,I.yS,a.sg],pipes:[q.X$],styles:[".row-md.jh-entity-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-column-gap:10px;column-gap:10px;line-height:1.5}@media screen and (min-width: 768px){.row-md.jh-entity-details[_ngcontent-%COMP%] > dt[_ngcontent-%COMP%]{float:left;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap;padding:.5em 0}dd[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:.5em 0;margin-left:0}}"]}),Z})();var ct=n(850);function ft(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function It(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.group_matiere.libelle," ")}let Pt=(()=>{class Z{constructor(t,g,W,Se,Be){this.formBuilder=t,this.cdr=g,this.route=W,this.service=Se,this.toaster=Be,this.rows=[],this.cdr.markForCheck()}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[w.kI.required]]}),this.fech()}fech(){this.service.getMatieres().subscribe(t=>{this.rows=t,this.cdr.markForCheck()},t=>{console.log(t)})}onSave(){const t={data:{libelle:this.formGroup.value.libelle,groupematiere:this.route.snapshot.paramMap.get("id")}};this.service.addMatiere(t).subscribe(g=>{this.fech(),this.formGroup.reset()},g=>{console.log(g)})}onReset(){this.formGroup.reset()}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(e.sBO),e.Y36(I.gz),e.Y36(ct._),e.Y36(R._W))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-matiere"]],features:[e._Bn([R._W])],decls:25,vars:19,consts:[[1,"card"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],[3,"name","width"],["ngx-datatable-cell-template",""]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("validSubmit",function(){return g.onSave()}),e.TgZ(3,"div",3),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"div",6),e.TgZ(10,"button",7),e.NdJ("click",function(){return g.onReset()}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",0),e.TgZ(17,"div",1),e.TgZ(18,"ngx-datatable",9),e.TgZ(19,"ngx-datatable-column",10),e.ALo(20,"translate"),e.YNc(21,ft,1,1,"ng-template",11),e.qZA(),e.TgZ(22,"ngx-datatable-column",10),e.ALo(23,"translate"),e.YNc(24,It,1,1,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",g.formGroup),e.xp6(3),e.Oqu(e.lcZ(6,9,"fields.libelle")),e.xp6(6),e.Oqu(e.lcZ(12,11,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(15,13,"action.save")),e.xp6(4),e.Q6J("rows",g.rows),e.xp6(1),e.s9C("name",e.lcZ(20,15,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(23,17,"fields.groupematiere")),e.Q6J("width",70))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,E.nE,E.UC,E.vq],pipes:[q.X$],styles:[""]}),Z})();var Ft=n(9457),Et=n(8618);const Ut="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8";let kt=(()=>{class Z{constructor(){}exportAsExcelFile(t,g){const Se={Sheets:{data:Et.utils.json_to_sheet(t)},SheetNames:["data"]},Be=Et.write(Se,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(Be,g)}exportAsPDFFile(t,g){const Se={Sheets:{data:Et.utils.json_to_sheet(t)},SheetNames:["data"]},Be=Et.write(Se,{bookType:"xlsx",type:"array"});this.saveAsPdfFile(Be,g)}saveAsExcelFile(t,g){const W=new Blob([t],{type:Ut});Ft.saveAs(W,g+"_export_"+(new Date).getTime()+".xlsx")}saveAsPdfFile(t,g){const W=new Blob([t],{type:Ut});Ft.saveAs(W,g+"_export_"+(new Date).getTime()+".pdf")}}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Bt(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function Qt(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.effectif," ")}function Kt(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.niveau.libelle," ")}function we(Z,ae){if(1&Z&&(e.TgZ(0,"div",21),e._UZ(1,"span",22),e.TgZ(2,"span",23),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass","active"===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass","active"===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}let De=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt){this.toaster=t,this.formBuilder=g,this.cdr=W,this.translateService=Se,this.excelService=Be,this.route=Je,this.service=lt,this.classes=[]}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[w.kI.required]],effectif:["",[w.kI.required]]}),this.init()}init(){this.service.getClassebyniveau(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.classes=t.data,this.cdr.detectChanges()},t=>{console.log(t)})}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,effectif:this.formGroup.value.effectif,niveau:this.route.snapshot.paramMap.get("id"),titulaire:1}};this.service.addClasse(t).subscribe(g=>{this.init(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.formGroup.reset()},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(R._W),e.Y36(w.qu),e.Y36(e.sBO),e.Y36(q.sK),e.Y36(kt),e.Y36(I.gz),e.Y36(xe.U))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-classe"]],features:[e._Bn([R._W,kt])],decls:34,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["name","indice","type","number","formControlName","effectif",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["name","effectif",3,"width"],["name","niveau",3,"width"],["name","Status",3,"width"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return g.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return g.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"libelle"),e.qZA(),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"label",9),e._uU(16,"Effectifs"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"button",13),e.NdJ("click",function(){return g.onReset()}),e._uU(20,"Reset"),e.qZA(),e.TgZ(21,"button",14),e._uU(22,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",0),e.TgZ(24,"div",6),e.TgZ(25,"ngx-datatable",15),e.TgZ(26,"ngx-datatable-column",16),e.YNc(27,Bt,1,1,"ng-template",17),e.qZA(),e.TgZ(28,"ngx-datatable-column",18),e.YNc(29,Qt,1,1,"ng-template",17),e.qZA(),e.TgZ(30,"ngx-datatable-column",19),e.YNc(31,Kt,1,1,"ng-template",17),e.qZA(),e.TgZ(32,"ngx-datatable-column",20),e.YNc(33,we,4,3,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,7,"title.editclasse")," "),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(16),e.Q6J("rows",g.classes),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,E.nE,E.UC,E.vq,a.mk],pipes:[q.X$],styles:[""]}),Z})(),Te=(()=>{class Z{constructor(){}ngOnInit(){}}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-audit"]],features:[e._Bn([R._W])],decls:7,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Audits"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},styles:[""]}),Z})();var Le=n(8274);function ze(Z,ae){if(1&Z&&(e.ynx(0),e.TgZ(1,"th"),e._uU(2),e.TgZ(3,"a"),e._UZ(4,"i",9),e.qZA(),e.qZA(),e.BQk()),2&Z){const t=ae.$implicit;e.xp6(2),e.hij("",t.name," ")}}function Qe(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"td",14),e.TgZ(1,"a",15),e.NdJ("click",function(){e.CHM(t);const W=e.oxw(2).$implicit,Se=e.oxw().$implicit;return e.oxw(2).savePermission(W.id,Se,0)}),e.TgZ(2,"span",16),e._uU(3,"yes"),e.qZA(),e.qZA(),e.qZA()}}function tt(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"td",14),e.TgZ(1,"a",15),e.NdJ("click",function(){e.CHM(t);const W=e.oxw(2).$implicit,Se=e.oxw().$implicit;return e.oxw(2).savePermission(W.id,Se,1)}),e.TgZ(2,"span",17),e._uU(3,"no"),e.qZA(),e.qZA(),e.qZA()}}function et(Z,ae){if(1&Z&&(e.YNc(0,Qe,4,0,"td",13),e.YNc(1,tt,4,0,"td",13)),2&Z){const t=e.oxw().$implicit,g=e.oxw().$implicit,W=e.oxw(2);e.Q6J("ngIf",W.hasPermission(t.name,g)),e.xp6(1),e.Q6J("ngIf",!W.hasPermission(t.name,g))}}function ht(Z,ae){if(1&Z&&(e.ynx(0),e.YNc(1,et,2,2,"ng-template",12),e.BQk()),2&Z){const t=ae.$implicit,g=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","role_permissions"!=g&&"view_user"!=g||"ROLE_SUPER_ADMIN"!=t.name)}}function gt(Z,ae){if(1&Z&&(e.ynx(0),e.TgZ(1,"tr"),e.TgZ(2,"td"),e._uU(3),e.qZA(),e.YNc(4,ht,2,1,"ng-container",8),e.qZA(),e.BQk()),2&Z){const t=ae.$implicit,g=e.oxw(2);e.xp6(3),e.Oqu(t),e.xp6(1),e.Q6J("ngForOf",g.roles)}}function Zt(Z,ae){if(1&Z&&(e.ynx(0),e.TgZ(1,"tr",10),e.TgZ(2,"td",11),e._uU(3),e.qZA(),e.qZA(),e.YNc(4,gt,5,2,"ng-container",8),e.BQk()),2&Z){const t=ae.$implicit,g=e.oxw();e.xp6(2),e.s9C("colspan",g.colspan),e.xp6(1),e.Oqu(t.key),e.xp6(1),e.Q6J("ngForOf",t.value)}}let jt=(()=>{class Z{constructor(t,g,W,Se){this.toaster=t,this.translateService=g,this.permissionservice=W,this.cdr=Se,this.rows=[],this.objectKeys=Object.keys,this.roles=[],this.permissions=[]}ngOnInit(){this.fetch()}hasPermission(t,g){let W=this.manager.permissions[t];return-1!=Object.keys(W).map(function(Be){return W[Be]}).indexOf(g)}fetch(){this.permissionservice.getPermissions().subscribe(t=>{this.rows=t.data,this.roles=t.data.roles,this.sorted=t.data.sorted,this.manager=t.data.manager,this.permissions=Object.keys(t.data.permissions).map(function(g){return t.data.permissions[g]}),console.log(this.rows),this.colspan=1+this.roles.length,this.cdr.markForCheck()},t=>{console.log(t)})}savePermission(t,g,W){this.permissionservice.savePermissions(t,g,W).subscribe(Se=>{this.fetch(),this.cdr.markForCheck(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},Se=>{console.log(Se),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(R._W),e.Y36(q.sK),e.Y36(Le.$),e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-permission"]],features:[e._Bn([R._W])],decls:19,vars:4,consts:[["xmlns","http://www.w3.org/1999/html",1,"card"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"fa","fa-trash-alt"],[1,"bg-info"],[3,"colspan"],[3,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-center"],[3,"click"],[1,"btn","btn-sm","btn-success"],[1,"btn","btn-sm","btn-danger"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Permissions"),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e._UZ(8,"br"),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th"),e._uU(13,"Libelle"),e.qZA(),e.YNc(14,ze,5,1,"ng-container",8),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,Zt,5,3,"ng-container",8),e.ALo(17,"keyvalue"),e.qZA(),e.qZA(),e._UZ(18,"br"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(14),e.Q6J("ngForOf",g.roles),e.xp6(2),e.Q6J("ngForOf",e.lcZ(17,2,g.sorted)))},directives:[a.sg,a.O5],pipes:[a.Nd],styles:[""]}),Z})();var Or=n(8468),zr=n(7697);let Nn=(()=>{class Z{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let g in t)t.hasOwnProperty(g)&&this._printStyle.push((g+JSON.stringify(t[g])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let g=function(W){return`<link rel="stylesheet" type="text/css" href="${W}">`};if(-1!==t.indexOf(",")){const W=t.split(",");for(let Se of W)this._styleSheetFile=this._styleSheetFile+g(Se)}else this._styleSheetFile=g(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const g=[],W=document.getElementsByTagName(t);for(let Se=0;Se<W.length;Se++)g.push(W[Se].outerHTML);return g.join("\r\n")}getFormData(t){for(var g=0;g<t.length;g++)t[g].defaultValue=t[g].value,t[g].checked&&(t[g].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),g=t.getElementsByTagName("input");this.getFormData(g);let W=t.getElementsByTagName("textarea");return this.getFormData(W),t.innerHTML}print(){let t,g,W="",Se="";const Be=this.getElementTag("base");this.useExistingCss&&(W=this.getElementTag("style"),Se=this.getElementTag("link")),t=this.getHtmlContents(),g=window.open("","_blank","top=0,left=0,height=auto,width=auto"),g.document.open(),g.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${Be}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${W}\n          ${Se}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),g.document.close()}}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275dir=e.lG2({type:Z,selectors:[["button","ngxPrint",""]],hostBindings:function(t,g){1&t&&e.NdJ("click",function(){return g.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),Z})(),Jr=(()=>{class Z{}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[[]]}),Z})();var vt=n(2759),hn=n(9765),Yr=n(4402),mt=n(6782),pn=n(4395),Qr=n(5435),Mt=n(1465),Vt=n.t(Mt,2),er=n(2917),mr=n.t(er,2);const _r=["pdfViewerContainer"];function br(Z,ae){const t=new Z.EventBus;return function(Z,ae){(0,vt.R)(Z,"documentload").pipe((0,mt.R)(ae)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),(0,vt.R)(Z,"pagerendered").pipe((0,mt.R)(ae)).subscribe(({pageNumber:t,cssTransform:g,source:W})=>{const Se=document.createEvent("CustomEvent");Se.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:g}),W.div.dispatchEvent(Se)}),(0,vt.R)(Z,"textlayerrendered").pipe((0,mt.R)(ae)).subscribe(({pageNumber:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),g.textLayerDiv.dispatchEvent(W)}),(0,vt.R)(Z,"pagechanging").pipe((0,mt.R)(ae)).subscribe(({pageNumber:t,source:g})=>{const W=document.createEvent("UIEvents");W.initEvent("pagechanging",!0,!0),W.pageNumber=t,g.container.dispatchEvent(W)}),(0,vt.R)(Z,"pagesinit").pipe((0,mt.R)(ae)).subscribe(({source:t})=>{const g=document.createEvent("CustomEvent");g.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(g)}),(0,vt.R)(Z,"pagesloaded").pipe((0,mt.R)(ae)).subscribe(({pagesCount:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),g.container.dispatchEvent(W)}),(0,vt.R)(Z,"scalechange").pipe((0,mt.R)(ae)).subscribe(({scale:t,presetValue:g,source:W})=>{const Se=document.createEvent("UIEvents");Se.initEvent("scalechange",!0,!0),Se.scale=t,Se.presetValue=g,W.container.dispatchEvent(Se)}),(0,vt.R)(Z,"updateviewarea").pipe((0,mt.R)(ae)).subscribe(({location:t,source:g})=>{const W=document.createEvent("UIEvents");W.initEvent("updateviewarea",!0,!0),W.location=t,g.container.dispatchEvent(W)}),(0,vt.R)(Z,"find").pipe((0,mt.R)(ae)).subscribe(({source:t,type:g,query:W,phraseSearch:Se,caseSensitive:Be,highlightAll:Je,findPrevious:lt})=>{if(t===window)return;const it=document.createEvent("CustomEvent");it.initCustomEvent("find"+g,!0,!0,{query:W,phraseSearch:Se,caseSensitive:Be,highlightAll:Je,findPrevious:lt}),window.dispatchEvent(it)}),(0,vt.R)(Z,"attachmentsloaded").pipe((0,mt.R)(ae)).subscribe(({attachmentsCount:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),g.container.dispatchEvent(W)}),(0,vt.R)(Z,"sidebarviewchanged").pipe((0,mt.R)(ae)).subscribe(({view:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),g.outerContainer.dispatchEvent(W)}),(0,vt.R)(Z,"pagemode").pipe((0,mt.R)(ae)).subscribe(({mode:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("pagemode",!0,!0,{mode:t}),g.pdfViewer.container.dispatchEvent(W)}),(0,vt.R)(Z,"namedaction").pipe((0,mt.R)(ae)).subscribe(({action:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("namedaction",!0,!0,{action:t}),g.pdfViewer.container.dispatchEvent(W)}),(0,vt.R)(Z,"presentationmodechanged").pipe((0,mt.R)(ae)).subscribe(({active:t,switchInProgress:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:g}),window.dispatchEvent(W)}),(0,vt.R)(Z,"outlineloaded").pipe((0,mt.R)(ae)).subscribe(({outlineCount:t,source:g})=>{const W=document.createEvent("CustomEvent");W.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),g.container.dispatchEvent(W)})}(t,ae),t}function Mr(Z,ae,t){Z[ae]=t}function yr(){return"undefined"==typeof window}yr()||Mr(Vt,"verbosity",Mt.VerbosityLevel.INFOS);var or=(()=>{return(Z=or||(or={}))[Z.DISABLED=0]="DISABLED",Z[Z.ENABLED=1]="ENABLED",Z[Z.ENHANCED=2]="ENHANCED",or;var Z})();let Dn=(()=>{class Z{constructor(t,g){if(this.element=t,this.ngZone=g,this.isVisible=!1,this._cMapsUrl=void 0!==Vt?`https://unpkg.com/pdfjs-dist@${Mt.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=or.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new hn.xQ,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),yr())return;let W;W=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Mt.version}/legacy/build/pdf.worker.js`,Mr(Mt.GlobalWorkerOptions,"workerSrc",W)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const g=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,g!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Mt.LinkTarget.BLANK;case"none":return Mt.LinkTarget.NONE;case"self":return Mt.LinkTarget.SELF;case"parent":return Mt.LinkTarget.PARENT;case"top":return Mt.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(t){if(!yr()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:or.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){const{page:g}=t;if(g.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();(0,Yr.D)(this._pdf.getPage(t.currentPageNumber)).pipe((0,mt.R)(this.destroy$)).subscribe({next:g=>{const W=this._rotation||g.rotate,Se=g.getViewport({scale:this._zoom,rotation:W}).width*Z.CSS_UNITS;let Be=this._zoom,Je=!0;if(!this._originalSize||this._fitToPage&&Se>this.pdfViewerContainer.nativeElement.clientWidth){const lt=g.getViewport({scale:1,rotation:W});Be=this.getScale(lt.width,lt.height),Je=!this._stickToPage}t._setScale(Be,Je)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const t={},g=Z.getLinkTarget(this._externalLinkTarget);return g&&(t.externalLinkTarget=g),t}setupMultiPageViewer(){Mr(Vt,"disableTextLayer",!this._renderText);const t=br(mr,this.destroy$);(0,vt.R)(t,"pagerendered").pipe((0,mt.R)(this.destroy$)).subscribe(W=>{this.pageRendered.emit(W)}),(0,vt.R)(t,"pagesinit").pipe((0,mt.R)(this.destroy$)).subscribe(W=>{this.pageInitialized.emit(W)}),(0,vt.R)(t,"pagechanging").pipe((0,mt.R)(this.destroy$)).subscribe(({pageNumber:W})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=W,this.pageChange.emit(W)},100)}),(0,vt.R)(t,"textlayerrendered").pipe((0,mt.R)(this.destroy$)).subscribe(W=>{this.textLayerRendered.emit(W)}),this.pdfMultiPageLinkService=new er.PDFLinkService(Object.assign({eventBus:t},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new er.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});const g={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:or.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new er.PDFViewer(g),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){Mr(Vt,"disableTextLayer",!this._renderText);const t=br(mr,this.destroy$);(0,vt.R)(t,"pagechanging").pipe((0,mt.R)(this.destroy$)).subscribe(({pageNumber:W})=>{W!==this._page&&(this.page=W)}),(0,vt.R)(t,"pagerendered").pipe((0,mt.R)(this.destroy$)).subscribe(W=>{this.pageRendered.emit(W)}),(0,vt.R)(t,"pagesinit").pipe((0,mt.R)(this.destroy$)).subscribe(W=>{this.pageInitialized.emit(W)}),(0,vt.R)(t,"textlayerrendered").pipe((0,mt.R)(this.destroy$)).subscribe(W=>{this.textLayerRendered.emit(W)}),this.pdfSinglePageLinkService=new er.PDFLinkService(Object.assign({eventBus:t},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new er.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});const g={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:or.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new er.PDFSinglePageViewer(g),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const g={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?g.url=this.src:"object"===t&&(void 0!==this.src.byteLength?g.data=this.src:Object.assign(g,this.src)),g}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=Mt.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=g=>{this.onProgress.emit(g)};const t=this.src;(0,Yr.D)(this.loadingTask.promise).pipe((0,mt.R)(this.destroy$)).subscribe({next:g=>{this._pdf=g,this.lastLoaded=t,this.afterLoadComplete.emit(g),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:g=>{this.onError.emit(g)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const t=this.getCurrentViewer();(0!==this._rotation||t.pagesRotation!==this._rotation)&&setTimeout(()=>{t.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{t.currentPageNumber=this._page}),this.updateSize()}getScale(t,g){const W=this._showBorders?2*Z.BORDER_WIDTH:0,Se=this.pdfViewerContainer.nativeElement.clientWidth-W,Be=this.pdfViewerContainer.nativeElement.clientHeight-W;if(0===Be||0===g||0===Se||0===t)return 1;let Je=1;switch(this._zoomScale){case"page-fit":Je=Math.min(Be/g,Se/t);break;case"page-height":Je=Be/g;break;case"page-width":default:Je=Se/t}return this._zoom*Je/Z.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){yr()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){yr()||this.ngZone.runOutsideAngular(()=>{(0,vt.R)(window,"resize").pipe((0,pn.b)(100),(0,Qr.h)(()=>this._canAutoResize&&!!this._pdf),(0,mt.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return Z.CSS_UNITS=96/72,Z.BORDER_WIDTH=9,Z.\u0275fac=function(t){return new(t||Z)(e.Y36(e.SBq),e.Y36(e.R0b))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["pdf-viewer"]],viewQuery:function(t,g){if(1&t&&e.Gf(_r,5),2&t){let W;e.iGM(W=e.CRH())&&(g.pdfViewerContainer=W.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--pdfViewer-padding-bottom: none;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:left;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:static;position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:blue}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::-moz-selection{background:transparent}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:left;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:static;position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::-moz-selection{background:blue}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:left;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{-o-object-position:left top;object-position:left top;-o-object-fit:contain;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition, [_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea{background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}[_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea{background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}[_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield{background:transparent}[_nghost-%COMP%]     .xfaSelect{background:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}"]}),Z})(),qn=(()=>{class Z{}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({}),Z})();function Un(Z,ae){if(1&Z&&(e.TgZ(0,"div",10),e._UZ(1,"pdf-viewer",11),e.qZA()),2&Z){const t=e.oxw();e.xp6(1),e.Q6J("src",t.pdfSrc)("render-text",!0)("original-size",!1)("autoresize",!0)("show-borders",!0)}}let gn=(()=>{class Z{constructor(t,g,W,Se,Be){this.modalService=t,this.pdfService=g,this.simplepdf=W,this.translateservice=Se,this.cycleservice=Be,this.rows=[],this.pdfSrc="https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf"}ngOnInit(){this.cycleservice.getCycles().subscribe(t=>{this.rows=t.data},t=>{console.log(t)})}printed(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"})}exportTableToPDF(){const g=this.createBody({title:"Bulletin",bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},compositions:[{name:"Matieres litteraires",compositions:[{id:158,note:12,rang:17,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},affectation:{id:15,professor:{id:2,compte:{id:6,username:"22P0005",password:"$2y$13$JudP8A2hkNd0iYSFddBR0u86z7dHEFXUrJ1IMoPdPXPcAkRPAGJr2",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/6"}}},matieres:[{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}}],is_vacataire:!0,name:"Mpoh yvan",matricule:"22P0005",dateborn:"2021-11-17T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",datecreated:"2021-11-16T00:00:00+01:00",isactived:!0,_links:{self:{href:"/v1/professors/2"}}},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/9"}}},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT",_links:{self:{href:"/v1/matieres/4"}}},{id:5,libelle:"Informatique",code:"Inf",_links:{self:{href:"/v1/matieres/5"}}}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0,_links:{self:{href:"/v1/professors/1"}}},_links:{self:{href:"/v1/classes/1"}}},matiere:{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},status:!0,_links:{self:{href:"/v1/affectations/15"}}},groupematiere:{id:2,libelle:"Matieres litteraires",position:2,_links:{self:{href:"/v1/groupematieres/2"}}},bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},min_moy:4,max_moy:19,moy_classe:11.84,coefficient:2},{id:158,note:12,rang:17,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},affectation:{id:15,professor:{id:2,compte:{id:6,username:"22P0005",password:"$2y$13$JudP8A2hkNd0iYSFddBR0u86z7dHEFXUrJ1IMoPdPXPcAkRPAGJr2",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/6"}}},matieres:[{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}}],is_vacataire:!0,name:"Mpoh yvan",matricule:"22P0005",dateborn:"2021-11-17T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",datecreated:"2021-11-16T00:00:00+01:00",isactived:!0,_links:{self:{href:"/v1/professors/2"}}},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/9"}}},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT",_links:{self:{href:"/v1/matieres/4"}}},{id:5,libelle:"Informatique",code:"Inf",_links:{self:{href:"/v1/matieres/5"}}}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0,_links:{self:{href:"/v1/professors/1"}}},_links:{self:{href:"/v1/classes/1"}}},matiere:{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},status:!0,_links:{self:{href:"/v1/affectations/15"}}},groupematiere:{id:2,libelle:"Matieres litteraires",position:2,_links:{self:{href:"/v1/groupematieres/2"}}},bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},min_moy:4,max_moy:19,moy_classe:11.84,coefficient:2}],total_note:12,total_note_coef:24,moyenne_note:12,total_coef:2,appreciation:"ASSEZ Bien"},{name:"Matieres scientifiques",compositions:[{id:159,note:10,rang:27,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0},sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},is_clotured:!1},pourcentage:50,is_clotured:!0},affectation:{id:16,professor:{id:2,compte:{id:6,username:"22P0005",password:"$2y$13$JudP8A2hkNd0iYSFddBR0u86z7dHEFXUrJ1IMoPdPXPcAkRPAGJr2",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/6"}}},matieres:[{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}}],is_vacataire:!0,name:"Mpoh yvan",matricule:"22P0005",dateborn:"2021-11-17T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",datecreated:"2021-11-16T00:00:00+01:00",isactived:!0,_links:{self:{href:"/v1/professors/2"}}},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/9"}}},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT",_links:{self:{href:"/v1/matieres/4"}}},{id:5,libelle:"Informatique",code:"Inf",_links:{self:{href:"/v1/matieres/5"}}}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0,_links:{self:{href:"/v1/professors/1"}}},_links:{self:{href:"/v1/classes/1"}}},matiere:{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}},status:!0,_links:{self:{href:"/v1/affectations/16"}}},groupematiere:{id:1,libelle:"Matieres scientifiques",position:1,_links:{self:{href:"/v1/groupematieres/1"}}},bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},min_moy:5,max_moy:20,moy_classe:11.97,coefficient:2,_links:{self:{href:"/v1/compositions/159"}}}],total_note:10,total_note_coef:20,moyenne_note:10,total_coef:2,appreciation:"PASSABLE"}],inscription:{id:238,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"]},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT"},{id:5,libelle:"Informatique",code:"Inf"}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0}}},moyFisrt:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},is_clotured:!1},pourcentage:50,is_clotured:!0},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0},rang:24},moyLast:{id:435,sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},is_clotured:!1},pourcentage:50,is_clotured:!0},student:{id:4,name:"Mbah julio",matricule:"22S00004",dateborn:"2021-11-04T00:00:00+01:00",sexe:"masculin",isactived:!0}},configuration:{id:1,name:"College CPBEL",phone:"675055926",devise:"Travail -success",sequence_by_trimestre:"2",directeur:"Kamga paul",localisation:"douala-bonaberi",format_matricule:"xxx-xxxx-xx",slogan:"discipline- travail-succes",signature:"test",enable_signature:!0,activate_muti_affectation:!0,min_encouragement:1,min_felicitation:6,min_blame:7,min_matiere_composition:1,min_composition_trimestre:1},absJ:0,absNJ:0,path:"images/logo_gp.png"});this.simplepdf.generatePdfcustom("Bulletins de notes",[{margin:[10,0,10,10],style:"tableContent",table:{widths:["30%","5%","5%","5%","5%","10%","5%","5%","5%","25%"],headerRows:0,dontBreakRows:!0,body:g}}],"portrait",!1)}exportSimpleToPDF(){this.simplepdf.generatePdfcustom("Liste des cycles",[{stack:["This header has both top and bottom margins defined",{text:"This is a subheader",style:"subheader"}],style:"header"},{columns:[{width:90,text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."},{width:"*",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."},{width:"*",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."},{width:90,text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."}]},{columns:[{text:" Underline decoration",decoration:"underline",width:"*"},{text:"Line Through decoration",decoration:"lineThrough"},{text:"Overline decoration",decoration:"overline"}]}],"portrait",!1)}exportToPDFCertificat(){const t={name:"Mbah rodrigue",matricule:"22s001258",classe:"5eme 1",datenaissance:"12-12-2005",lieunaissance:"Douala"},g=[{text:[{text:"N\xb0:",fontSize:15,bold:!0,alignment:"center",width:"*"},{text:"               ",decoration:"underline",width:"*"}]},{text:[{text:"Je soussign\xe9",fontSize:12,bold:!1},{text:"               \n\n",decoration:"underline",width:"100"},{text:"Principal du COLL\xc8GE POLYVALENT BILINGUE LES \xc9LITES \n\n",fontSize:15,bold:!0},{text:"Certifie que le (la) Nomm\xe9(e)",fontSize:13,bold:!1},{text:"  "+t.name.toUpperCase()+"  \n\n",decoration:"underline",fontSize:15,uppercase:!0,bold:!0},{text:"N\xe9(e) ",fontSize:13,bold:!1},{text:"  "+t.datenaissance,decoration:"underline",width:"*"},{text:"a ",fontSize:13,bold:!1},{text:"  "+t.lieunaissance+"   \n\n",decoration:"underline",width:"*"},{text:"Fils ou Fille de  "},{text:"                       \n\n",decoration:"underline",width:"*"},{text:"et de "},{text:"                       \n\n",decoration:"underline",width:"*"},{text:"Est (a \xe9t\xe9) r\xe9guli\xe8rement inscrit(s) dans mon etablissement pour le compte de l'ann\xe9e\nscolaire  \n\n"},{text:"En classe de "},{text:"                       \n\n",decoration:"underline",width:"*"},{text:"En foi de quoi se pr\xe9sent certificat de scolarite lui d\xe9livr\xe9 pour servir et valoir ce que est\nde droit. "}],margin:[10,50,0,20]},{text:[{text:"Fait \xe0",fontSize:15,bold:!0,alignment:"center",width:"*"},{text:"               ",decoration:"underline",width:"*"},{text:"le",fontSize:15,bold:!0,alignment:"center",width:"*"},{text:"               \n\n",decoration:"underline",width:"*"},{text:"Le principal",fontSize:15,bold:!0,alignment:"right",width:"*"}]}];this.simplepdf.generatePdfcustom("Liste des cycles",g,"portrait",!1)}exportToPDFRecu(){this.simplepdf.generatePdfcomptable([{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n debit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence ...............................\n",style:"tableHeader"},{text:"Date ....................................\n",style:"tableHeader"},{text:"Code service ......................\n",style:"tableHeader"},{text:"Code op\xe9ration ..................\n",style:"tableHeader"},{text:"Valeur .................................\n",style:"tableHeader"}]}]]}}]},{style:"tableExample",color:"#444",table:{widths:[200,"auto","auto"],headerRows:2,body:[[{text:"Header with Colspan = 3",style:"tableHeader",borderColor:["#ff00ff","#00ffff","#ff00ff","#00ffff"],alignment:"center"},{},{}]]}}],"portrait",!1)}exportToPDF(){const g=[this.translateservice.instant("fields.libelle"),this.translateservice.instant("fields.code")];this.pdfService.generatePdfWithcus("Liste des cycles",g,this.mapData(this.rows),"portrait",["50%","50%"])}mapData2(t){return t.map(g=>({Libelle:g.libelle,Code:g.id}))}mapData(t){return t.map(g=>({Matiere:g.matiere,Note:g.note}))}createBody(t){const g=[],Se=t.compositions,Be=t.bulletin;g.push([{text:"Matiere",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Coef",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Note",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"NXC",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Rang",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Mention",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Min moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Max moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Moy classe",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Enseignant",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10}]),Se.forEach(ot=>{const dt=[];ot.compositions.forEach(_t=>{const bt=[];bt.push({text:_t.affectation.matiere.libelle,style:"tableHeader",alignment:"center",fontSize:8}),bt.push({text:_t.coefficient,alignment:"center",fontSize:8}),bt.push({text:_t.note,alignment:"center",fontSize:8}),bt.push({text:_t.note*_t.coefficient,alignment:"center",fontSize:8}),bt.push({text:_t.rang,alignment:"center",fontSize:8}),bt.push({text:_t.note,alignment:"center",fontSize:8}),bt.push({text:_t.min_moy,alignment:"center",fontSize:8}),bt.push({text:_t.max_moy,alignment:"center",fontSize:8}),bt.push({text:_t.moy_classe,alignment:"center",fontSize:8}),bt.push({text:_t.affectation.professor.name,alignment:"center",fontSize:8}),g.push(bt)}),dt.push({text:ot.name,alignment:"center",fillColor:"#333",color:"#fff",fontSize:10}),dt.push({text:ot.total_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:ot.total_note,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:ot.total_note_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:"",alignment:"center",fillColor:"#333",color:"#fff"}),dt.push({text:ot.appreciation,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:"",alignment:"center",fillColor:"#333",color:"#fff",colSpan:3});const pr="Moyenne:"+ot.total_note;dt.push({text:pr,alignment:"center",fillColor:"#333",color:"#fff"}),dt.push({text:ot.total_note,alignment:"center",fillColor:"#333",color:"#fff"}),dt.push({text:pr,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),g.push(dt)});const lt=[{text:" ",alignment:"center",colSpan:4},{},{},{},{text:Be.moyenne,colSpan:4},{},{},{},{text:Be.rang,colSpan:2},{}];g.push([{text:"Total",alignment:"center"},{text:Be.totalcoef,alignment:"center"},{text:Be.totalnote,alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center",colSpan:4},{text:"Total",alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center"},{text:"Rang",alignment:"center",colSpan:2},{}]),g.push(lt);return g.push([{text:" Decision du conseil de classe",alignment:"center",colSpan:10},{},{},{},{},{text:"Notes",colSpan:5},{},{},{},{}]),g.push([{text:" Discipline",alignment:"center",colSpan:2},{},{text:" Travail",alignment:"center",colSpan:3},{},{},{text:" Rappel notes",alignment:"center",colSpan:3},{},{},{text:" Classe",alignment:"center",colSpan:2},{}]),g.push([{text:" Absence justifi\xe9",alignment:"center",fontSize:6,bold:!0},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation",alignment:"center",colSpan:2,fontSize:6,bold:!1},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),g.push([{text:" Absence non justifi\xe9:",alignment:"center",fontSize:6},{},{text:"Mention",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb02",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Rang",alignment:"center",fontSize:6},{}]),g.push([{text:" Avertissement:",alignment:"center",fontSize:6},{},{text:"A.conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb03",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du premier",alignment:"center",fontSize:6},{}]),g.push([{text:" Blame",alignment:"center",fontSize:6},{},{text:"B. conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb04",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du dernier",alignment:"center",fontSize:6},{}]),g.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb05",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy g\xe9n\xe9ral",alignment:"center",fontSize:6},{}]),g.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",colSpan:2,alignment:"center",fontSize:6},{},{},{text:"Moy \xe9valuation n\xb06",alignment:"center",colSpan:2,fontSize:6},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),g.push([{text:" Visa parent \n\n\n\n",alignment:"center",colSpan:3},{},{},{text:"Visa du titulaire \n\n\n\n",alignment:"center",colSpan:4},{},{},{},{text:"Visa du chef \xe9tablissement\n\n\n\n",alignment:"center",colSpan:3},{},{}]),g}createBodyTrim(t){const g=[],Se=t.compositions,Be=t.bulletin;g.push([{text:"Matiere",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Coef",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Note",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"NXC",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Rang",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Mention",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Min moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Max moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Moy classe",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Enseignant",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10}]),Se.forEach(ot=>{const dt=[];ot.compositions.forEach(_t=>{const bt=[];bt.push({text:_t.affectation.matiere.libelle,style:"tableHeader",alignment:"center",fontSize:8}),bt.push({text:_t.note,alignment:"center",fontSize:8}),bt.push({text:_t.note,alignment:"center",fontSize:8}),bt.push({text:_t.coefficient,alignment:"center",fontSize:8}),bt.push({text:_t.note*_t.coefficient,alignment:"center",fontSize:8}),bt.push({text:_t.rang,alignment:"center",fontSize:8}),bt.push({text:_t.note,alignment:"center",fontSize:8}),bt.push({text:_t.min_moy,alignment:"center",fontSize:8}),bt.push({text:_t.max_moy,alignment:"center",fontSize:8}),bt.push({text:_t.moy_classe,alignment:"center",fontSize:8}),bt.push({text:_t.affectation.professor.name,alignment:"center",fontSize:8}),bt.push({text:_t.affectation.professor.name,alignment:"center",fontSize:8}),g.push(bt)}),dt.push({text:ot.name,alignment:"center",fillColor:"#333",color:"#fff",fontSize:10}),dt.push({text:ot.total_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:ot.total_note,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:ot.total_note_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:"",alignment:"center",fillColor:"#333",color:"#fff"}),dt.push({text:ot.appreciation,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),dt.push({text:"",alignment:"center",fillColor:"#333",color:"#fff",colSpan:3});const pr="Moyenne:"+ot.total_note;dt.push({text:pr,alignment:"center",fillColor:"#333",color:"#fff"}),dt.push({text:ot.total_note,alignment:"center",fillColor:"#333",color:"#fff"}),dt.push({text:pr,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),g.push(dt)});const lt=[{text:" ",alignment:"center",colSpan:4},{},{},{},{text:Be.moyenne,colSpan:4},{},{},{},{text:Be.rang,colSpan:2},{}];g.push([{text:"Total",alignment:"center"},{text:Be.totalcoef,alignment:"center"},{text:Be.totalnote,alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center",colSpan:4},{text:"Total",alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center"},{text:"Rang",alignment:"center",colSpan:2},{}]),g.push(lt);return g.push([{text:" Decision du conseil de classe",alignment:"center",colSpan:10},{},{},{},{},{text:"Notes",colSpan:5},{},{},{},{}]),g.push([{text:" Discipline",alignment:"center",colSpan:2},{},{text:" Travail",alignment:"center",colSpan:3},{},{},{text:" Rappel notes",alignment:"center",colSpan:3},{},{},{text:" Classe",alignment:"center",colSpan:2},{}]),g.push([{text:" Absence justifi\xe9",alignment:"center",fontSize:6,bold:!0},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation",alignment:"center",colSpan:2,fontSize:6,bold:!1},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),g.push([{text:" Absence non justifi\xe9:",alignment:"center",fontSize:6},{},{text:"Mention",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb02",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Rang",alignment:"center",fontSize:6},{}]),g.push([{text:" Avertissement:",alignment:"center",fontSize:6},{},{text:"A.conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb03",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du premier",alignment:"center",fontSize:6},{}]),g.push([{text:" Blame",alignment:"center",fontSize:6},{},{text:"B. conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb04",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du dernier",alignment:"center",fontSize:6},{}]),g.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb05",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy g\xe9n\xe9ral",alignment:"center",fontSize:6},{}]),g.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",colSpan:2,alignment:"center",fontSize:6},{},{},{text:"Moy \xe9valuation n\xb06",alignment:"center",colSpan:2,fontSize:6},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),g.push([{text:" Visa parent \n\n\n\n",alignment:"center",colSpan:3},{},{},{text:"Visa du titulaire \n\n\n\n",alignment:"center",colSpan:4},{},{},{},{text:"Visa du chef \xe9tablissement\n\n\n\n",alignment:"center",colSpan:3},{},{}]),g}exportToPDFDisposition(){this.simplepdf.generatePdfcomptable([{text:[{text:"DISPOSITION \xc0 PAYER DU ",fontSize:18,bold:!1,uppercase:!0},{text:".....................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"INTITUL\xc9 DU COMPTE",fontSize:18,bold:!1},{text:"..........................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"NATURE ET D\xc9TAILS DE LA DEPENSE ",fontSize:18,bold:!1},{text:".............................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:".................................................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"MONTANT \xc0 PAYER ",fontSize:18,bold:!1},{text:"........................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"..................................................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"NUMERO DU COMPTE ",fontSize:18,bold:!1},{text:"..........................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"CONTREPARTIE ",fontSize:18,bold:!1},{text:"..........................................................................\n\n",fontSize:18,color:"#980b13",bold:!1}]},{canvas:[{type:"line",x1:0,y1:40,x2:540,y2:40,lineWidth:3}]},{text:"\n D\xc9CISION DU RESPONSABLE DU SERVICE",fontSize:18,bold:!1},{canvas:[{type:"rect",x:1,y:1,w:20,h:20,r:4,lineColor:"red",color:"#ffffe0"}]},{text:"Accepted",fontSize:18,bold:!1},{text:[{text:"\n\n\n",fontSize:18,bold:!1},{text:"SIGNATURE DU RESPONSABLE \n\n\n",fontSize:18,bold:!1},{text:"IDENTIFICATION ET SIGNATURE DU BEN\xc9FICIARE \n\n\n",fontSize:18,bold:!1},{text:"D\xc9TAILS BILLETAGE ET SIGNATURE DU CAISSIER  \n\n\n",fontSize:18,bold:!1}]}],"portrait",!1)}exportToPDFOrdre(){this.simplepdf.generatePdfcomptable([{text:[{text:"ORDRE D'\xc9XC\xc9CUTION INTERSERVICES N\xb0.......\n\n ",fontSize:18,bold:!0,alignment:"center"},{text:"Date ..................\n\n",fontSize:18,bold:!0,alignment:"center"}]},{style:"tableExample",table:{widths:["*","*"],body:[["SERVICE INITIATEUR","SERVICE DESTINATEUR"],["Service:\n\n\n\n\n\n","Service:"],["Nom du responsable:\n\n","Nom du responsable:"]]}},{text:[{text:"\n DESCRIPTION D\xc9TAILL\xc9E DU TRAVAIL \xc0 FAIRE\n ",fontSize:18,bold:!0},{text:"...................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\n",fontSize:18,bold:!0}]},{text:[{text:"D\xc9CHARGE DU DESTINATAIRE               SIGNATURE DE L'INITIATEUR \n ",fontSize:15,bold:!0}]}],"portrait",!1)}exportToPDFRecuversement(){this.simplepdf.generatePdfcomptable([{text:[{text:"RE\xc7U DE VERSEMENT N\xb0.......\n\n ",fontSize:18,bold:!0,alignment:"center"}]},{style:"tableExample",color:"#444",table:{widths:[100,100,100,"auto"],headerRows:2,body:[[{text:"D\xc9TAILS VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,colSpan:3},{},{},{text:"DATE VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,rowSpan:2}],[{text:"NBRE",style:"tableHeader",alignment:"center",bold:!0},{text:"COUPURE",style:"tableHeader",alignment:"center",bold:!0},{text:"SOMME",style:"tableHeader",alignment:"center",bold:!0},{}],[{},{text:"10000",alignment:"center",bold:!0},{},{text:"NOM ET IDENTITE DU DEPOSANT",bold:!0,style:"tableHeader",alignment:"center",rowSpan:6}],[{},{text:"5000",alignment:"center",bold:!0},{},{}],[{},{text:"2000",alignment:"center",bold:!0},{},{}],[{},{text:"1000",alignment:"center",bold:!0},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{}],[{text:"TOTAL BILLETS",colSpan:2,alignment:"center",bold:!0},{},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{text:"BENEFICIARE",alignment:"center",bold:!0,rowSpan:4}],[{},{text:"100",alignment:"center",bold:!0},{},{}],[{},{text:"50",alignment:"center",bold:!0},{},{}],[{},{text:"25",alignment:"center",bold:!0},{},{}],[{},{text:"10",alignment:"center",bold:!0},{},{text:"NUM\xc9RO DE COMPTE",bold:!0,alignment:"center",rowSpan:3}],[{},{text:"5",alignment:"center",bold:!0},{},{}],[{},{text:"1",alignment:"center",bold:!0},{},{}],[{text:"TOTAL PI\xc9CES\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{text:"NATURE DU D\xc9POT\n\n",bold:!0,alignment:"center",rowSpan:2}],[{text:"TOTAL VERS\xc9\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{}],[{text:"MONTANT EN LETTRES \n\n\n\n",colSpan:3,bold:!0,alignment:"center"},{},{},{text:"SIGNATURE D\xc9POSANT\n\n\n\n",bold:!0,alignment:"center"}],[{text:"CACHET ET SIGNATURE DU CAISSIER \n\n\n\n\n\n\n\n",colSpan:4,bold:!0,alignment:"center"},{},{}]]}}],"portrait",!1)}exportToPDFRecuCaisse(){this.simplepdf.generatePdfcomptable([{text:[{text:"RE\xc7U DE VERSEMENT N\xb0.......\n\n ",fontSize:18,bold:!0,alignment:"center"}]},{style:"tableExample",color:"#444",table:{widths:[100,100,100,"auto"],headerRows:2,body:[[{text:"D\xc9TAILS VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,colSpan:3},{},{},{text:"DATE VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,rowSpan:2}],[{text:"NBRE",style:"tableHeader",alignment:"center",bold:!0},{text:"COUPURE",style:"tableHeader",alignment:"center",bold:!0},{text:"SOMME",style:"tableHeader",alignment:"center",bold:!0},{}],[{},{text:"10000",alignment:"center",bold:!0},{},{text:"NOM ET IDENTITE DU DEPOSANT",bold:!0,style:"tableHeader",alignment:"center",rowSpan:6}],[{},{text:"5000",alignment:"center",bold:!0},{},{}],[{},{text:"2000",alignment:"center",bold:!0},{},{}],[{},{text:"1000",alignment:"center",bold:!0},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{}],[{text:"TOTAL BILLETS",colSpan:2,alignment:"center",bold:!0},{},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{text:"BENEFICIARE",alignment:"center",bold:!0,rowSpan:4}],[{},{text:"100",alignment:"center",bold:!0},{},{}],[{},{text:"50",alignment:"center",bold:!0},{},{}],[{},{text:"25",alignment:"center",bold:!0},{},{}],[{},{text:"10",alignment:"center",bold:!0},{},{text:"NUM\xc9RO DE COMPTE",bold:!0,alignment:"center",rowSpan:3}],[{},{text:"5",alignment:"center",bold:!0},{},{}],[{},{text:"1",alignment:"center",bold:!0},{},{}],[{text:"TOTAL PI\xc9CES\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{text:"NATURE DU D\xc9POT\n\n",bold:!0,alignment:"center",rowSpan:2}],[{text:"TOTAL VERS\xc9\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{}],[{text:"MONTANT EN LETTRES \n\n\n\n",colSpan:3,bold:!0,alignment:"center"},{},{},{text:"SIGNATURE D\xc9POSANT\n\n\n\n",bold:!0,alignment:"center"}],[{text:"CACHET ET SIGNATURE DU CAISSIER \n\n\n\n\n\n\n\n",colSpan:4,bold:!0,alignment:"center"},{},{}]]}}],"portrait",!1)}exportToPDFPiececomptable(){this.simplepdf.generatePdfcomptable([{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n debit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence...........................\n",style:"tableHeader"},{text:"Date.............................\n",style:"tableHeader"}]}]]}}]}],"portrait",!1)}exportToPDFPiececomptablepetiformat(){this.simplepdf.generatePdfcomptable([{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n Credit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence ...............................\n",style:"tableHeader"},{text:"Date ....................................\n",style:"tableHeader"},{text:"Code service ......................\n",style:"tableHeader"},{text:"Code op\xe9ration ..................\n",style:"tableHeader"},{text:"Valeur .................................\n",style:"tableHeader"}]}]]}}]},{text:[{text:"\n\n Intitul\xe9 du compte:...........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"..........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Libell\xe9 de l'op\xe9ration:.........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"...........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Num\xe9ro de compte:....................... Contrepartie:................................\n\n\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Signatures autoris\xe9es\n",style:"tableHeader",fontSize:18,bold:!0,alignment:"right"}]},{canvas:[{type:"line",x1:0,y1:40,x2:540,y2:40,lineWidth:3}]},{text:"\n\n"},{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n Debit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence ...............................\n",style:"tableHeader"},{text:"Date ....................................\n",style:"tableHeader"},{text:"Code service ......................\n",style:"tableHeader"},{text:"Code op\xe9ration ..................\n",style:"tableHeader"},{text:"Valeur .................................\n",style:"tableHeader"}]}]]}}]},{text:[{text:"\n\n Intitul\xe9 du compte:...........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"..........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Libell\xe9 de l'op\xe9ration:.........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"...........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Num\xe9ro de compte:....................... Contrepartie:................................\n\n\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Signatures autoris\xe9es\n",style:"tableHeader",fontSize:18,bold:!0,alignment:"right"}]}],"portrait",!1)}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(F.tT),e.Y36(Or.F),e.Y36(zr.i),e.Y36(q.sK),e.Y36(xe.U))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-doctor"]],features:[e._Bn([R._W])],decls:23,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder",2,"text-transform","capitalize"],["id","print-section","hidden","",1,"hidden"],["border","1",1,"table","table-bordered"],["printSectionId","print-section","ngxPrint",""],["templateClasse",""],[1,"modal-body","text-center"],[2,"width","400px","height","500px",3,"src","render-text","original-size","autoresize","show-borders"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Doctor"),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"table",7),e.TgZ(9,"thead"),e.TgZ(10,"tr"),e.TgZ(11,"th"),e._uU(12,"Scolarit\xe9"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant attendu"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Montant"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Montant restant"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"button",8),e._uU(20,"print"),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,Un,2,5,"ng-template",null,9,e.W1O))},directives:[Nn,Dn],styles:[""]}),Z})();function Bn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function Hn(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_start,"dd/MM/yyyy")," ")}function Gn(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.date_end,"dd/MM/yyyy")," ")}function Ar(Z,ae){if(1&Z&&(e.TgZ(0,"div",25),e._UZ(1,"span",26),e.TgZ(2,"span",27),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function vn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",28),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",29),e._UZ(2,"i",30),e.qZA(),e.TgZ(3,"dropdown-menu",31,32),e.TgZ(5,"a",33),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().update(Se)}),e.TgZ(6,"div",34),e._UZ(7,"i",35),e.TgZ(8,"span",36),e._uU(9,"Update"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}let jn=(()=>{class Z{constructor(t,g,W,Se,Be,Je){this.formBuilder=t,this.translateService=g,this.toaster=W,this.route=Se,this.cdr=Be,this.service=Je,this.rows=[],this.columns=[{prop:"libelle"},{name:"date_start"},{name:"date_end"}],this.hidetrimestre=!1}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:[null,[w.kI.required]],indice:[null,[w.kI.required]],pourcentage:[null,[w.kI.required]],date_start:[null,[]],date_end:[null,[w.kI.required]]}),this.service.getSequencesbytrimestre(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,console.log(this.rows)},t=>{console.log(t)}),this.cdr.markForCheck()}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,indice:this.formGroup.value.indice,date_start:this.formGroup.value.date_start,date_end:this.formGroup.value.date_end,is_clotured:!0,trimestre:this.route.snapshot.paramMap.get("id")}};console.log(t),this.service.addSequence(t).subscribe(g=>{this.service.getSequencesbytrimestre(this.route.snapshot.paramMap.get("id")).subscribe(W=>{this.rows=W.data,this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.cdr.markForCheck()})},g=>this.toaster.error(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"))}onReset(){console.log(this.formGroup)}update(t){}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(q.sK),e.Y36(R._W),e.Y36(I.gz),e.Y36(e.sBO),e.Y36(M.E))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-sequence"]],features:[e._Bn([R._W])],decls:55,vars:32,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-4"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","indice",1,"form-control"],["type","text","formControlName","pourcentage",1,"form-control"],["type","date","formControlName","date_start",1,"form-control"],["type","date","formControlName","date_end",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["name","Date debut",3,"width"],["name","Date fin",3,"width"],["name","Status",3,"width"],["cellClass","allow-overflow",3,"sortable","width"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","right"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-user-plus"],[1,"ms-2"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return g.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return g.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"label",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"div",8),e.TgZ(21,"label",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",12),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"label",9),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"label",9),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",14),e.qZA(),e.TgZ(35,"div",15),e.TgZ(36,"button",16),e.NdJ("click",function(){return g.onReset()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"button",17),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",0),e.TgZ(43,"div",6),e.TgZ(44,"ngx-datatable",18),e.TgZ(45,"ngx-datatable-column",19),e.YNc(46,Bn,1,1,"ng-template",20),e.qZA(),e.TgZ(47,"ngx-datatable-column",21),e.YNc(48,Hn,2,4,"ng-template",20),e.qZA(),e.TgZ(49,"ngx-datatable-column",22),e.YNc(50,Gn,2,4,"ng-template",20),e.qZA(),e.TgZ(51,"ngx-datatable-column",23),e.YNc(52,Ar,4,3,"ng-template",20),e.qZA(),e.TgZ(53,"ngx-datatable-column",24),e.YNc(54,vn,10,0,"ng-template",20),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,16,"title.addsequence")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(3),e.Oqu(e.lcZ(13,18,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(18,20,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(23,22,"fields.pourcentage")),e.xp6(5),e.Oqu(e.lcZ(28,24,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(33,26,"fields.datefin")),e.xp6(5),e.Oqu(e.lcZ(38,28,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(41,30,"action.save")),e.xp6(4),e.Q6J("rows",g.rows),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("sortable",!1)("width",40))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,E.nE,E.UC,E.vq,a.mk,b.L,x.h,m.h],pipes:[q.X$,a.uU],styles:[""]}),Z})();var Lr=n(8002);class cr{constructor(ae,t,g,W){this.id=ae,this.libelle=t,this.niveau=g,this.titulaire=W}}let Ir=(()=>{class Z{get isFileSaverSupported(){try{return!!new Blob}catch(t){return!1}}genType(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";const g=t.substr(t.lastIndexOf(".")+1);switch(g){case"txt":return"text/plain";case"xml":case"html":return`text/${g}`;case"json":return"octet/stream";default:return`application/${g}`}}save(t,g,W,Se){if(!t)throw new Error("Data argument should be a blob instance");const Be=new Blob([t],{type:W||t.type||this.genType(g)});(0,Ft.saveAs)(Be,decodeURI(g||"download"),Se)}saveText(t,g,W){const Se=new Blob([t]);this.save(Se,g,void 0,W)}}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275prov=e.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),Wn=(()=>{class Z{}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({}),Z})();var $r=n(8793),Xr=n(2),Ht=n(6640);const zn=["cycleModal"],Jn=["cycleEditModal"],Yn=["niveauModal"],Qn=["classeModal"];function Wt(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}const $n=function(Z){return["/administration/niveau",Z]};function Xn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",55),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",56),e._UZ(2,"i",57),e.qZA(),e.TgZ(3,"dropdown-menu",58,59),e.TgZ(5,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().showDetail(Se.id)}),e.TgZ(6,"div",61),e._UZ(7,"i",62),e.TgZ(8,"span",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",64),e.TgZ(12,"div",61),e._UZ(13,"i",65),e.TgZ(14,"span",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(181);return Be.delete(Se,Je)}),e.TgZ(18,"div",61),e._UZ(19,"i",66),e.TgZ(20,"span",63),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=ae.row;e.xp6(9),e.Oqu(e.lcZ(10,4,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(10,$n,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,6,"action.addNiveau")),e.xp6(6),e.Oqu(e.lcZ(22,8,"action.delete"))}}function Kn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function Fr(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.cycle.libelle," ")}const Kr=function(Z){return["/administration/classe",Z]};function Tr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",55),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",56),e._UZ(2,"i",57),e.qZA(),e.TgZ(3,"dropdown-menu",67,59),e.TgZ(5,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().showNiveauModal(Se)}),e.TgZ(6,"div",61),e._UZ(7,"i",62),e.TgZ(8,"span",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",68),e.TgZ(12,"div",61),e._UZ(13,"i",65),e.TgZ(14,"span",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(183);return Be.delete(Se,Je)}),e.TgZ(18,"div",61),e._UZ(19,"i",66),e.TgZ(20,"span",63),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=ae.row;e.xp6(9),e.Oqu(e.lcZ(10,4,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(10,Kr,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,6,"action.addclasse")),e.xp6(6),e.Oqu(e.lcZ(22,8,"action.delete"))}}function sr(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function ea(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.effectif," ")}function mn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.niveau.libelle," ")}function ta(Z,ae){if(1&Z&&e._uU(0),2&Z){const t=ae.row;e.hij(" ",null==t.titulaire?null:t.titulaire.name," ")}}function ra(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",55),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",56),e._UZ(2,"i",57),e.qZA(),e.TgZ(3,"dropdown-menu",67,59),e.TgZ(5,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().showClasseModal(Se)}),e.TgZ(6,"div",61),e._UZ(7,"i",62),e.TgZ(8,"span",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().dowloadExelstudentclasse(Se.id)}),e.TgZ(12,"div",61),e._UZ(13,"i",69),e.TgZ(14,"span",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",60),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(185);return Be.delete(Se,Je)}),e.TgZ(18,"div",61),e._UZ(19,"i",66),e.TgZ(20,"span",63),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(9),e.Oqu(e.lcZ(10,3,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,5,"action.fichenote")),e.xp6(6),e.Oqu(e.lcZ(22,7,"action.delete")))}function _n(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",70),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit,g=e.oxw();e.Q6J("value",t.id===(null==g.editForm.get("titulaire").value?null:g.editForm.get("titulaire").value.id)?g.editForm.get("titulaire").value:t),e.xp6(1),e.hij(" ",t.name,"")}}function na(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",71),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment le cycle:",t.deleteRow.libelle,"?")}}function bn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",71),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmNiveau()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment supprimer le niveau:",t.deleteRow.libelle,"?")}}function yn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",71),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmClasse()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment supprimer la classe:",t.deleteRow.libelle,"?")}}const wr=function(){return{backdrop:"static"}};let dr=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt,it,nt,Lt,rt){this.modalService=t,this.formBuilder=g,this.tableSvc=W,this.toaster=Se,this.translateService=Be,this.exserve=Je,this.excelService=lt,this.resgisterService=it,this.professorService=nt,this.cdr=Lt,this.screenSizeSvc=rt,this.rows=[],this.rowclasses=[],this.rowniveaus=[],this.tempclasses=[],this.tempniveaus=[],this.temp=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.titulaireSharedCollection=[],this.editForm=this.formBuilder.group({id:[],libelle:[null,[w.kI.required]],effectif:[null,[w.kI.required]],titulaire:[null,[w.kI.required]],niveau:[null,[w.kI.required]]}),this.hideId=!0,this.screenSizeSvc.onResize$.pipe((0,B.g)(0)).subscribe(yt=>{yt.includes(_e.y.XXL)||yt.includes(_e.y.XL)||yt.includes(_e.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=E.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=E.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.fetch(),this.formGroup=this.formBuilder.group({libelle:[null,[w.kI.required]]}),this.formGroupNiveau=this.formBuilder.group({libelle:[null,[w.kI.required]]}),this.formGroupClasse=this.formBuilder.group({libelle:[null,[w.kI.required]],effectif:[null,[w.kI.required]]})}windowResize(t){this.getScreenWidth(t.target.innerWidth)}onSelect(t){this.value=t.heading}onSubmit(){this.tableSvc.addCycle({data:{libelle:this.formGroup.value.libelle}}).subscribe(g=>{this.fetch(),this.formGroup.reset(),this.hideChildModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}delete(t,g){this.deleteRow=t,this.modalRef=this.modalService.show(g,{class:"modal-sm"})}confirm(){this.tableSvc.deleteCycle(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmClasse(){this.tableSvc.deleteClasse(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmNiveau(){this.tableSvc.deleteNiveau(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}decline(){this.modalRef.hide()}onReset(){this.formGroup.reset()}onActivate(t){}showChildModal(){this.cycleModal.show()}hideChildModal(){this.cycleModal.hide()}showNiveauModal(t){this.iditId=t.id,this.iditCycleId=t.cycle.id,this.formGroupNiveau.patchValue(t),this.niveauModal.show()}hideNiveauModal(){this.niveauModal.hide()}showClasseModal(t){this.iditId=t.id,this.updateForm(t),this.classeModal.show(),this.loadRelationshipsOptions(),this.cdr.markForCheck()}hideClasseModal(){this.classeModal.hide()}getScreenWidth(t){this.screenSizeSvc.onResize(t)}fetch(){this.tableSvc.getCycles().subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}showDetail(t){this.iditId=t,this.tableSvc.getCycle(t).subscribe(g=>{this.formGroup.value.name=g.data.name,this.formGroup.patchValue(g.data),this.cycleEditModal.show(),this.cdr.markForCheck()},g=>{})}dowloadExelstudentclasse2(t){this.resgisterService.getRegisterStudentsbyclasse(t).subscribe(W=>{const Be={Sheets:{data:Et.utils.json_to_sheet(W.data)},SheetNames:["data"]},Je=Et.write(Be,{bookType:"xlsx",type:"array"}),lt=new Blob([Je],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});this.excelService.save(lt,"sample"),this.cdr.markForCheck()})}dowloadExelstudentclasse(t){this.resgisterService.getRegisterStudentsbyclasse(t).subscribe(W=>{const Se=[];W.data.forEach(function(Je){Se.push({name:Je.student.name,matricule:Je.student.matricule,note:""})}),console.log(Se),this.exserve.exportAsPDFFile(Se,"example"),new Blob(Se,{type:"text/plain"}),this.cdr.markForCheck()})}onSubmitEdit(){this.tableSvc.editCycle({data:{libelle:this.formGroup.value.libelle}},this.iditId).subscribe(g=>{this.hideChildEditModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.fetch()},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}hideChildEditModal(){this.cycleEditModal.hide()}hideChildClasseModal(){this.classeModal.hide()}hideChildNiveauModal(){this.niveauModal.hide()}onSubmitClasse(){this.tableSvc.editClasse({data:{libelle:this.editForm.value.libelle,effectif:this.editForm.value.effectif,titulaire:this.editForm.value.titulaire.id,niveau:this.editForm.value.niveau}},this.editForm.value.id).subscribe(g=>{this.hideChildEditModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.fetch()},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onSubmitNiveau(){this.tableSvc.editNiveau({data:{libelle:this.formGroupNiveau.value.libelle,cycle:this.iditCycleId}},this.iditId).subscribe(g=>{this.hideChildNiveauModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.fetch()},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}updateForm(t){this.editForm.patchValue({id:t.id,libelle:t.libelle,effectif:t.effectif,titulaire:t.titulaire,niveau:t.niveau.id}),this.titulaireSharedCollection=this.professorService.addProfessorToCollectionIfMissing(this.titulaireSharedCollection,t.titulaire)}createFromForm(){return Object.assign(Object.assign({},new cr),{id:this.editForm.get(["id"]).value,libelle:this.editForm.get(["libelle"]).value,effectif:this.editForm.get(["effectif"]).value,titulaire:this.editForm.get(["titulaire"]).value,niveau:this.editForm.get(["niveau"]).value})}loadRelationshipsOptions(){this.professorService.getProfessorsbis().pipe((0,Lr.U)(t=>this.professorService.addProfessorToCollectionIfMissing(t,this.editForm.get("titulaire").value))).subscribe(t=>this.titulaireSharedCollection=t)}onSelectniveau(t){this.tableSvc.getNiveaus().subscribe(g=>{this.tempniveaus=[...g.data],this.rowniveaus=g.data,this.cdr.markForCheck(),console.log(this.temp)},g=>{console.log(g)})}onSelectclasse(t){this.tableSvc.getClassesbis().subscribe(g=>{this.tempclasses=[...g],this.rowclasses=g,this.cdr.markForCheck(),console.log(this.temp)},g=>{console.log(g)})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(F.tT),e.Y36(w.qu),e.Y36(xe.U),e.Y36(R._W),e.Y36(q.sK),e.Y36(kt),e.Y36(Ir),e.Y36($r.e),e.Y36(Xr.c),e.Y36(e.sBO),e.Y36(f.O))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-cycle"]],viewQuery:function(t,g){if(1&t&&(e.Gf(E.nE,5),e.Gf(E.nE,5),e.Gf(E.nE,5),e.Gf(zn,5),e.Gf(Jn,5),e.Gf(Yn,5),e.Gf(Qn,5)),2&t){let W;e.iGM(W=e.CRH())&&(g.table=W.first),e.iGM(W=e.CRH())&&(g.tableniveau=W.first),e.iGM(W=e.CRH())&&(g.tableclasse=W.first),e.iGM(W=e.CRH())&&(g.cycleModal=W.first),e.iGM(W=e.CRH())&&(g.cycleEditModal=W.first),e.iGM(W=e.CRH())&&(g.niveauModal=W.first),e.iGM(W=e.CRH())&&(g.classeModal=W.first)}},hostBindings:function(t,g){1&t&&e.NdJ("resize",function(Se){return g.windowResize(Se)},!1,e.Jf7)},features:[e._Bn([R._W])],decls:186,vars:133,consts:[["type","pills",3,"justified"],["heading","Enseignement",1,"mt-2"],[1,"card"],[1,"card-header"],[1,"card-title"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight","scrollbarH"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["heading","Niveau",1,"mt-2",3,"selectTab"],["loadingIndicator","true",3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight","scrollbarH"],["tableniveau",""],["heading","Classes",1,"mt-2",3,"selectTab"],["tableclasse",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["cycleModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-childedit-name",1,"modal","fade",3,"config"],["cycleEditModal","bs-modal"],["id","dialog-childedit-name",1,"modal-title","pull-left"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-niveau-name",1,"modal","fade",3,"config"],["niveauModal","bs-modal"],["id","dialog-niveau-libelle",1,"modal-title","pull-left"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-classe-name",1,"modal","fade",3,"config"],["classeModal","bs-modal"],["id","dialog-classe-libelle",1,"modal-title","pull-left"],[1,"form-group",3,"hidden"],["for","field_id",1,"form-control-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["for","field_niveau",1,"form-control-label"],["type","number","name","id","id","field_niveau","data-cy","id","formControlName","niveau",1,"form-control",3,"readonly"],["type","text","formControlName","effectif",1,"form-control"],["formControlName","titulaire"],[3,"value",4,"ngFor","ngForOf"],["template",""],["templateNiveau",""],["templateClasse",""],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],["dropdownItem","","href","",3,"routerLink"],[1,"feather","icon-plus"],[1,"feather","icon-trash-2"],["alignment","right"],["dropdownItem","","href","javascript:void(0)",3,"routerLink"],[1,"feather","icon-download"],[3,"value"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,g){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return g.showChildModal()}),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"ngx-datatable",8,9),e.TgZ(14,"ngx-datatable-column",10),e.ALo(15,"translate"),e.YNc(16,Wt,1,1,"ng-template",11),e.qZA(),e.TgZ(17,"ngx-datatable-column",12),e.YNc(18,Xn,23,12,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tab",13),e.NdJ("selectTab",function(Se){return g.onSelectniveau(Se)}),e.TgZ(20,"div",2),e.TgZ(21,"div",3),e.TgZ(22,"h5",4),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.TgZ(25,"div",7),e.TgZ(26,"ngx-datatable",14,15),e.TgZ(28,"ngx-datatable-column",10),e.ALo(29,"translate"),e.YNc(30,Kn,1,1,"ng-template",11),e.qZA(),e.TgZ(31,"ngx-datatable-column",10),e.ALo(32,"translate"),e.YNc(33,Fr,1,1,"ng-template",11),e.qZA(),e.TgZ(34,"ngx-datatable-column",12),e.YNc(35,Tr,23,12,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"tab",16),e.NdJ("selectTab",function(Se){return g.onSelectclasse(Se)}),e.TgZ(37,"div",2),e.TgZ(38,"div",3),e.TgZ(39,"h5",4),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.qZA(),e.TgZ(42,"div",7),e.TgZ(43,"ngx-datatable",14,17),e.TgZ(45,"ngx-datatable-column",10),e.ALo(46,"translate"),e.YNc(47,sr,1,1,"ng-template",11),e.qZA(),e.TgZ(48,"ngx-datatable-column",10),e.ALo(49,"translate"),e.YNc(50,ea,1,1,"ng-template",11),e.qZA(),e.TgZ(51,"ngx-datatable-column",10),e.ALo(52,"translate"),e.YNc(53,mn,1,1,"ng-template",11),e.qZA(),e.TgZ(54,"ngx-datatable-column",10),e.ALo(55,"translate"),e.YNc(56,ta,1,1,"ng-template",11),e.qZA(),e.TgZ(57,"ngx-datatable-column",12),e.YNc(58,ra,23,9,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",18,19),e.TgZ(61,"div",20),e.TgZ(62,"div",21),e.TgZ(63,"div",22),e.TgZ(64,"h4",23),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"button",24),e.NdJ("click",function(){return g.hideChildModal()}),e.TgZ(68,"span",25),e._uU(69,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",26),e.TgZ(71,"form",27),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(72,"div",28),e.TgZ(73,"div",29),e.TgZ(74,"div",30),e.TgZ(75,"label",31),e._uU(76),e.ALo(77,"translate"),e.qZA(),e._UZ(78,"input",32),e.qZA(),e.TgZ(79,"button",33),e.NdJ("click",function(){return g.onReset()}),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"button",34),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"div",35,36),e.TgZ(87,"div",20),e.TgZ(88,"div",21),e.TgZ(89,"div",22),e.TgZ(90,"h4",37),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.TgZ(93,"button",24),e.NdJ("click",function(){return g.hideChildEditModal()}),e.TgZ(94,"span",25),e._uU(95,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"div",26),e.TgZ(97,"form",27),e.NdJ("validSubmit",function(){return g.onSubmitEdit()}),e.TgZ(98,"div",28),e.TgZ(99,"div",29),e.TgZ(100,"div",30),e.TgZ(101,"label",31),e._uU(102),e.ALo(103,"translate"),e.qZA(),e._UZ(104,"input",32),e.qZA(),e.TgZ(105,"button",33),e.NdJ("click",function(){return g.onReset()}),e._uU(106),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"button",34),e._uU(109),e.ALo(110,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"div",38,39),e.TgZ(113,"div",20),e.TgZ(114,"div",21),e.TgZ(115,"div",22),e.TgZ(116,"h4",40),e._uU(117),e.ALo(118,"translate"),e.qZA(),e.TgZ(119,"button",24),e.NdJ("click",function(){return g.hideNiveauModal()}),e.TgZ(120,"span",25),e._uU(121,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(122,"div",26),e.TgZ(123,"form",27),e.NdJ("validSubmit",function(){return g.onSubmitNiveau()}),e.TgZ(124,"div",28),e.TgZ(125,"div",29),e.TgZ(126,"div",30),e.TgZ(127,"label",31),e._uU(128,"Libelle"),e.qZA(),e._UZ(129,"input",32),e.qZA(),e.TgZ(130,"button",33),e.NdJ("click",function(){return g.onReset()}),e._uU(131,"Reset"),e.qZA(),e.TgZ(132,"button",34),e._uU(133,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(134,"div",41,42),e.TgZ(136,"div",20),e.TgZ(137,"div",21),e.TgZ(138,"div",22),e.TgZ(139,"h4",43),e._uU(140),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"button",24),e.NdJ("click",function(){return g.hideClasseModal()}),e.TgZ(143,"span",25),e._uU(144,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(145,"div",26),e.TgZ(146,"form",27),e.NdJ("validSubmit",function(){return g.onSubmitClasse()}),e.TgZ(147,"div",28),e.TgZ(148,"div",29),e.TgZ(149,"div",44),e.TgZ(150,"label",45),e._uU(151,"ID"),e.qZA(),e._UZ(152,"input",46),e.qZA(),e.TgZ(153,"div",44),e.TgZ(154,"label",47),e._uU(155),e.ALo(156,"translate"),e.qZA(),e._UZ(157,"input",48),e.qZA(),e.TgZ(158,"div",30),e.TgZ(159,"label",31),e._uU(160),e.ALo(161,"translate"),e.qZA(),e._UZ(162,"input",32),e.qZA(),e.TgZ(163,"div",30),e.TgZ(164,"label",31),e._uU(165),e.ALo(166,"translate"),e.qZA(),e._UZ(167,"input",49),e.qZA(),e.TgZ(168,"div",30),e.TgZ(169,"label",31),e._uU(170),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"ng-select",50),e.YNc(173,_n,2,2,"ng-option",51),e.qZA(),e.qZA(),e.TgZ(174,"button",33),e.NdJ("click",function(){return g.onReset()}),e._uU(175),e.ALo(176,"translate"),e.qZA(),e.TgZ(177,"button",34),e._uU(178),e.ALo(179,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(180,na,7,1,"ng-template",null,52,e.W1O),e.YNc(182,bn,7,1,"ng-template",null,53,e.W1O),e.YNc(184,yn,7,1,"ng-template",null,54,e.W1O)),2&t&&(e.Q6J("justified",!0),e.xp6(5),e.Oqu(e.lcZ(6,75,"title.cycle")),e.xp6(4),e.Oqu(e.lcZ(10,77,"action.add")),e.xp6(3),e.Q6J("rows",g.rows)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(15,79,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(24,81,"title.niveau")),e.xp6(3),e.Q6J("rows",g.rowniveaus)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",100)("limit",10)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(29,83,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(32,85,"fields.enseignement")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(41,87,"title.classe")),e.xp6(3),e.Q6J("rows",g.rowclasses)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",100)("limit",10)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(46,89,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(49,91,"fields.effectif")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(52,93,"fields.niveau")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(55,95,"fields.titulaire")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(129,wr)),e.xp6(6),e.Oqu(e.lcZ(66,97,"title.addcycle")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(5),e.Oqu(e.lcZ(77,99,"fields.libelle")),e.xp6(4),e.Oqu(e.lcZ(81,101,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(84,103,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(130,wr)),e.xp6(6),e.Oqu(e.lcZ(92,105,"title.editcycle")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(5),e.Oqu(e.lcZ(103,107,"fields.libelle")),e.xp6(4),e.Oqu(e.lcZ(107,109,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(110,111,"action.update")),e.xp6(2),e.Q6J("config",e.DdM(131,wr)),e.xp6(6),e.Oqu(e.lcZ(118,113,"title.editniveau")),e.xp6(6),e.Q6J("formGroup",g.formGroupNiveau),e.xp6(11),e.Q6J("config",e.DdM(132,wr)),e.xp6(6),e.Oqu(e.lcZ(141,115,"title.editclasse")),e.xp6(6),e.Q6J("formGroup",g.editForm),e.xp6(3),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",g.hideId),e.xp6(2),e.Oqu(e.lcZ(156,117,"field.niveau")),e.xp6(2),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(161,119,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(166,121,"fields.effectif")),e.xp6(5),e.Oqu(e.lcZ(171,123,"fields.titulaire")),e.xp6(3),e.Q6J("ngForOf",g.titulaireSharedCollection),e.xp6(2),e.Oqu(e.lcZ(176,125,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(179,127,"action.save")))},directives:[l.AH,l.wW,E.nE,E.UC,E.vq,F.oB,w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,Ht.w9,a.sg,b.L,x.h,m.h,I.yS,Ht.xv],pipes:[q.X$],styles:[""]}),Z})();function en(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function An(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.cycle.libelle," ")}function aa(Z,ae){if(1&Z&&(e.TgZ(0,"div",19),e._UZ(1,"span",20),e.TgZ(2,"span",21),e._uU(3),e.qZA(),e.qZA()),2&Z){const t=ae.row;e.Q6J("ngClass","active"===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass","active"===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}let Nr=(()=>{class Z{constructor(t,g,W,Se,Be){this.toaster=t,this.formBuilder=g,this.cdr=W,this.route=Se,this.service=Be,this.rows=[],this.cdr.markForCheck()}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[w.kI.required]]}),this.fetch()}fetch(){this.service.getNiveauxbycycle(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,this.cdr.detectChanges()},t=>{console.log(t)})}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,cycle:this.route.snapshot.paramMap.get("id")}};this.service.addNiveau(t).subscribe(g=>{this.fetch(),this.formGroup.reset()},g=>{console.log(g)})}onReset(){this.formGroup.reset()}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(R._W),e.Y36(w.qu),e.Y36(e.sBO),e.Y36(I.gz),e.Y36(xe.U))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-niveau"]],features:[e._Bn([R._W])],decls:28,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","loadingIndicator","true","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["name","Enseignement",3,"width"],["name","Status",3,"width"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return g.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return g.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"libelle"),e.qZA(),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"button",12),e.NdJ("click",function(){return g.onReset()}),e._uU(16,"Reset"),e.qZA(),e.TgZ(17,"button",13),e._uU(18,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",0),e.TgZ(20,"div",6),e.TgZ(21,"ngx-datatable",14),e.TgZ(22,"ngx-datatable-column",15),e.YNc(23,en,1,1,"ng-template",16),e.qZA(),e.TgZ(24,"ngx-datatable-column",17),e.YNc(25,An,1,1,"ng-template",16),e.qZA(),e.TgZ(26,"ngx-datatable-column",18),e.YNc(27,aa,4,3,"ng-template",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,6,"title.editniveau")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(12),e.Q6J("rows",g.rows),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,E.nE,E.UC,E.vq,a.mk],pipes:[q.X$],styles:[""]}),Z})();var ia=n(7481);class oa{constructor(ae,t,g){this.id=ae,this.libelle=t,this.position=g}}const la=["groupematiereModal"],Dr=["groupematiereEditModal"],tn=["matiereModal"],ua=["matiereEditModal"];function ca(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function rn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.position," ")}function Sn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",50),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",51),e._UZ(2,"i",52),e.qZA(),e.TgZ(3,"dropdown-menu",53,54),e.TgZ(5,"a",55),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().editGroupematiere(Se)}),e.TgZ(6,"div",56),e._UZ(7,"i",57),e.TgZ(8,"span",58),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",55),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(176);return Be.delete(Se,Je)}),e.TgZ(12,"div",56),e._UZ(13,"i",59),e.TgZ(14,"span",58),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}function qr(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function nn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.code," ")}function lr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",50),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",51),e._UZ(2,"i",52),e.qZA(),e.TgZ(3,"dropdown-menu",53,54),e.TgZ(5,"a",55),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().editMatiere(Se)}),e.TgZ(6,"div",56),e._UZ(7,"i",57),e.TgZ(8,"span",58),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",55),e.NdJ("click",function(){const Se=e.CHM(t).row,Be=e.oxw(),Je=e.MAs(178);return Be.delete(Se,Je)}),e.TgZ(12,"div",56),e._UZ(13,"i",59),e.TgZ(14,"span",58),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}function Cr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",60),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment le groupe de matiere:",t.deleteRow.libelle,"?")}}function Ur(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",60),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmMatiere()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment la matiere:",t.deleteRow.libelle,"?")}}const kr=function(){return{backdrop:"static"}};let da=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt){this.modalService=t,this.formBuilder=g,this.translateService=W,this.toaster=Se,this.tableSvc=Be,this.cdr=Je,this.screenSizeSvc=lt,this.rows=[],this.rowmatieres=[],this.tempmatieres=[],this.temp=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.hideId=!0,this.editMatiereForm=this.formBuilder.group({id:[],libelle:["",[w.kI.required]],code:["",[w.kI.required]]}),this.editGroupematiereForm=this.formBuilder.group({id:[],libelle:["",[w.kI.required]],position:["",[w.kI.required]]}),this.screenSizeSvc.onResize$.pipe((0,B.g)(0)).subscribe(it=>{it.includes(_e.y.XXL)||it.includes(_e.y.XL)||it.includes(_e.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=E.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=E.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.fetch(),this.formGroup=this.formBuilder.group({libelle:["",[w.kI.required]],position:["",[w.kI.required]]}),this.formGroupMatiere=this.formBuilder.group({libelle:["",[w.kI.required]],code:["",[w.kI.required]]})}windowResize(t){this.getScreenWidth(t.target.innerWidth)}onSelect(t){this.value=t.heading}delete(t,g){this.deleteRow=t,this.modalRef=this.modalService.show(g,{class:"modal-md"})}confirm(){this.tableSvc.delete(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmMatiere(){this.tableSvc.deleteMatiere(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}decline(){this.modalRef.hide()}onSubmit(){this.tableSvc.addGroupematiere({data:{libelle:this.formGroup.value.libelle,position:this.formGroup.value.position}}).subscribe(g=>{this.fetch(),this.formGroup.reset(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}onActivate(t){}showGroupeModal(){this.groupematiereModal.show()}hideGroupeModal(){this.groupematiereModal.hide(),this.groupematiereEditModal.hide()}showMatiereModal(){this.matiereModal.show(),this.formGroupMatiere.reset(),this.createFromForm()}hideMatiereModal(){this.matiereModal.hide(),this.matiereEditModal.hide()}getScreenWidth(t){this.screenSizeSvc.onResize(t)}fetch(){this.tableSvc.getGroupematieres().subscribe(t=>{this.temp=[...t],this.rows=t,this.cdr.markForCheck()},t=>{console.log(t)})}onSubmitMatiere(){const g={data:this.createFromForm()};this.tableSvc.addMatiere(g).subscribe(W=>{this.fetch(),this.editMatiereForm.reset(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},W=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}createFromForm(){return Object.assign(Object.assign({},new ia.V),{id:this.editMatiereForm.get(["id"]).value,libelle:this.editMatiereForm.get(["libelle"]).value,code:this.editMatiereForm.get(["code"]).value})}createFromGroupeForm(){return Object.assign(Object.assign({},new oa),{id:this.editGroupematiereForm.get(["id"]).value,libelle:this.editGroupematiereForm.get(["libelle"]).value,position:this.editGroupematiereForm.get(["position"]).value})}updateForm(t){this.editMatiereForm.patchValue({id:t.id,libelle:t.libelle,code:t.code})}updateGroupeForm(t){this.editGroupematiereForm.patchValue({id:t.id,libelle:t.libelle,position:t.position})}editGroupematiere(t){this.updateGroupeForm(t),this.groupematiereEditModal.show(),this.cdr.markForCheck()}editMatiere(t){this.updateForm(t),this.matiereEditModal.show(),this.cdr.markForCheck()}onSubmitEditMatiere(){const t=this.createFromForm();this.tableSvc.editMatiere({data:t},t.id).subscribe(W=>{this.fetch(),this.editMatiereForm.reset(),this.matiereEditModal.hide(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},W=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onSubmitEdit(){const t=this.createFromGroupeForm();this.tableSvc.editGroupeMatiere({data:t},t.id).subscribe(W=>{this.fetch(),this.formGroupMatiere.reset(),this.groupematiereEditModal.hide(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},W=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"NON OK")})}onSelectmatiere(t){this.tableSvc.getMatieres().subscribe(g=>{this.tempmatieres=[...g],this.rowmatieres=g,this.cdr.markForCheck(),console.log(this.tempmatieres)},g=>{console.log(g)})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(F.tT),e.Y36(w.qu),e.Y36(q.sK),e.Y36(R._W),e.Y36(ct._),e.Y36(e.sBO),e.Y36(f.O))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-groupematiere"]],viewQuery:function(t,g){if(1&t&&(e.Gf(E.nE,5),e.Gf(E.nE,5),e.Gf(la,5),e.Gf(Dr,5),e.Gf(tn,5),e.Gf(ua,5)),2&t){let W;e.iGM(W=e.CRH())&&(g.table=W.first),e.iGM(W=e.CRH())&&(g.tablematiere=W.first),e.iGM(W=e.CRH())&&(g.groupematiereModal=W.first),e.iGM(W=e.CRH())&&(g.groupematiereEditModal=W.first),e.iGM(W=e.CRH())&&(g.matiereModal=W.first),e.iGM(W=e.CRH())&&(g.matiereEditModal=W.first)}},hostBindings:function(t,g){1&t&&e.NdJ("resize",function(Se){return g.windowResize(Se)},!1,e.Jf7)},features:[e._Bn([R._W])],decls:179,vars:119,consts:[["type","pills",3,"justified"],["heading","Groupe matiere",1,"mt-2",3,"selectTab"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["heading","Matiere",1,"mt-2",3,"selectTab"],["tablematiere",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["groupematiereModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","position",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["groupematiereEditModal","bs-modal"],["id","dialog-child-editname",1,"modal-title","pull-left"],[1,"form-group",3,"hidden"],["for","field_id",1,"form-control-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-matierename",1,"modal","fade",3,"config"],["matiereModal","bs-modal"],["id","dialog-child-matierename",1,"modal-title","pull-left"],["type","text","formControlName","code",1,"form-control"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-editmatierename",1,"modal","fade",3,"config"],["matiereEditModal","bs-modal"],["id","dialog-child-editmatierename",1,"modal-title","pull-left"],["for","field_idm",1,"form-control-label"],["type","number","name","id","id","field_idm","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["template",""],["templateMatiere",""],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash-2"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,g){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.NdJ("selectTab",function(Se){return g.onSelect(Se)}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return g.showGroupeModal()}),e._UZ(9,"i",7),e._uU(10," Add groupe matiere "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"ngx-datatable",9,10),e.NdJ("activate",function(Se){return g.onActivate(Se)})("select",function(Se){return g.onSelect(Se)}),e.TgZ(14,"ngx-datatable-column",11),e.ALo(15,"translate"),e.YNc(16,ca,1,1,"ng-template",12),e.qZA(),e.TgZ(17,"ngx-datatable-column",11),e.ALo(18,"translate"),e.YNc(19,rn,1,1,"ng-template",12),e.qZA(),e.TgZ(20,"ngx-datatable-column",13),e.YNc(21,Sn,17,6,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tab",14),e.NdJ("selectTab",function(Se){return g.onSelectmatiere(Se)}),e.TgZ(23,"div",2),e.TgZ(24,"div",3),e.TgZ(25,"h5",4),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",5),e.TgZ(29,"button",6),e.NdJ("click",function(){return g.showMatiereModal()}),e._UZ(30,"i",7),e._uU(31," Add matiere "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",8),e.TgZ(33,"ngx-datatable",9,15),e.NdJ("activate",function(Se){return g.onActivate(Se)})("select",function(Se){return g.onSelect(Se)}),e.TgZ(35,"ngx-datatable-column",11),e.ALo(36,"translate"),e.YNc(37,qr,1,1,"ng-template",12),e.qZA(),e.TgZ(38,"ngx-datatable-column",11),e.ALo(39,"translate"),e.YNc(40,nn,1,1,"ng-template",12),e.qZA(),e.TgZ(41,"ngx-datatable-column",13),e.YNc(42,lr,17,6,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",16,17),e.TgZ(45,"div",18),e.TgZ(46,"div",19),e.TgZ(47,"div",20),e.TgZ(48,"h4",21),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"button",22),e.NdJ("click",function(){return g.hideGroupeModal()}),e.TgZ(52,"span",23),e._uU(53,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",24),e.TgZ(55,"form",25),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(56,"div",26),e.TgZ(57,"div",27),e.TgZ(58,"div",28),e.TgZ(59,"label",29),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"input",30),e.qZA(),e.TgZ(63,"div",28),e.TgZ(64,"label",29),e._uU(65),e.ALo(66,"translate"),e.qZA(),e._UZ(67,"input",31),e.qZA(),e.TgZ(68,"button",32),e.NdJ("click",function(){return g.onReset()}),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"button",33),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",16,34),e.TgZ(76,"div",18),e.TgZ(77,"div",19),e.TgZ(78,"div",20),e.TgZ(79,"h4",35),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"button",22),e.NdJ("click",function(){return g.hideGroupeModal()}),e.TgZ(83,"span",23),e._uU(84,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"div",24),e.TgZ(86,"form",25),e.NdJ("validSubmit",function(){return g.onSubmitEdit()}),e.TgZ(87,"div",26),e.TgZ(88,"div",27),e.TgZ(89,"div",36),e.TgZ(90,"label",37),e._uU(91,"ID"),e.qZA(),e._UZ(92,"input",38),e.qZA(),e.TgZ(93,"div",28),e.TgZ(94,"label",29),e._uU(95),e.ALo(96,"translate"),e.qZA(),e._UZ(97,"input",30),e.qZA(),e.TgZ(98,"div",28),e.TgZ(99,"label",29),e._uU(100),e.ALo(101,"translate"),e.qZA(),e._UZ(102,"input",31),e.qZA(),e.TgZ(103,"button",32),e.NdJ("click",function(){return g.onReset()}),e._uU(104),e.ALo(105,"translate"),e.qZA(),e.TgZ(106,"button",33),e._uU(107),e.ALo(108,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(109,"div",39,40),e.TgZ(111,"div",18),e.TgZ(112,"div",19),e.TgZ(113,"div",20),e.TgZ(114,"h4",41),e._uU(115),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"button",22),e.NdJ("click",function(){return g.hideMatiereModal()}),e.TgZ(118,"span",23),e._uU(119,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"div",24),e.TgZ(121,"form",25),e.NdJ("validSubmit",function(){return g.onSubmitMatiere()}),e.TgZ(122,"div",26),e.TgZ(123,"div",27),e.TgZ(124,"div",28),e.TgZ(125,"label",29),e._uU(126),e.ALo(127,"translate"),e.qZA(),e._UZ(128,"input",30),e.qZA(),e.TgZ(129,"div",28),e.TgZ(130,"label",29),e._uU(131),e.ALo(132,"translate"),e.qZA(),e._UZ(133,"input",42),e.qZA(),e.TgZ(134,"button",32),e.NdJ("click",function(){return g.onReset()}),e._uU(135),e.ALo(136,"translate"),e.qZA(),e.TgZ(137,"button",33),e._uU(138),e.ALo(139,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(140,"div",43,44),e.TgZ(142,"div",18),e.TgZ(143,"div",19),e.TgZ(144,"div",20),e.TgZ(145,"h4",45),e._uU(146),e.ALo(147,"translate"),e.qZA(),e.TgZ(148,"button",22),e.NdJ("click",function(){return g.hideMatiereModal()}),e.TgZ(149,"span",23),e._uU(150,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(151,"div",24),e.TgZ(152,"form",25),e.NdJ("validSubmit",function(){return g.onSubmitEditMatiere()}),e.TgZ(153,"div",26),e.TgZ(154,"div",27),e.TgZ(155,"div",36),e.TgZ(156,"label",46),e._uU(157,"ID"),e.qZA(),e._UZ(158,"input",47),e.qZA(),e.TgZ(159,"div",28),e.TgZ(160,"label",29),e._uU(161),e.ALo(162,"translate"),e.qZA(),e._UZ(163,"input",30),e.qZA(),e.TgZ(164,"div",28),e.TgZ(165,"label",29),e._uU(166),e.ALo(167,"translate"),e.qZA(),e._UZ(168,"input",42),e.qZA(),e.TgZ(169,"button",32),e.NdJ("click",function(){return g.onReset()}),e._uU(170),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"button",33),e._uU(173),e.ALo(174,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(175,Cr,7,1,"ng-template",null,48,e.W1O),e.YNc(177,Ur,7,1,"ng-template",null,49,e.W1O)),2&t&&(e.Q6J("justified",!0),e.xp6(5),e.Oqu(e.lcZ(6,63,"title.groupematiere")),e.xp6(7),e.Q6J("rows",g.rows)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("selectionType",g.SelectionType.checkbox)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(15,65,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(18,67,"fields.position")),e.Q6J("width",40),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(27,69,"title.matiere")),e.xp6(7),e.Q6J("rows",g.rowmatieres)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("selectionType",g.SelectionType.checkbox)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(36,71,"fields.libelle")),e.Q6J("width",100),e.xp6(3),e.s9C("name",e.lcZ(39,73,"fields.code")),e.Q6J("width",100),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(115,kr)),e.xp6(6),e.Oqu(e.lcZ(50,75,"title.addgroupematiere")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(5),e.Oqu(e.lcZ(61,77,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(66,79,"fields.position")),e.xp6(4),e.Oqu(e.lcZ(70,81,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(73,83,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(116,kr)),e.xp6(6),e.Oqu(e.lcZ(81,85,"title.editgroupematiere")),e.xp6(6),e.Q6J("formGroup",g.editGroupematiereForm),e.xp6(3),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(96,87,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(101,89,"fields.position")),e.xp6(4),e.Oqu(e.lcZ(105,91,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(108,93,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(117,kr)),e.xp6(6),e.Oqu(e.lcZ(116,95,"title.addmatiere")),e.xp6(6),e.Q6J("formGroup",g.editMatiereForm),e.xp6(5),e.Oqu(e.lcZ(127,97,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(132,99,"fields.code")),e.xp6(4),e.Oqu(e.lcZ(136,101,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(139,103,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(118,kr)),e.xp6(6),e.Oqu(e.lcZ(147,105,"title.editmatiere")),e.xp6(6),e.Q6J("formGroup",g.editMatiereForm),e.xp6(3),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(162,107,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(167,109,"fields.code")),e.xp6(4),e.Oqu(e.lcZ(171,111,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(174,113,"action.save")))},directives:[l.AH,l.wW,E.nE,E.UC,E.vq,F.oB,w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,b.L,x.h,m.h],pipes:[q.X$],styles:[""]}),Z})();function an(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function fa(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.libelle)}}function Tn(Z,ae){if(1&Z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Z){const t=e.oxw().row;e.xp6(1),e.Oqu(t.id)}}function Br(Z,ae){if(1&Z&&(e.YNc(0,Tn,2,1,"span",28),e._uU(1)),2&Z){const t=ae.row;e.Q6J("ngIf",null==t.tranche),e.xp6(1),e.hij(" ",t.tranchelibelle," ")}}function on(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.montant," ")}function wn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.limitDate," ")}function Cn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.cumul," ")}function ha(Z,ae){if(1&Z&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&Z){const t=e.oxw(2);e.xp6(1),e.hij("(",t.selected.length,")")}}function pa(Z,ae){if(1&Z&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&Z){const t=e.oxw(2);e.xp6(1),e.hij("(",t.selected.length,")")}}function sn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",29),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",30),e._UZ(2,"i",31),e.qZA(),e.TgZ(3,"dropdown-menu",32,33),e.TgZ(5,"a",34),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().edit(Se)}),e.TgZ(6,"div",35),e._UZ(7,"i",36),e.TgZ(8,"span",37),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,ha,2,1,"span",38),e.qZA(),e.qZA(),e.TgZ(12,"a",34),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().remove(Se)}),e.TgZ(13,"div",35),e._UZ(14,"i",39),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,pa,2,1,"span",38),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&Z){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,4,"action.edit")),e.xp6(2),e.Q6J("ngIf",t.selected.length>0),e.xp6(5),e.Oqu(e.lcZ(17,6,"action.delete")),e.xp6(2),e.Q6J("ngIf",t.selected.length>0)}}let kn=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt,it){this.router=t,this.toaster=g,this.translateService=W,this.formBuilder=Se,this.route=Be,this.classeService=Je,this.tableSvc=lt,this.cdr=it,this.actions=[{value:"1",label:"Uniquement les nouveaux"},{value:"2",label:"Uniquement les anciens"},{value:"3",label:"Tous"}],this.rows=[],this.tranches=[],this.tranchepaiements=[],this.selected=[],this.temp=[],this.niveaux=[]}ngOnInit(){var t;this.formGroup=this.formBuilder.group({montantPension:[null,[w.kI.required]],fraisInscriptionNew:[null,[w.kI.required]],fraisInscriptionOld:[null,[w.kI.required]],niveau:[null,[w.kI.required]],tranche:[null,[w.kI.required]],limitDate:[null,[w.kI.required]],montant:[null,[w.kI.required]]}),this.fetch();const g=null!==(t=this.route.snapshot.queryParams.data)&&void 0!==t?t:"";console.log(g),this.tableSvc.getScolariteId(g).subscribe(W=>{this.tranchepaiements=W.data.tranche_scolarites,console.log(W.data),this.cdr.markForCheck()},W=>{console.log(W)})}fetch(){this.tableSvc.getTranche().subscribe(t=>{this.tranches=t.data,this.cdr.markForCheck()},t=>{console.log(t)}),this.classeService.getNiveaus().subscribe(t=>{this.niveaux=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onSubmit(){const t={data:{montantPension:this.formGroup.value.montantPension,fraisInscriptionNew:this.formGroup.value.fraisInscriptionNew,fraisInscriptionOld:this.formGroup.value.fraisInscriptionOld,niveau:this.formGroup.value.niveau,trancheScolarites:this.tranchepaiements}};console.log(t),this.tableSvc.addScolarite(t).subscribe(g=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.router.navigate(["/administration/scolarite"])},g=>{console.log(g),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}addLine(){this.temp.push({tranchelibelle:this.formGroup.value.tranche.libelle,tranche:this.formGroup.value.tranche.id,montant:this.formGroup.value.montant,limitDate:this.formGroup.value.limitDate}),this.tranchepaiements=[...this.temp],console.log(this.tranchepaiements),this.cdr.markForCheck()}onSelect(t){}remove(t){console.log(t),this.tranchepaiements.forEach((g,W)=>{g==t&&(this.tranchepaiements.splice(t,1),this.temp.splice(t,1))})}edit(t){}goback(){window.history.back()}selecttranche(t){this.tranchecurrent=t,console.log(t)}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(I.F0),e.Y36(R._W),e.Y36(q.sK),e.Y36(w.qu),e.Y36(I.gz),e.Y36(xe.U),e.Y36(pe),e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-addscolarite"]],features:[e._Bn([R._W])],decls:74,vars:57,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-warning",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","montantPension",1,"form-control"],["type","number","formControlName","fraisInscriptionNew",1,"form-control"],["type","number","formControlName","fraisInscriptionOld",1,"form-control"],["formControlName","niveau"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","col-md-3"],["formControlName","tranche"],["type","date","formControlName","limitDate",1,"form-control"],["type","number","formControlName","montant",1,"form-control"],[1,"col-md-3"],["type","button",1,"btn","btn","btn-primary","me-md-2",2,"margin-top","25px",3,"click"],["rowHeight","auto","columnMode","force",3,"rows","selected","footerHeight","select"],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[4,"ngIf"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","right"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-user-plus"],[1,"ms-2"],["class","ms-1",4,"ngIf"],[1,"feather","icon-trash-2"],[1,"ms-1"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return g.goback()}),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form",5),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",9),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"label",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ng-select",11),e.YNc(28,an,2,2,"ng-option",12),e.qZA(),e.qZA(),e._UZ(29,"hr"),e.TgZ(30,"div",13),e.TgZ(31,"div",14),e.TgZ(32,"label",7),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"ng-select",15),e.YNc(36,fa,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"label",7),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",16),e.qZA(),e.TgZ(42,"div",14),e.TgZ(43,"label",7),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",17),e.qZA(),e.TgZ(47,"div",18),e.TgZ(48,"button",19),e.NdJ("click",function(){return g.addLine()}),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",13),e.TgZ(52,"ngx-datatable",20),e.NdJ("select",function(Se){return g.onSelect(Se)}),e.TgZ(53,"ngx-datatable-column",21),e.ALo(54,"translate"),e.YNc(55,Br,2,2,"ng-template",22),e.qZA(),e.TgZ(56,"ngx-datatable-column",21),e.ALo(57,"translate"),e.YNc(58,on,1,1,"ng-template",22),e.qZA(),e.TgZ(59,"ngx-datatable-column",21),e.ALo(60,"translate"),e.YNc(61,wn,1,1,"ng-template",22),e.qZA(),e.TgZ(62,"ngx-datatable-column",21),e.ALo(63,"translate"),e.YNc(64,Cn,1,1,"ng-template",22),e.qZA(),e.TgZ(65,"ngx-datatable-column",23),e.YNc(66,sn,19,8,"ng-template",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",24),e.TgZ(68,"button",25),e.NdJ("click",function(){return g.onReset()}),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"button",26),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,27,"action.back")),e.xp6(3),e.Q6J("formGroup",g.formGroup),e.xp6(3),e.Oqu(e.lcZ(11,29,"fields.montantpension")),e.xp6(5),e.Oqu(e.lcZ(16,31,"fields.fraisinscriptionnew")),e.xp6(5),e.Oqu(e.lcZ(21,33,"fields.fraisinscriptionold")),e.xp6(5),e.Oqu(e.lcZ(26,35,"fields.niveau")),e.xp6(3),e.Q6J("ngForOf",g.niveaux),e.xp6(5),e.Oqu(e.lcZ(34,37,"fields.tranche")),e.xp6(3),e.Q6J("ngForOf",g.tranches),e.xp6(3),e.Oqu(e.lcZ(40,39,"fields.datelimite")),e.xp6(5),e.Oqu(e.lcZ(45,41,"fields.montant")),e.xp6(5),e.Oqu(e.lcZ(50,43,"action.add")),e.xp6(3),e.Q6J("rows",g.tranchepaiements)("selected",g.selected)("footerHeight",100),e.xp6(1),e.s9C("name",e.lcZ(54,45,"fields.tranche")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(57,47,"fields.montant")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(60,49,"fields.datelimite")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(63,51,"fields.montantcumul")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(4),e.Oqu(e.lcZ(70,53,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(73,55,"action.save")))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,Ht.w9,a.sg,E.nE,E.UC,E.vq,Ht.xv,a.O5,b.L,x.h,m.h],pipes:[q.X$],styles:[""]}),Z})();function ga(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.libelle," ")}function va(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",19),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",20),e._UZ(2,"i",21),e.qZA(),e.TgZ(3,"dropdown-menu",22,23),e.TgZ(5,"a",24),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().editTranche(Se)}),e.TgZ(6,"div",25),e._UZ(7,"i",26),e.TgZ(8,"span",27),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(9),e.Oqu(e.lcZ(10,1,"action.edit")))}let ma=(()=>{class Z{constructor(t,g,W,Se,Be){this.formBuilder=t,this.toaster=g,this.translateService=W,this.scolariteService=Se,this.cdr=Be,this.rows=[],this.temp=[],this.hideId=!0}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:[null,[w.kI.required]],code:[null,[w.kI.required]],id:[]}),this.fetch()}fetch(){this.scolariteService.getTranche().subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}onSubmit(){const t={data:{libelle:this.formGroup.value.libelle,code:this.formGroup.value.code}};console.log(t),null==this.formGroup.value.id?this.scolariteService.addTranche(t).subscribe(g=>{this.formGroup.reset(),this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{console.log(g),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")}):this.scolariteService.editTranche(t,this.formGroup.value.id).subscribe(g=>{this.formGroup.reset(),this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{console.log(g),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}editTranche(t){this.formGroup.patchValue({id:t.id,libelle:t.libelle}),this.cdr.markForCheck()}goback(){history.back()}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(R._W),e.Y36(q.sK),e.Y36(pe),e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-tranche"]],features:[e._Bn([R._W])],decls:36,vars:22,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-warning",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[3,"formGroup","validSubmit"],[1,"form-group",3,"hidden"],["for","field_idm",1,"form-control-label"],["type","number","name","id","id","field_idm","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","number","formControlName","code",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return g.goback()}),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form",5),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"ID"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",9),e.TgZ(18,"label",10),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return g.onReset()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",14),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",0),e._UZ(29,"div",1),e.TgZ(30,"div",4),e.TgZ(31,"ngx-datatable",15),e.TgZ(32,"ngx-datatable-column",16),e.YNc(33,ga,1,1,"ng-template",17),e.qZA(),e.TgZ(34,"ngx-datatable-column",18),e.YNc(35,va,11,3,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,12,"action.back")),e.xp6(3),e.Q6J("formGroup",g.formGroup),e.xp6(1),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(15,14,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(20,16,"fields.code")),e.xp6(4),e.Oqu(e.lcZ(24,18,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(27,20,"action.save")),e.xp6(5),e.Q6J("rows",g.rows),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("sortable",!1)("width",40))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.wV,w.Fj,u.oH,w.JJ,w.u,E.nE,E.UC,E.vq,b.L,x.h,m.h],pipes:[q.X$],styles:[""]}),Z})();function xn(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"button",6),e.NdJ("click",function(W){const Be=e.CHM(t).$implicit;return e.oxw().onRowClick(Be.id,W)}),e._uU(2),e.qZA(),e.qZA()}if(2&Z){const t=ae.$implicit;e.xp6(2),e.hij(" ",t.libelle," ")}}let fr=(()=>{class Z{constructor(t,g,W,Se,Be){this.service=t,this.scolariteService=g,this.router=W,this.cdr=Se,this.route=Be,this.rows=[],this.cdr.markForCheck()}ngOnInit(){this.service.getNiveaus().subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onRowClick(t,g){console.log(t),this.router.navigate(["/administration/repartionniveau/"+t])}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(xe.U),e.Y36(pe),e.Y36(I.F0),e.Y36(e.sBO),e.Y36(I.gz))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-repartitionmatiere"]],decls:7,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"mb-2","fw-bolder"],[1,"card-body"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,xn,3,1,"div",4),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,2,"title.repartitionmatiere")," "),e.xp6(3),e.Q6J("ngForOf",g.rows))},directives:[a.sg],pipes:[q.X$],styles:[""]}),Z})();function Hr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"input",13),e.NdJ("change",function(){const W=e.CHM(t);return W.selectFn(!W.allRowsSelected)}),e.qZA(),e.qZA()}if(2&Z){const t=ae.allRowsSelected;e.xp6(1),e.Q6J("checked",t)}}function xr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"input",13),e.NdJ("change",function(W){return e.CHM(t).onCheckboxChangeFn(W)}),e.qZA(),e.qZA()}if(2&Z){const t=ae.isSelected;e.xp6(1),e.Q6J("checked",t)}}function Pn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.matiere.libelle," ")}function Gr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).previousState()}),e._UZ(2,"i",17),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addrepartition()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",19),e.qZA(),e.qZA()}2&Z&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"action.back"),""),e.xp6(3),e.Oqu(e.lcZ(7,4,"action.next")))}function Pr(Z,ae){1&Z&&(e.TgZ(0,"ngx-datatable-footer"),e.YNc(1,Gr,9,6,"ng-template",14),e.qZA())}let jr=(()=>{class Z{constructor(t,g,W,Se){this.service=t,this.router=g,this.cdr=W,this.route=Se,this.temp=[],this.rows=[],this.selected=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.cdr.markForCheck()}ngOnInit(){this.service.getRepartitionmatieres(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.rows.forEach(g=>{console.log(g),g.ischeck&&this.selected.push(g)}),this.cdr.markForCheck()},t=>{console.log(t)})}onSelect({selected:t}){this.selected.splice(0,this.selected.length),this.selected.push(...t),console.log("Select Event",this.selected)}onActivate(t){}previousState(){window.history.back()}addrepartition(){const t=[];this.selected.forEach(W=>{W.ischeck||(this.selected.push(W),t.push({matiere:W.matiere.id,coefficient:null,groupematiere:null,chapitre:null,coursmagistral:null,traveaudirige:null,traveaupratique:null}))});let g={data:{niveau:this.route.snapshot.paramMap.get("id"),repartitions:t}};console.log(g),this.service.postRepartitionmatieres(g).subscribe(W=>{this.router.navigate(["/administration/repartionniveaumake/"+this.route.snapshot.paramMap.get("id")],{state:{values:this.selected}})},W=>{console.log(W)})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(ct._),e.Y36(I.F0),e.Y36(e.sBO),e.Y36(I.gz))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-addrepartition"]],decls:16,vars:22,consts:[[1,"card"],[1,"card-header"],[1,"mb-2","fw-bolder"],[1,"card-body"],[1,"table-responsive"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selected","selectionType","rowHeight","scrollbarH","activate","select"],["table",""],[3,"width","sortable","canAutoResize","draggable","resizeable"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],[3,"name","width"],[4,"ngIf"],[1,"form-check","mb-0"],["type","checkbox",1,"form-check-input",3,"checked","change"],["ngx-datatable-footer-template",""],[1,"btn-group"],[1,"btn","btn-warning",3,"click"],[1,"la-arrow-left","la"],[1,"btn","btn-primary",3,"click"],[1,"icon-arrow-right","feather"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"ngx-datatable",5,6),e.NdJ("activate",function(Se){return g.onActivate(Se)})("select",function(Se){return g.onSelect(Se)}),e.TgZ(9,"ngx-datatable-column",7),e.YNc(10,Hr,2,1,"ng-template",8),e.YNc(11,xr,2,1,"ng-template",9),e.qZA(),e.TgZ(12,"ngx-datatable-column",10),e.ALo(13,"translate"),e.YNc(14,Pn,1,1,"ng-template",9),e.qZA(),e.YNc(15,Pr,2,0,"ngx-datatable-footer",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,18,"title.repartitionmatiereniveau")," "),e.xp6(4),e.Q6J("rows",g.rows)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",100)("limit",100)("selected",g.selected)("selectionType",g.SelectionType.multiClick)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1),e.xp6(3),e.s9C("name",e.lcZ(13,20,"fields.matiere")),e.Q6J("width",70),e.xp6(3),e.Q6J("ngIf",!0))},directives:[E.nE,E.UC,E.tk,E.vq,a.O5,u.oH,E.dX,E.ii],pipes:[q.X$],styles:[""]}),Z})();var tr=n(9063);function ln(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit,g=e.oxw();e.Q6J("value",t.id===(null==g.editForm.get("matiere").value?null:g.editForm.get("matiere").value.id)?g.editForm.get("matiere").value:t),e.xp6(1),e.hij(" ",t.libelle,"")}}function _a(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit,g=e.oxw();e.Q6J("value",t.id===(null==g.editForm.get("groupematiere").value?null:g.editForm.get("groupematiere").value.id)?g.editForm.get("groupematiere").value:t),e.xp6(1),e.hij(" ",t.libelle,"")}}function hr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"input",29),e.NdJ("change",function(W){return e.CHM(t).onCheckboxChangeFn(W)}),e.qZA(),e.qZA()}if(2&Z){const t=ae.isSelected;e.xp6(1),e.Q6J("checked",t)}}function En(Z,ae){if(1&Z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Z){const t=e.oxw().row;e.xp6(1),e.Oqu(t.groupematiere.libelle)}}function ba(Z,ae){1&Z&&e.YNc(0,En,2,1,"span",26),2&Z&&e.Q6J("ngIf",ae.row.groupematiere)}function Vr(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.matiere.libelle," ")}function ya(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.coefficient," ")}function Aa(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.coursmagistral," ")}function Sa(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.traveaudirige," ")}function Ta(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.chapitre," ")}function wa(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"div",31),e.TgZ(1,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).previousState()}),e._UZ(2,"i",33),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteLine()}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA()}2&Z&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"action.back"),""),e.xp6(3),e.Oqu(e.lcZ(7,4,"action.delete")))}function Ca(Z,ae){1&Z&&(e.TgZ(0,"ngx-datatable-footer"),e.YNc(1,wa,8,6,"ng-template",30),e.qZA())}let ka=(()=>{class Z{constructor(t,g,W,Se,Be){this.formBuilder=t,this.service=g,this.router=W,this.cdr=Se,this.route=Be,this.temp=[],this.rows=[],this.hideId=!0,this.selected=[],this.repartitions=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.repartitionmatieresSharedCollection=[],this.matieresSharedCollection=[],this.groupematieresSharedCollection=[],this.editForm=this.formBuilder.group({id:[],matiere:[null,[w.kI.required]],groupematiere:[null,[w.kI.required]],coefficient:[null,[w.kI.required]],coursmagistral:[null,[w.kI.required]],chapitre:[null,[w.kI.required]],traveaudirige:[null,[w.kI.required]]}),this.cdr.markForCheck()}ngOnInit(){this.fetch()}fetch(){this.service.getRepartitionmatieresniveau(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onSelect({selected:t}){this.updateForm(t[0]),this.deleteValue=t[0],this.loadRelationshipsOptions(),this.cdr.markForCheck()}onActivate(t){}createFromForm(){return Object.assign(Object.assign({},new tr.T),{id:this.editForm.get(["id"]).value,matiere:this.editForm.get(["matiere"]).value,groupematiere:this.editForm.get(["groupematiere"]).value,coefficient:this.editForm.get(["coefficient"]).value,coursmagistral:this.editForm.get(["coursmagistral"]).value,chapitre:this.editForm.get(["chapitre"]).value,traveaudirige:this.editForm.get(["traveaudirige"]).value})}updateForm(t){this.editForm.patchValue({id:t.id,matiere:t.matiere,groupematiere:t.groupematiere,coefficient:t.coefficient,coursmagistral:t.coursmagistral,chapitre:t.chapitre,traveaudirige:t.traveaudirige}),this.matieresSharedCollection=this.service.addMatiereToCollectionIfMissing(this.matieresSharedCollection,t.matiere),this.groupematieresSharedCollection=this.service.addGroupematiereToCollectionIfMissing(this.groupematieresSharedCollection,t.groupematiere)}loadRelationshipsOptions(){this.service.getMatieres().pipe((0,Lr.U)(t=>this.service.addMatiereToCollectionIfMissing(t,this.editForm.get("matiere").value))).subscribe(t=>this.matieresSharedCollection=t),this.service.getGroupematieres().pipe((0,Lr.U)(t=>this.service.addGroupematiereToCollectionIfMissing(t,this.editForm.get("groupematiere").value))).subscribe(t=>this.groupematieresSharedCollection=t),console.log(this.groupematieresSharedCollection)}onSubmit(){const t=this.createFromForm();this.service.updateRepartition({data:{id:t.id,matiere:t.matiere.id,groupematiere:t.groupematiere.id,coefficient:t.coefficient,coursmagistral:t.coursmagistral,chapitre:t.chapitre,traveaudirige:t.traveaudirige}}).subscribe(W=>{this.fetch(),this.editForm.reset(),this.matieresSharedCollection=[],this.groupematieresSharedCollection=[]})}previousState(){window.history.back()}deleteLine(){this.service.deleteRepartition(this.deleteValue.id).subscribe(t=>{this.fetch(),this.editForm.reset(),this.matieresSharedCollection=[],this.groupematieresSharedCollection=[]})}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(ct._),e.Y36(I.F0),e.Y36(e.sBO),e.Y36(I.gz))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-makerepartition"]],decls:75,vars:68,consts:[[1,"card"],[1,"card-header"],[1,"mb-2","fw-bolder"],[1,"card-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"form-group",3,"hidden"],["for","field_id",1,"form-control-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],[1,"form-group","col-md-4"],[1,"form-label"],["formControlName","matiere"],[3,"value",4,"ngFor","ngForOf"],["formControlName","groupematiere"],["type","text","formControlName","coefficient",1,"form-control"],["type","text","formControlName","coursmagistral",1,"form-control"],["type","text","formControlName","traveaudirige",1,"form-control"],["type","text","formControlName","chapitre",1,"form-control"],[1,"d-grid","gap-2","d-md-block"],["type","submit",1,"btn","btn-primary","me-2"],[1,"table-responsive"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selected","selectionType","rowHeight","scrollbarH","select"],["table",""],[3,"width","sortable","canAutoResize","draggable","resizeable"],["ngx-datatable-cell-template",""],[3,"name","width"],[4,"ngIf"],[3,"value"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","change"],["ngx-datatable-footer-template",""],[1,"btn-group"],[1,"btn","btn-warning",3,"click"],[1,"la-arrow-left","la"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"ID"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ng-select",11),e.YNc(17,ln,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ng-select",13),e.YNc(23,_a,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(24,"div",9),e.TgZ(25,"label",10),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"input",14),e.qZA(),e.TgZ(29,"div",9),e.TgZ(30,"label",10),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",15),e.qZA(),e.TgZ(34,"div",9),e.TgZ(35,"label",10),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",16),e.qZA(),e.TgZ(39,"div",9),e.TgZ(40,"label",10),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",17),e.qZA(),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"div",18),e.TgZ(46,"button",19),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",0),e.TgZ(50,"div",3),e.TgZ(51,"div",20),e.TgZ(52,"ngx-datatable",21,22),e.NdJ("select",function(Se){return g.onSelect(Se)}),e.TgZ(54,"ngx-datatable-column",23),e.YNc(55,hr,2,1,"ng-template",24),e.qZA(),e.TgZ(56,"ngx-datatable-column",25),e.ALo(57,"translate"),e.YNc(58,ba,1,1,"ng-template",24),e.qZA(),e.TgZ(59,"ngx-datatable-column",25),e.ALo(60,"translate"),e.YNc(61,Vr,1,1,"ng-template",24),e.qZA(),e.TgZ(62,"ngx-datatable-column",25),e.ALo(63,"translate"),e.YNc(64,ya,1,1,"ng-template",24),e.qZA(),e.TgZ(65,"ngx-datatable-column",25),e.ALo(66,"translate"),e.YNc(67,Aa,1,1,"ng-template",24),e.qZA(),e.TgZ(68,"ngx-datatable-column",25),e.ALo(69,"translate"),e.YNc(70,Sa,1,1,"ng-template",24),e.qZA(),e.TgZ(71,"ngx-datatable-column",25),e.ALo(72,"translate"),e.YNc(73,Ta,1,1,"ng-template",24),e.qZA(),e.YNc(74,Ca,2,0,"ngx-datatable-footer",26),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,40,"title.repartitionmatiereniveau")," "),e.xp6(3),e.Q6J("formGroup",g.editForm),e.xp6(2),e.Q6J("hidden",g.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(15,42,"fields.matiere")),e.xp6(3),e.Q6J("ngForOf",g.matieresSharedCollection),e.xp6(3),e.Oqu(e.lcZ(21,44,"fields.groupematiere")),e.xp6(3),e.Q6J("ngForOf",g.groupematieresSharedCollection),e.xp6(3),e.Oqu(e.lcZ(27,46,"fields.coefficient")),e.xp6(5),e.Oqu(e.lcZ(32,48,"fields.coursmagistral")),e.xp6(5),e.Oqu(e.lcZ(37,50,"fields.traveaudirige")),e.xp6(5),e.Oqu(e.lcZ(42,52,"fields.chapitre")),e.xp6(6),e.Oqu(e.lcZ(48,54,"action.save")),e.xp6(5),e.Q6J("rows",g.rows)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",100)("limit",100)("selected",g.selected)("selectionType",g.SelectionType.single)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1),e.xp6(2),e.s9C("name",e.lcZ(57,56,"fields.groupematiere")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(60,58,"fields.matiere")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(63,60,"fields.coefficient")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(66,62,"fields.coursmagistral")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(69,64,"fields.traveaudirige")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(72,66,"fields.chapitre")),e.Q6J("width",70),e.xp6(3),e.Q6J("ngIf",!0))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.wV,w.Fj,u.oH,w.JJ,w.u,Ht.w9,a.sg,E.nE,E.UC,E.vq,a.O5,Ht.xv,E.dX,E.ii],pipes:[q.X$],styles:[""]}),Z})();function xa(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function Pa(Z,ae){if(1&Z&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&Z){const t=ae.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function Ea(Z,ae){if(1&Z&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&Z){const t=e.oxw().row;e.xp6(1),e.Oqu(t.id)}}function Ra(Z,ae){if(1&Z&&(e.YNc(0,Ea,2,1,"span",28),e._uU(1)),2&Z){const t=ae.row;e.Q6J("ngIf",null==t.tranche),e.xp6(1),e.hij(" ",t.tranche.libelle," ")}}function Rn(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.montant," ")}function Oa(Z,ae){1&Z&&(e._uU(0),e.ALo(1,"date")),2&Z&&e.hij(" ",e.xi3(1,1,ae.row.limit_date,"dd/MM/yyyy")," ")}function Za(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.cumulmontant," ")}function rr(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().remove(Se)}),e.TgZ(1,"div",30),e._UZ(2,"i",31),e.TgZ(3,"span",32),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.delete")))}let un=(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt,it){this.router=t,this.toaster=g,this.translateService=W,this.formBuilder=Se,this.route=Be,this.classeService=Je,this.tableSvc=lt,this.cdr=it,this.rows=[],this.tranches=[],this.tranchepaiements=[],this.selected=[],this.temp=[],this.niveaux=[],this.formGroup=this.formBuilder.group({montantPension:[null,[w.kI.required]],fraisInscriptionNew:[null,[w.kI.required]],fraisInscriptionOld:[null,[w.kI.required]],niveau:[null,[w.kI.required]]})}ngOnInit(){var t;this.param=null!==(t=this.route.snapshot.queryParams.data)&&void 0!==t?t:"",this.fetch()}patchValues(t){this.formGroup.patchValue({id:t.id,montantPension:t.montant_pension,fraisInscriptionNew:t.frais_inscription_new,fraisInscriptionOld:t.frais_inscriprion_old,niveau:t.niveau.libelle})}fetch(){this.tableSvc.getScolariteId(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.tranchepaiements=t.data.tranche_scolarites,this.patchValues(t.data),this.cdr.markForCheck()},t=>{console.log(t)}),this.tableSvc.getTranche().subscribe(t=>{this.tranches=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onSubmit(){var t;const g={data:{montantPension:this.formGroup.value.montantPension,fraisInscriptionNew:this.formGroup.value.fraisInscriptionNew,fraisInscriptionOld:this.formGroup.value.fraisInscriptionOld,niveau:this.formGroup.value.niveau}};let W=null!==(t=this.route.snapshot.queryParams.data)&&void 0!==t?t:"";console.log(W.id),this.tableSvc.editScolarite(g,this.route.snapshot.paramMap.get("id")).subscribe(Se=>{this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},Se=>{console.log(Se),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),Se.detail)})}onReset(){this.formGroup.reset()}addLine(){const t={data:{tranche:this.tranche,montant:this.montant,limitDate:this.limitDate}};console.log(t),this.tableSvc.updatetranchescolarite(t,this.route.snapshot.paramMap.get("id")).subscribe(g=>{this.fetch(),this.cdr.markForCheck(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{console.log(g),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onSelect(t){}remove(t){this.tableSvc.deletetranchescolarite(t.id).subscribe(g=>{this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{console.log(g),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")})}edit(t){}goback(){window.history.back()}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(I.F0),e.Y36(R._W),e.Y36(q.sK),e.Y36(w.qu),e.Y36(I.gz),e.Y36(xe.U),e.Y36(pe),e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-editscolarite"]],features:[e._Bn([R._W])],decls:74,vars:61,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-warning",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","montantPension",1,"form-control"],["type","number","formControlName","fraisInscriptionNew",1,"form-control"],["type","number","formControlName","fraisInscriptionOld",1,"form-control"],["formControlName","niveau",3,"readonly"],[3,"value",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"row"],[1,"form-group","col-md-3"],[3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3"],["type","button",1,"btn","btn","btn-primary","me-md-2",2,"margin-top","25px",3,"click"],["rowHeight","auto","columnMode","force",3,"rows","selected","footerHeight","select"],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],[3,"value"],[4,"ngIf"],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-delete"],[1,"ms-2"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return g.goback()}),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form",5),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",9),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"label",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ng-select",11),e.YNc(28,xa,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(29,"div",13),e.TgZ(30,"button",14),e.NdJ("click",function(){return g.onReset()}),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",15),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.qZA(),e._UZ(36,"hr"),e.TgZ(37,"div",16),e.TgZ(38,"div",17),e.TgZ(39,"label",7),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"ng-select",18),e.NdJ("ngModelChange",function(Se){return g.tranche=Se}),e.YNc(43,Pa,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(44,"div",17),e.TgZ(45,"label",7),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"input",19),e.NdJ("ngModelChange",function(Se){return g.limitDate=Se}),e.qZA(),e.qZA(),e.TgZ(49,"div",17),e.TgZ(50,"label",7),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"input",20),e.NdJ("ngModelChange",function(Se){return g.montant=Se}),e.qZA(),e.qZA(),e.TgZ(54,"div",21),e.TgZ(55,"button",22),e.NdJ("click",function(){return g.addLine()}),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",16),e.TgZ(59,"ngx-datatable",23),e.NdJ("select",function(Se){return g.onSelect(Se)}),e.TgZ(60,"ngx-datatable-column",24),e.ALo(61,"translate"),e.YNc(62,Ra,2,2,"ng-template",25),e.qZA(),e.TgZ(63,"ngx-datatable-column",24),e.ALo(64,"translate"),e.YNc(65,Rn,1,1,"ng-template",25),e.qZA(),e.TgZ(66,"ngx-datatable-column",24),e.ALo(67,"translate"),e.YNc(68,Oa,2,4,"ng-template",25),e.qZA(),e.TgZ(69,"ngx-datatable-column",24),e.ALo(70,"translate"),e.YNc(71,Za,1,1,"ng-template",25),e.qZA(),e.TgZ(72,"ngx-datatable-column",26),e.YNc(73,rr,6,3,"ng-template",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,31,"action.back")),e.xp6(3),e.Q6J("formGroup",g.formGroup),e.xp6(3),e.Oqu(e.lcZ(11,33,"fields.montantpension")),e.xp6(5),e.Oqu(e.lcZ(16,35,"fields.fraisinscriptionnew")),e.xp6(5),e.Oqu(e.lcZ(21,37,"fields.fraisinscriptionold")),e.xp6(5),e.Oqu(e.lcZ(26,39,"fields.niveau")),e.xp6(2),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngForOf",g.niveaux),e.xp6(3),e.Oqu(e.lcZ(32,41,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(35,43,"action.save")),e.xp6(6),e.Oqu(e.lcZ(41,45,"fields.tranche")),e.xp6(2),e.Q6J("ngModel",g.tranche),e.xp6(1),e.Q6J("ngForOf",g.tranches),e.xp6(3),e.Oqu(e.lcZ(47,47,"fields.datelimite")),e.xp6(2),e.Q6J("ngModel",g.limitDate),e.xp6(3),e.Oqu(e.lcZ(52,49,"fields.montant")),e.xp6(2),e.Q6J("ngModel",g.montant),e.xp6(3),e.Oqu(e.lcZ(57,51,"action.add")),e.xp6(3),e.Q6J("rows",g.tranchepaiements)("selected",g.selected)("footerHeight",100),e.xp6(1),e.s9C("name",e.lcZ(61,53,"fields.tranche")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(64,55,"fields.montant")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(67,57,"fields.datelimite")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(70,59,"fields.montantcumul")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40))},directives:[w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,w.wV,Ht.w9,a.sg,w.On,E.nE,E.UC,E.vq,Ht.xv,a.O5,m.h],pipes:[q.X$,a.uU],styles:[""]}),Z})();var On=n(7077);const cn=["compteModal"];function nr(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.username," ")}function ar(Z,ae){1&Z&&e._uU(0),2&Z&&e.hij(" ",ae.row.intitule," ")}function Gt(Z,ae){if(1&Z){const t=e.EpF();e.TgZ(0,"dropdown",31),e.NdJ("click",function(W){return e.CHM(t),e.MAs(4).toggle(W)}),e.TgZ(1,"a",32),e._UZ(2,"i",33),e.qZA(),e.TgZ(3,"dropdown-menu",34,35),e.TgZ(5,"a",36),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().edit(Se.id)}),e.TgZ(6,"div",37),e._UZ(7,"i",38),e.TgZ(8,"span",39),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",36),e.NdJ("click",function(){const Se=e.CHM(t).row;return e.oxw().delete(Se)}),e.TgZ(12,"div",37),e._UZ(13,"i",40),e.TgZ(14,"span",39),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&Z&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}const Er=function(){return{backdrop:"static"}},ur=[{path:"classe/:id",data:{title:"Classe",hidePageHeader:!0},component:De},{path:"niveau/:id",data:{title:"Niveau",hidePageHeader:!0},component:Nr},{path:"cycle",data:{title:"Enseignement",hidePageHeader:!0},component:dr},{path:"compte",data:{title:"Compte",hidePageHeader:!0},component:(()=>{class Z{constructor(t,g,W,Se,Be,Je,lt,it){this.formBuilder=t,this.toaster=g,this.translateService=W,this.cdr=Se,this.compteService=Be,this.screenSizeSvc=Je,this.translateservice=lt,this.cycleservice=it,this.rows=[],this.temp=[],this.columnMode=E.hq.force,this.SelectionType=E.RT,this.rowHeight="auto",this.scrollbarH=!1,this.screenSizeSvc.onResize$.pipe((0,B.g)(0)).subscribe(nt=>{nt.includes(_e.y.XXL)||nt.includes(_e.y.XL)||nt.includes(_e.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=E.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=E.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:[null,[w.kI.required]],code:[null,[w.kI.required]],isbank:[null,[w.kI.required]]}),this.compteService.getComptes().subscribe(t=>{this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}addCompte(){this.compteModal.show()}hideChildModal(){this.compteModal.hide()}onSubmit(){this.compteService.addCompte({data:{libelle:this.formGroup.value.libelle,code:this.formGroup.value.code,isbank:this.formGroup.value.isbank}}).subscribe(g=>{this.compteService.getComptes().subscribe(W=>{this.rows=W.data,this.cdr.markForCheck(),console.log(this.temp)},W=>{console.log(W)}),this.hideChildModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},g=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){}edit(t){}delete(t){}}return Z.\u0275fac=function(t){return new(t||Z)(e.Y36(w.qu),e.Y36(R._W),e.Y36(q.sK),e.Y36(e.sBO),e.Y36(On.D),e.Y36(f.O),e.Y36(q.sK),e.Y36(xe.U))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-compte"]],viewQuery:function(t,g){if(1&t&&(e.Gf(E.nE,5),e.Gf(cn,5)),2&t){let W;e.iGM(W=e.CRH())&&(g.table=W.first),e.iGM(W=e.CRH())&&(g.compteModal=W.first)}},features:[e._Bn([R._W])],decls:56,vars:41,consts:[[1,"card"],[1,"card-header"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder",2,"text-transform","capitalize"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight","scrollbarH"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["compteModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","code",1,"form-control"],["formControlName","isbank","single","true"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-plus"]],template:function(t,g){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h4",3),e._uU(4,"Comptes"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return g.addCompte()}),e._UZ(6,"i",5),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"ngx-datatable",7,8),e.TgZ(12,"ngx-datatable-column",9),e.ALo(13,"translate"),e.YNc(14,nr,1,1,"ng-template",10),e.qZA(),e.TgZ(15,"ngx-datatable-column",9),e.ALo(16,"translate"),e.YNc(17,ar,1,1,"ng-template",10),e.qZA(),e.TgZ(18,"ngx-datatable-column",11),e.YNc(19,Gt,17,6,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",12,13),e.TgZ(22,"div",14),e.TgZ(23,"div",15),e.TgZ(24,"div",16),e.TgZ(25,"h4",17),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return g.hideChildModal()}),e.TgZ(29,"span",19),e._uU(30,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",20),e.TgZ(32,"form",21),e.NdJ("validSubmit",function(){return g.onSubmit()}),e.TgZ(33,"div",22),e.TgZ(34,"div",23),e.TgZ(35,"div",24),e.TgZ(36,"label",25),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",26),e.qZA(),e.TgZ(40,"div",24),e.TgZ(41,"label",25),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",27),e.qZA(),e.TgZ(45,"div",24),e.TgZ(46,"label",25),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"checkbox",28),e.qZA(),e.TgZ(50,"button",29),e.NdJ("click",function(){return g.onReset()}),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"button",30),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.hij("",e.lcZ(8,22,"action.add")," "),e.xp6(3),e.Q6J("rows",g.rows)("columnMode",g.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("rowHeight",g.rowHeight)("scrollbarH",g.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(13,24,"fields.code")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(16,26,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(40,Er)),e.xp6(6),e.Oqu(e.lcZ(27,28,"title.addcompte")),e.xp6(6),e.Q6J("formGroup",g.formGroup),e.xp6(5),e.Oqu(e.lcZ(38,30,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(43,32,"fields.code")),e.xp6(5),e.Oqu(e.lcZ(48,34,"fields.isbank")),e.xp6(4),e.Oqu(e.lcZ(52,36,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(55,38,"action.save")))},directives:[E.nE,E.UC,E.vq,F.oB,w._Y,w.JL,w.sg,u.MU,u.HK,w.Fj,u.oH,w.JJ,w.u,Fe.b,b.L,x.h,m.h],pipes:[q.X$],styles:[""]}),Z})()},{path:"matiere",data:{title:"Matieres",hidePageHeader:!0},component:da},{path:"tranche",data:{title:"tranche",hidePageHeader:!0},component:ma},{path:"groupematiere/:id",data:{title:"Matiere",hidePageHeader:!0},component:Pt},{path:"scolarite",data:{title:"Scolarite",hidePageHeader:!0},component:st},{path:"configuration",data:{title:"Configuration",hidePageHeader:!0},component:fe},{path:"yearschool",data:{title:"Ann\xe9e scolaire",hidePageHeader:!0},component:te},{path:"trimestre/:id",data:{title:"Trimestre",hidePageHeader:!0},component:Ze},{path:"sequence/:id",data:{title:"Sequence",hidePageHeader:!0},component:jn},{path:"audit",data:{title:"Audit",hidePageHeader:!1},component:Te},{path:"permission",data:{title:"Permission",hidePageHeader:!1},component:jt},{path:"doctor",data:{title:"Doctor",hidePageHeader:!1},component:gn},{path:"scolariteniveau",data:{title:"Scolarite",hidePageHeader:!0},component:kn},{path:"editscolariteniveau/:id",data:{title:"Scolarite",hidePageHeader:!0},component:un},{path:"repartitionmatiere",data:{title:"Repatition matiere",hidePageHeader:!0},component:fr},{path:"repartionniveau/:id",data:{title:"Repartition by niveau",hidePageHeader:!0},component:jr},{path:"repartionniveaumake/:id",data:{title:"Repartition make by niveau",hidePageHeader:!0},component:ka}];let dn=(()=>{class Z{}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[[I.Bz.forChild(ur)],I.Bz]}),Z})();var Zn=n(902),Wr=n(2563),Mn=n(4466),Ln=n(4079);let In=(()=>{class Z{}return Z.\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=e.oAB({type:Z}),Z.\u0275inj=e.cJS({imports:[[dn,Mn.m,Ln.h,R.Rh.forRoot(),Wn,a.ez,dn,l.P4,E.xD,Wr.k,F.zk,Ht.A0,Zn.n,u.VN,u.VN.forRoot(),qn,Jr]]}),Z})()},850:(Y,k,n)=>{"use strict";n.d(k,{_:()=>V});var a=n(1841),I=n(5917),E=n(8002),w=n(5304),B=n(3342),R=n(2340),H=n(9063),z=n(3075),D=n(7481),X=n(3018);let V=(()=>{class j{constructor(F){this.http=F,this.apiUrl=R.N.API_URL+"groupematieres",this.apiUrlMatiere=R.N.API_URL+"matieres",this.httpOptions={headers:new a.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getGroupematieres(){return this.http.get(this.apiUrl,this.httpOptions).pipe((0,E.U)(F=>F.data),(0,w.K)(this.handleError("getGroupematiere",[])))}getGroupematiere(F){return this.http.get(`${this.apiUrl}/${F}`).pipe((0,B.b)(M=>console.log(`fetched groupe matiere id=${F}`)),(0,w.K)(this.handleError(`getGroupe id=${F}`)))}getMatieresbis(){return this.http.get(this.apiUrlMatiere,this.httpOptions)}getMatieres(){return this.http.get(this.apiUrlMatiere,this.httpOptions).pipe((0,E.U)(F=>F.data),(0,B.b)(F=>console.log("fetched matieres")),(0,w.K)(this.handleError("getmatieres",[])))}getRepartitionmatieres(F){return this.http.get(`${this.apiUrlMatiere}/repartition/${F}`,this.httpOptions)}getRepartitionmatieresniveau(F){return this.http.get(`${this.apiUrlMatiere}/repartition/${F}/niveau`,this.httpOptions)}postRepartitionmatieres(F){return this.http.post(`${this.apiUrlMatiere}/repartition`,F,this.httpOptions)}getMatiere(F){return this.http.get(`${this.apiUrlMatiere}/${F}`).pipe((0,B.b)(M=>console.log(`fetched matiere id=${F}`)),(0,w.K)(this.handleError(`getMatiere id=${F}`)))}getMatiereClasse(F){return this.http.get(`${this.apiUrlMatiere}/${F}/classe`)}addGroupematiere(F){return this.http.post(this.apiUrl,F,this.httpOptions).pipe((0,B.b)(q=>console.log(`added sequence w/ id=${F.id}`)),(0,w.K)(this.handleError("addSequence")))}editMatiere(F,q){return this.http.put(`${this.apiUrlMatiere}/${q}`,F)}editGroupeMatiere(F,q){return this.http.put(`${this.apiUrl}/${q}`,F)}addMatiere(F){return this.http.post(this.apiUrlMatiere,F,this.httpOptions).pipe((0,B.b)(q=>console.log(`added niveau w/ id=${F.id}`)),(0,w.K)(this.handleError("addNiveau")))}updateRepartition(F){return this.http.put(`${this.apiUrlMatiere}/repartition/put`,F,this.httpOptions)}deleteRepartition(F){return this.http.delete(`${this.apiUrlMatiere}/repartition/${F}`,this.httpOptions)}delete(F){return this.http.delete(`${this.apiUrl}/${F}`)}deleteMatiere(F){return this.http.delete(`${this.apiUrlMatiere}/${F}`)}handleError(F="operation",q){return M=>(console.error(M),(0,I.of)(q))}addRepartitionToCollectionIfMissing(F,...q){const M=q.filter(z.E);if(M.length>0){const f=F.map(u=>(0,H.B)(u));return[...M.filter(u=>{const b=(0,H.B)(u);return null!=b&&!f.includes(b)&&(f.push(b),!0)}),...F]}return F}addMatiereToCollectionIfMissing(F,...q){const M=q.filter(z.E);if(M.length>0){const f=F.map(u=>(0,D.b)(u));return[...M.filter(u=>{const b=(0,H.B)(u);return null!=b&&!f.includes(b)&&(f.push(b),!0)}),...F]}return F}addGroupematiereToCollectionIfMissing(F,...q){const M=q.filter(z.E);if(M.length>0){const f=F.map(u=>(0,D.b)(u));return[...M.filter(u=>{const b=(0,H.B)(u);return null!=b&&!f.includes(b)&&(f.push(b),!0)}),...F]}return F}}return j.\u0275fac=function(F){return new(F||j)(X.LFG(a.eN))},j.\u0275prov=X.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},7481:(Y,k,n)=>{"use strict";n.d(k,{V:()=>a,b:()=>I});class a{constructor(w,B){this.id=w,this.libelle=B}}function I(E){return E.id}},9063:(Y,k,n)=>{"use strict";n.d(k,{T:()=>a,B:()=>I});class a{constructor(w,B,R,H,z,D,X){this.id=w,this.matiere=B,this.groupematiere=R,this.coefficient=H,this.chapitre=z,this.traveaudirige=D,this.coursmagistral=X}}function I(E){return E.id}},2:(Y,k,n)=>{"use strict";n.d(k,{c:()=>V});var a=n(1841),I=n(2340),E=n(5917),w=n(3342),B=n(5304),R=n(8002),H=n(3075);function D(j){return j.id}var X=n(3018);let V=(()=>{class j{constructor(F){this.http=F,this.apiUrl=I.N.API_URL+"professors",this.httpOptions={headers:new a.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getData(){}getProfessors(){return this.http.get(this.apiUrl,this.httpOptions).pipe((0,w.b)(F=>console.log("fetched professor")),(0,B.K)(this.handleError("getProfessors",[])))}getProfessorsbis(){return this.http.get(this.apiUrl,this.httpOptions).pipe((0,R.U)(F=>F.data),(0,w.b)(F=>console.log("fetched matieres")),(0,B.K)(this.handleError("getmatieres",[])))}create(F){return this.http.post(this.apiUrl,F)}import(F){return this.http.post(this.apiUrl+"/import",F)}delete(F){return this.http.delete(`${this.apiUrl}/${F}`)}edit(F,q){return this.http.put(`${this.apiUrl}/${q}`,F)}getProfessor(F){return this.http.get(`${this.apiUrl}/${F}`).pipe((0,w.b)(M=>console.log(`fetched item id=${F}`)),(0,B.K)(this.handleError(`getProfessor id=${F}`)))}getProfessorbycompte(F){return this.http.get(`${this.apiUrl}/${F}/compte`)}getProfessorbis(F){return this.http.get(`${this.apiUrl}/${F}`).pipe((0,R.U)(M=>M.data),(0,w.b)(M=>console.log(`fetched item id=${F}`)),(0,B.K)(this.handleError(`getProfessor id=${F}`)))}getProfessorByclasse(F){return this.http.get(`${this.apiUrl}/${F}/matiere`)}handleError(F="operation",q){return M=>(console.error(M),(0,E.of)(q))}addProfessorToCollectionIfMissing(F,...q){const M=q.filter(H.E);if(M.length>0){const f=F.map(u=>D(u));return[...M.filter(u=>{const b=D(u);return null!=b&&!f.includes(b)&&(f.push(b),!0)}),...F]}return F}}return j.\u0275fac=function(F){return new(F||j)(X.LFG(a.eN))},j.\u0275prov=X.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},4601:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}}]);