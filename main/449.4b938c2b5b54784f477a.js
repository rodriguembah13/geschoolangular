(self.webpackChunkcreativ=self.webpackChunkcreativ||[]).push([[449],{9457:function(D,I){var m,v;void 0!==(v="function"==typeof(m=function(){"use strict";function a(_,f,Z){var e=new XMLHttpRequest;e.open("GET",_),e.responseType="blob",e.onload=function(){A(e.response,f,Z)},e.onerror=function(){console.error("could not download file")},e.send()}function O(_){var f=new XMLHttpRequest;f.open("HEAD",_,!1);try{f.send()}catch(Z){}return 200<=f.status&&299>=f.status}function h(_){try{_.dispatchEvent(new MouseEvent("click"))}catch(Z){var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),_.dispatchEvent(f)}}var U="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,R=U.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=U.saveAs||("object"!=typeof window||window!==U?function(){}:"download"in HTMLAnchorElement.prototype&&!R?function(_,f,Z){var e=U.URL||U.webkitURL,s=document.createElement("a");s.download=f=f||_.name||"download",s.rel="noopener","string"==typeof _?(s.href=_,s.origin===location.origin?h(s):O(s.href)?a(_,f,Z):h(s,s.target="_blank")):(s.href=e.createObjectURL(_),setTimeout(function(){e.revokeObjectURL(s.href)},4e4),setTimeout(function(){h(s)},0))}:"msSaveOrOpenBlob"in navigator?function(_,f,Z){if(f=f||_.name||"download","string"!=typeof _)navigator.msSaveOrOpenBlob(function(_,f){return void 0===f?f={autoBom:!1}:"object"!=typeof f&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\ufeff",_],{type:_.type}):_}(_,Z),f);else if(O(_))a(_,f,Z);else{var e=document.createElement("a");e.href=_,e.target="_blank",setTimeout(function(){h(e)})}}:function(_,f,Z,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),"string"==typeof _)return a(_,f,Z);var s="application/octet-stream"===_.type,u=/constructor/i.test(U.HTMLElement)||U.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||s&&u||R)&&"undefined"!=typeof FileReader){var M=new FileReader;M.onloadend=function(){var S=M.result;S=b?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=S:location=S,e=null},M.readAsDataURL(_)}else{var L=U.URL||U.webkitURL,p=L.createObjectURL(_);e?e.location=p:location.href=p,e=null,setTimeout(function(){L.revokeObjectURL(p)},4e4)}});U.saveAs=A.saveAs=A,D.exports=A})?m.apply(I,[]):m)&&(D.exports=v)},7697:(D,I,m)=>{"use strict";m.d(I,{i:()=>h});var T=m(496),v=m.n(T),d=m(1777),a=m(3018),O=m(5638);v().vfs=d.I.vfs;let h=(()=>{class U{constructor(A){this.canvas=A}setPageheaderOnePage(A,_,f,Z){let e,s;return"A6"===Z?(e=[15,10,0,0],s=8):(e=[15,50,0,0],s=10),[{columns:[{width:"40%",fontSize:10,margin:e,alignment:"center",uppercase:!0,text:[{text:"REPUBLIQUE DU CAMEROUN\n"},{text:"PAIX-TRAVAIL-PATRIE\n"},{text:"MINIST\xc8RE DES ENSEIGNEMENTS SECONDAIRE"}]},{width:60,image:A,height:30,margin:[5,50,5,0],alignment:"center"},{width:"40%",fontSize:10,margin:[10,50,0,0],alignment:"center",uppercase:!0,text:[{text:"REPUBLIC OF CAMEROON\n"},{text:"PEACE-WORK-FATHERLAND\n"},{text:"MINISTRY OF SECONDARY EDUCATION.\n"}]}]},{columns:[{width:"100%",text:_,fontSize:12,margin:[10,10,10,80],alignment:"center",bold:!0,uppercase:!0}]}]}setTitle(A,_,f,Z){let e,s;return"A6"===Z?(e=[15,10,0,10],s=8):(e=[15,10,0,10],s=10),[{table:{widths:["40%","20%","40%"],body:[[{text:"Ministere",fontSize:s,margin:[100,-20,0,0]}],[{image:A,width:60,height:30}],[{text:_,fontSize:s,margin:[100,-20,0,0]}]]},layout:"noBorders"}]}getDocDefinition(A,_,f,Z,e,s){const u={header:A};let b,M,L,p;return"A6"===s?(b=[10,110,10,55],M=10,L=7):(M=16,L=10,b=[15,135,10,55]),p=e?{text:"test watermark",color:"blue",opacity:.3,bold:!0,italics:!1}:"",{pageOrientation:Z,pageSize:s,pageMargins:b,watermark:p,header:(S,z)=>1===S?this.setPageheaderOnePage(_,A,u,s):null,content:f,styles:{tableHeader:{bold:!0},tableContent:{fontSize:L}}}}generatePdf(A){v().createPdf(A).print()}generatePdfServer(A){v().createPdf(A).print({},window)}generatePdfcustom(A,_,f,Z,e){this.canvas.getBase64Image("./assets/images/logo/logo.png").then(s=>{this.generatePdf(this.getDocDefinition(A,s,_,f,Z,e))})}generatePdfServercustom(A,_,f,Z,e){this.canvas.getBase64Image("./assets/images/logo/logo.png").then(s=>{this.generatePdfServer(this.getDocDefinition(A,s,_,f,Z,e))})}generatePdfcomptable(A,_,f,Z){this.generatePdf(this.getDocDefinitioncormCustom(A,_,f,Z))}getDocDefinitioncormCustom(A,_,f,Z){let s,u,b,M;return"A6"===Z?(s=[10,50,10,50],u=10,b=7):(u=16,b=10,s=[25,50,25,50]),M=f?{text:"test watermark",color:"blue",opacity:.3,bold:!0,italics:!1}:"",{pageOrientation:_,pageSize:Z,pageMargins:s,watermark:M,content:A,styles:{tableHeader:{bold:!0},tableContent:{fontSize:b}}}}}return U.\u0275fac=function(A){return new(A||U)(a.LFG(O.t))},U.\u0275prov=a.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},3075:(D,I,m)=>{"use strict";function T(d){return null!=d}m.d(I,{E:()=>T})},9449:(D,I,m)=>{"use strict";m.r(I),m.d(I,{AdministrationModule:()=>In});var T=m(8583),v=m(8932),d=m(8550),a=m(3679),O=m(1289),h=m(9344);class U{constructor(r,t){this.id=r,this.libelle=t}}class A{constructor(r,t,i,o,l,c,g){this.id=r,this.libelle=t,this.indice=i,this.date_start=o,this.date_end=l,this.is_clotured=c,this.year=g}}class f{constructor(r,t,i,o,l,c,g){this.id=r,this.libelle=t,this.indice=i,this.pourcentage=o,this.date_start=l,this.date_end=c,this.trimestre=g}}var e=m(3018),s=m(3301),u=m(9790),b=m(4300),M=m(5836),L=m(5690),p=m(7552),S=m(1875),z=m(519),Q=m(2201);const ge=["childModal"],_e=["trimestreModal"],he=["sequenceModal"];function fe(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Ze(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_start,"dd/MM/yyyy")," ")}function be(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_end,"dd/MM/yyyy")," ")}function Te(n,r){if(1&n&&(e.TgZ(0,"div",59),e._UZ(1,"span",60),e.TgZ(2,"span",61),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().row;return e.oxw().yearActivate(o.id)}),e.TgZ(1,"div",68),e._UZ(2,"i",76),e.TgZ(3,"span",70),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.activate")))}function Ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().row;return e.oxw().yearActivate(o.id)}),e.TgZ(1,"div",68),e._UZ(2,"i",77),e.TgZ(3,"span",70),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.desactivate")))}const qe=function(n){return["/administration/trimestre",n]};function xe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",62),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",63),e._UZ(2,"i",64),e.qZA(),e.TgZ(3,"dropdown-menu",65,66),e.TgZ(5,"a",67),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().edityear(l)}),e.TgZ(6,"div",68),e._UZ(7,"i",69),e.TgZ(8,"span",70),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",71),e.TgZ(12,"div",68),e._UZ(13,"i",72),e.TgZ(14,"span",70),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,ve,6,3,"a",73),e.YNc(18,Ae,6,3,"a",73),e.TgZ(19,"a",74),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(227);return c.delete(l,g)}),e.TgZ(20,"div",68),e._UZ(21,"i",75),e.TgZ(22,"span",70),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.row;e.xp6(9),e.Oqu(e.lcZ(10,6,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(12,qe,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,8,"action.addtrimestre")),e.xp6(2),e.Q6J("ngIf",t.is_clotured),e.xp6(1),e.Q6J("ngIf",!t.is_clotured),e.xp6(5),e.Oqu(e.lcZ(24,10,"action.delete"))}}function Ce(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Se(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_start,"dd/MM/yyyy")," ")}function we(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_end,"dd/MM/yyyy")," ")}function ye(n,r){if(1&n&&(e.TgZ(0,"div",59),e._UZ(1,"span",60),e.TgZ(2,"span",61),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function Ue(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().row;return e.oxw().trimestreActivate(o.id)}),e.TgZ(1,"div",68),e._UZ(2,"i",76),e.TgZ(3,"span",70),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.activate")))}function Me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().row;return e.oxw().trimestreActivate(o.id)}),e.TgZ(1,"div",68),e._UZ(2,"i",77),e.TgZ(3,"span",70),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.desactivate")))}const ke=function(n){return["/administration/sequence",n]};function Ee(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",62),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",63),e._UZ(2,"i",64),e.qZA(),e.TgZ(3,"dropdown-menu",78,66),e.TgZ(5,"a",67),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().edittrimestre(l)}),e.TgZ(6,"div",68),e._UZ(7,"i",69),e.TgZ(8,"span",70),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",79),e.TgZ(12,"div",68),e._UZ(13,"i",72),e.TgZ(14,"span",70),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,Ue,6,3,"a",73),e.YNc(18,Me,6,3,"a",73),e.TgZ(19,"a",67),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(229);return c.delete(l,g)}),e.TgZ(20,"div",68),e._UZ(21,"i",75),e.TgZ(22,"span",70),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.row;e.xp6(9),e.Oqu(e.lcZ(10,6,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(12,ke,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,8,"action.addsequence")),e.xp6(2),e.Q6J("ngIf",t.is_clotured),e.xp6(1),e.Q6J("ngIf",!t.is_clotured),e.xp6(5),e.Oqu(e.lcZ(24,10,"action.delete"))}}function Oe(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Ne(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_start,"dd/MM/yyyy")," ")}function Je(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_end,"dd/MM/yyyy")," ")}function Le(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.pourcentage," ")}function Fe(n,r){if(1&n&&(e.TgZ(0,"div",59),e._UZ(1,"span",60),e.TgZ(2,"span",61),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function Ie(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",62),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",63),e._UZ(2,"i",64),e.qZA(),e.TgZ(3,"dropdown-menu",78,66),e.TgZ(5,"a",67),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().editsequence(l)}),e.TgZ(6,"div",68),e._UZ(7,"i",69),e.TgZ(8,"span",70),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",67),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(231);return c.delete(l,g)}),e.TgZ(12,"div",68),e._UZ(13,"i",75),e.TgZ(14,"span",70),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}function Re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",80),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",81),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment l'ann\xe9e scolaire':",t.deleteRow.libelle,"?")}}function He(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",80),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",81),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment le trimestre:",t.deleteRow.libelle,"?")}}function Ge(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",80),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",81),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmSequence()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment l'evaluation':",t.deleteRow.libelle,"?")}}const ie=function(){return{backdrop:"static"}};let Ye=(()=>{class n{constructor(t,i,o,l,c,g,k){this.modalService=t,this.translateService=i,this.formBuilder=o,this.tableSvc=l,this.toaster=c,this.cdr=g,this.screenSizeSvc=k,this.rows=[],this.rowsequences=[],this.rowtrimestres=[],this.tempsequences=[],this.temptrimestres=[],this.temp=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.columns=[{prop:"libelle"},{name:"datedebut"},{name:"datefin"}],this.editSequenceForm=this.formBuilder.group({id:[],libelle:[],trimestre:[],is_clotured:[],indice:[null,[a.kI.required]],pourcentage:[null,[a.kI.required]],date_start:[null,[a.kI.required]],date_end:[null,[a.kI.required]]}),this.editTrimestreForm=this.formBuilder.group({id:[],libelle:[],year:[],is_clotured:[],indice:[null,[a.kI.required]],date_start:[null,[a.kI.required]],date_end:[null,[a.kI.required]]}),this.editYearschoolForm=this.formBuilder.group({id:[],libelle:[],is_clotured:[],indice:[null,[a.kI.required]],dateStart:[null,[a.kI.required]],dateEnd:[null,[a.kI.required]]}),this.hideId=!0,this.screenSizeSvc.onResize$.pipe((0,O.g)(0)).subscribe(w=>{this.cdr.markForCheck()})}ngOnInit(){this.fetch(),this.formGroup=this.formBuilder.group({libelle:[null,[a.kI.required]],indice:[null,[a.kI.required]],dateStart:[null,[a.kI.required]],dateEnd:[null,[a.kI.required]]}),this.formGroupSequence=this.formBuilder.group({indice:[null,[a.kI.required]]}),this.formGroupTrimestre=this.formBuilder.group({libelle:[null,[a.kI.required]]})}windowResize(t){this.getScreenWidth(t.target.innerWidth)}onSelect(t){this.value=t.heading}onSaveYear(){console.log(this.formGroup)}onSubmit(){const i={data:this.createFromYearForm()};this.tableSvc.addTrimestre(i).subscribe(o=>{this.fetch()})}onReset(){this.formGroup.reset(),this.sequenceModal.hide(),this.trimestreModal.hide(),this.childModal.hide()}delete(t,i){this.deleteRow=t,this.modalRef=this.modalService.show(i,{class:"modal-sm"})}confirm(){this.tableSvc.delete(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmTrimestre(){this.tableSvc.deleteTrimestre(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmSequence(){this.tableSvc.deleteSequence(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}decline(){this.modalRef.hide()}onActivate(t){}yearActivate(t){this.tableSvc.activateYear(t).subscribe(i=>{this.fetch()},i=>{console.log(i)})}trimestreActivate(t){this.tableSvc.activateTrimestre(t).subscribe(i=>{},i=>{console.log(i)})}sequenceActivate(t){this.tableSvc.activateSequence(t).subscribe(i=>{this.fetch()},i=>{console.log(i)})}showChildModal(){this.childModal.show()}hideChildModal(){this.childModal.hide()}showTrimestredModal(){this.trimestreModal.show()}hideTrimestredModal(){this.trimestreModal.hide()}showSequenceModal(){this.sequenceModal.show()}hideSequenceModal(){this.sequenceModal.hide()}getScreenWidth(t){this.screenSizeSvc.onResize(t)}fetch(){this.tableSvc.getYears().subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}createFromYearForm(){return Object.assign(Object.assign({},new U),{id:this.editYearschoolForm.get(["id"]).value,libelle:this.editYearschoolForm.get(["libelle"]).value,indice:this.editYearschoolForm.get(["indice"]).value,dateStart:this.editYearschoolForm.get(["date_start"]).value,dateEnd:this.editYearschoolForm.get(["date_end"]).value,is_clotured:this.editYearschoolForm.get(["is_clotured"]).value})}updateYearForm(t){this.editYearschoolForm.patchValue({id:t.id,libelle:t.libelle,indice:t.indice,dateStart:t.dateStart,dateEnd:t.dateEnd})}createFromTrimestreForm(){return Object.assign(Object.assign({},new A),{id:this.editTrimestreForm.get(["id"]).value,libelle:this.editTrimestreForm.get(["libelle"]).value,indice:this.editTrimestreForm.get(["indice"]).value,date_start:this.editTrimestreForm.get(["date_start"]).value,date_end:this.editTrimestreForm.get(["date_end"]).value,year:this.editTrimestreForm.get(["year"]).value,is_clotured:this.editTrimestreForm.get(["is_clotured"]).value})}updateTrimestreForm(t){this.editTrimestreForm.patchValue({id:t.id,libelle:t.libelle,indice:t.indice,date_start:t.date_start,date_end:t.date_end,is_clotured:t.is_clotured,year:t.year.id})}createFromSequenceForm(){return Object.assign(Object.assign({},new f),{id:this.editSequenceForm.get(["id"]).value,libelle:this.editSequenceForm.get(["libelle"]).value,indice:this.editSequenceForm.get(["indice"]).value,date_start:this.editSequenceForm.get(["date_end"]).value,date_end:this.editSequenceForm.get(["date_end"]).value,pourcentage:this.editSequenceForm.get(["pourcentage"]).value,trimestre:this.editSequenceForm.get(["trimestre"]).value,is_clotured:this.editSequenceForm.get(["is_clotured"]).value})}updateSequenceForm(t){this.editSequenceForm.patchValue({id:t.id,libelle:t.libelle,indice:t.indice,pourcentage:t.pourcentage,date_start:t.date_start,date_end:t.date_end,is_clotured:t.is_clotured,trimestre:t.trimestre.id})}editsequence(t){this.updateSequenceForm(t),this.sequenceModal.show(),this.cdr.markForCheck()}edittrimestre(t){console.log(t),this.updateTrimestreForm(t),this.trimestreModal.show(),this.cdr.markForCheck()}edityear(t){this.updateYearForm(t),this.childModal.show(),this.cdr.markForCheck()}onSubmitSequence(){const t=this.createFromSequenceForm();this.tableSvc.updateSequence(t.id,{data:t}).subscribe(o=>{this.fetch(),this.sequenceModal.hide()})}onSubmitTrimestre(){const t=this.createFromTrimestreForm();console.log(t),this.tableSvc.updateTrimestre(t.id,{data:t}).subscribe(o=>{this.fetch(),this.trimestreModal.hide()})}onSelecttrimestre(t){this.tableSvc.getTrimestres().subscribe(i=>{this.temptrimestres=[...i.data],this.rowtrimestres=i.data,this.cdr.detectChanges(),console.log(this.temptrimestres)},i=>{console.log(i)})}onSelectSequence(t){this.tableSvc.getSequences().subscribe(i=>{this.tempsequences=[...i.data],this.rowsequences=i.data,this.cdr.markForCheck(),console.log(this.tempsequences)},i=>{console.log(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.tT),e.Y36(u.sK),e.Y36(a.qu),e.Y36(b.E),e.Y36(h._W),e.Y36(e.sBO),e.Y36(M.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-yearschool"]],viewQuery:function(t,i){if(1&t&&(e.Gf(d.nE,5),e.Gf(d.nE,5),e.Gf(d.nE,5),e.Gf(ge,5),e.Gf(_e,5),e.Gf(he,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.tableevaluation=o.first),e.iGM(o=e.CRH())&&(i.table=o.first),e.iGM(o=e.CRH())&&(i.tabletrimestre=o.first),e.iGM(o=e.CRH())&&(i.childModal=o.first),e.iGM(o=e.CRH())&&(i.trimestreModal=o.first),e.iGM(o=e.CRH())&&(i.sequenceModal=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(l){return i.windowResize(l)},!1,e.Jf7)},features:[e._Bn([h._W])],decls:232,vars:175,consts:[["type","pills",3,"justified"],["heading","Ann\xe9e scolaire",1,"mt-2",3,"selectTab"],[1,"card"],[1,"card-header"],[1,"card-title"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["heading","Trimestre",1,"mt-2",3,"selectTab"],[3,"rows","headerHeight","columnMode","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["tabletrimestre",""],["heading","Evaluation",1,"mt-2",3,"selectTab"],[3,"rows","headerHeight","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["tableevaluation",""],["name","Pourcentage",3,"width"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["childModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","number","formControlName","indice",1,"form-control"],["type","date","formControlName","dateStart",1,"form-control"],["type","date","formControlName","dateEnd",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["trimestreModal","bs-modal"],["id","dialog-trimestre-libelle",1,"modal-title","pull-left"],[1,"form-group",3,"hidden"],["for","field_idm",1,"form-control-label"],["type","number","name","id","id","field_idm","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["type","number","name","id","id","field_yearschool","data-cy","id","formControlName","year",1,"form-control",3,"readonly"],["type","text","name","id","id","field_is_clotured","data-cy","id","formControlName","is_clotured",1,"form-control",3,"readonly"],["type","text","formControlName","indice",1,"form-control"],["type","date","formControlName","date_start",1,"form-control"],["type","date","formControlName","date_end",1,"form-control"],["sequenceModal","bs-modal"],["id","dialog-sequence-libelle",1,"modal-title","pull-left"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["type","number","name","id","id","field_trimestre","data-cy","id","formControlName","trimestre",1,"form-control",3,"readonly"],["type","text","name","id","id","field_is_clotured2","data-cy","id","formControlName","is_clotured",1,"form-control",3,"readonly"],["type","text","formControlName","pourcentage",1,"form-control"],["template",""],["templateTrimestre",""],["templateSequence",""],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],["dropdownItem","","href","",3,"routerLink"],[1,"feather","icon-plus"],["dropdownItem","","href","javascript:void(0)",3,"click",4,"ngIf"],["dropdownItem","","disabled","","href","javascript:void(0)",3,"click"],[1,"feather","icon-trash-2"],[1,"feather","icon-check"],[1,"feather","icon-delete"],["alignment","right"],["dropdownItem","","href","javascript:void(0)",3,"routerLink"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.NdJ("selectTab",function(l){return i.onSelect(l)}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.showChildModal()}),e._UZ(8,"i",6),e.qZA(),e.qZA(),e.TgZ(9,"div",7),e.TgZ(10,"ngx-datatable",8,9),e.NdJ("activate",function(l){return i.onActivate(l)})("select",function(l){return i.onSelect(l)}),e.TgZ(12,"ngx-datatable-column",10),e.ALo(13,"translate"),e.YNc(14,fe,1,1,"ng-template",11),e.qZA(),e.TgZ(15,"ngx-datatable-column",10),e.ALo(16,"translate"),e.YNc(17,Ze,2,4,"ng-template",11),e.qZA(),e.TgZ(18,"ngx-datatable-column",10),e.ALo(19,"translate"),e.YNc(20,be,2,4,"ng-template",11),e.qZA(),e.TgZ(21,"ngx-datatable-column",10),e.ALo(22,"translate"),e.YNc(23,Te,4,3,"ng-template",11),e.qZA(),e.TgZ(24,"ngx-datatable-column",12),e.YNc(25,xe,25,14,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tab",13),e.NdJ("selectTab",function(l){return i.onSelecttrimestre(l)}),e.TgZ(27,"div",2),e.TgZ(28,"div",3),e.TgZ(29,"h5",4),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.qZA(),e.TgZ(32,"div",7),e.TgZ(33,"ngx-datatable",14,15),e.NdJ("activate",function(l){return i.onActivate(l)})("select",function(l){return i.onSelect(l)}),e.TgZ(35,"ngx-datatable-column",10),e.ALo(36,"translate"),e.YNc(37,Ce,1,1,"ng-template",11),e.qZA(),e.TgZ(38,"ngx-datatable-column",10),e.ALo(39,"translate"),e.YNc(40,Se,2,4,"ng-template",11),e.qZA(),e.TgZ(41,"ngx-datatable-column",10),e.ALo(42,"translate"),e.YNc(43,we,2,4,"ng-template",11),e.qZA(),e.TgZ(44,"ngx-datatable-column",10),e.ALo(45,"translate"),e.YNc(46,ye,4,3,"ng-template",11),e.qZA(),e.TgZ(47,"ngx-datatable-column",12),e.YNc(48,Ee,25,14,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"tab",16),e.NdJ("selectTab",function(l){return i.onSelectSequence(l)}),e.TgZ(50,"div",2),e.TgZ(51,"div",3),e.TgZ(52,"h5",4),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.qZA(),e.TgZ(55,"div",7),e.TgZ(56,"ngx-datatable",17,18),e.NdJ("activate",function(l){return i.onActivate(l)})("select",function(l){return i.onSelect(l)}),e.TgZ(58,"ngx-datatable-column",10),e.ALo(59,"translate"),e.YNc(60,Oe,1,1,"ng-template",11),e.qZA(),e.TgZ(61,"ngx-datatable-column",10),e.ALo(62,"translate"),e.YNc(63,Ne,2,4,"ng-template",11),e.qZA(),e.TgZ(64,"ngx-datatable-column",10),e.ALo(65,"translate"),e.YNc(66,Je,2,4,"ng-template",11),e.qZA(),e.TgZ(67,"ngx-datatable-column",19),e.YNc(68,Le,1,1,"ng-template",11),e.qZA(),e.TgZ(69,"ngx-datatable-column",10),e.ALo(70,"translate"),e.YNc(71,Fe,4,3,"ng-template",11),e.qZA(),e.TgZ(72,"ngx-datatable-column",12),e.YNc(73,Ie,17,6,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",20,21),e.TgZ(76,"div",22),e.TgZ(77,"div",23),e.TgZ(78,"div",24),e.TgZ(79,"h4",25),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"button",26),e.NdJ("click",function(){return i.hideChildModal()}),e.TgZ(83,"span",27),e._uU(84,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"div",28),e.TgZ(86,"form",29),e.NdJ("validSubmit",function(){return i.onSaveYear()}),e.TgZ(87,"div",30),e.TgZ(88,"div",31),e.TgZ(89,"div",32),e.TgZ(90,"label",33),e._uU(91),e.ALo(92,"translate"),e.qZA(),e._UZ(93,"input",34),e.qZA(),e.TgZ(94,"div",32),e.TgZ(95,"label",33),e._uU(96),e.ALo(97,"translate"),e.qZA(),e._UZ(98,"input",35),e.qZA(),e.TgZ(99,"div",32),e.TgZ(100,"label",33),e._uU(101),e.ALo(102,"translate"),e.qZA(),e._UZ(103,"input",36),e.qZA(),e.TgZ(104,"div",32),e.TgZ(105,"label",33),e._uU(106),e.ALo(107,"translate"),e.qZA(),e._UZ(108,"input",37),e.qZA(),e.TgZ(109,"button",38),e.NdJ("click",function(){return i.onReset()}),e._uU(110),e.ALo(111,"translate"),e.qZA(),e.TgZ(112,"button",39),e._uU(113),e.ALo(114,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(115,"div",20,40),e.TgZ(117,"div",22),e.TgZ(118,"div",23),e.TgZ(119,"div",24),e.TgZ(120,"h4",41),e._uU(121),e.ALo(122,"translate"),e.qZA(),e.TgZ(123,"button",26),e.NdJ("click",function(){return i.hideTrimestredModal()}),e.TgZ(124,"span",27),e._uU(125,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(126,"div",28),e.TgZ(127,"form",29),e.NdJ("validSubmit",function(){return i.onSubmitTrimestre()}),e.TgZ(128,"div",30),e.TgZ(129,"div",31),e.TgZ(130,"div",42),e.TgZ(131,"label",43),e._uU(132,"ID"),e.qZA(),e._UZ(133,"input",44),e.qZA(),e.TgZ(134,"div",42),e.TgZ(135,"label",43),e._uU(136,"ID"),e.qZA(),e._UZ(137,"input",45),e.qZA(),e.TgZ(138,"div",42),e.TgZ(139,"label",43),e._uU(140,"ID"),e.qZA(),e._UZ(141,"input",46),e.qZA(),e.TgZ(142,"div",32),e.TgZ(143,"label",33),e._uU(144),e.ALo(145,"translate"),e.qZA(),e._UZ(146,"input",34),e.qZA(),e.TgZ(147,"div",32),e.TgZ(148,"label",33),e._uU(149),e.ALo(150,"translate"),e.qZA(),e._UZ(151,"input",47),e.qZA(),e.TgZ(152,"div",32),e.TgZ(153,"label",33),e._uU(154),e.ALo(155,"translate"),e.qZA(),e._UZ(156,"input",48),e.qZA(),e.TgZ(157,"div",32),e.TgZ(158,"label",33),e._uU(159),e.ALo(160,"translate"),e.qZA(),e._UZ(161,"input",49),e.qZA(),e.TgZ(162,"button",38),e.NdJ("click",function(){return i.onReset()}),e._uU(163),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"button",39),e._uU(166),e.ALo(167,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(168,"div",20,50),e.TgZ(170,"div",22),e.TgZ(171,"div",23),e.TgZ(172,"div",24),e.TgZ(173,"h4",51),e._uU(174),e.ALo(175,"translate"),e.qZA(),e.TgZ(176,"button",26),e.NdJ("click",function(){return i.hideSequenceModal()}),e.TgZ(177,"span",27),e._uU(178,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(179,"div",28),e.TgZ(180,"form",29),e.NdJ("validSubmit",function(){return i.onSubmitSequence()}),e.TgZ(181,"div",30),e.TgZ(182,"div",31),e.TgZ(183,"div",42),e.TgZ(184,"label",43),e._uU(185,"ID"),e.qZA(),e._UZ(186,"input",52),e.qZA(),e.TgZ(187,"div",42),e.TgZ(188,"label",43),e._uU(189,"trimestre"),e.qZA(),e._UZ(190,"input",53),e.qZA(),e.TgZ(191,"div",42),e.TgZ(192,"label",43),e._uU(193,"is_clotured"),e.qZA(),e._UZ(194,"input",54),e.qZA(),e.TgZ(195,"div",32),e.TgZ(196,"label",33),e._uU(197),e.ALo(198,"translate"),e.qZA(),e._UZ(199,"input",34),e.qZA(),e.TgZ(200,"div",32),e.TgZ(201,"label",33),e._uU(202),e.ALo(203,"translate"),e.qZA(),e._UZ(204,"input",47),e.qZA(),e.TgZ(205,"div",32),e.TgZ(206,"label",33),e._uU(207),e.ALo(208,"translate"),e.qZA(),e._UZ(209,"input",55),e.qZA(),e.TgZ(210,"div",32),e.TgZ(211,"label",33),e._uU(212),e.ALo(213,"translate"),e.qZA(),e._UZ(214,"input",48),e.qZA(),e.TgZ(215,"div",32),e.TgZ(216,"label",33),e._uU(217),e.ALo(218,"translate"),e.qZA(),e._UZ(219,"input",49),e.qZA(),e.TgZ(220,"button",38),e.NdJ("click",function(){return i.onReset()}),e._uU(221),e.ALo(222,"translate"),e.qZA(),e.TgZ(223,"button",39),e._uU(224),e.ALo(225,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(226,Re,7,1,"ng-template",null,56,e.W1O),e.YNc(228,He,7,1,"ng-template",null,57,e.W1O),e.YNc(230,Ge,7,1,"ng-template",null,58,e.W1O)),2&t&&(e.Q6J("justified",!0),e.xp6(5),e.Oqu(e.lcZ(6,98,"title.annee")),e.xp6(5),e.Q6J("rows",i.rows)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("selectionType",i.SelectionType.checkbox)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(13,100,"fields.libelle")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(16,102,"fields.datedebut")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(19,104,"fields.datefin")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(22,106,"fields.isclotured")),e.Q6J("width",170),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(31,108,"title.trimestre")),e.xp6(3),e.Q6J("rows",i.rowtrimestres)("headerHeight",50)("columnMode",i.columnMode)("footerHeight",150)("limit",10)("selectionType",i.SelectionType.checkbox)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(36,110,"fields.libelle")),e.Q6J("width",270),e.xp6(3),e.s9C("name",e.lcZ(39,112,"fields.datedebut")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(42,114,"fields.datefin")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(45,116,"fields.isclotured")),e.Q6J("width",170),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(54,118,"title.sequence")),e.xp6(3),e.Q6J("rows",i.rowsequences)("headerHeight",50)("footerHeight",100)("limit",10)("selectionType",i.SelectionType.checkbox)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(59,120,"fields.libelle")),e.Q6J("width",270),e.xp6(3),e.s9C("name",e.lcZ(62,122,"fields.datedebut")),e.Q6J("width",170),e.xp6(3),e.s9C("name",e.lcZ(65,124,"fields.datefin")),e.Q6J("width",120),e.xp6(3),e.Q6J("width",120),e.xp6(2),e.s9C("name",e.lcZ(70,126,"fields.isclotured")),e.Q6J("width",170),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(172,ie)),e.xp6(6),e.Oqu(e.lcZ(81,128,"title.addannee")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Oqu(e.lcZ(92,130,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(97,132,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(102,134,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(107,136,"fields.datefin")),e.xp6(4),e.Oqu(e.lcZ(111,138,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(114,140,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(173,ie)),e.xp6(6),e.Oqu(e.lcZ(122,142,"title.addtrimestre")),e.xp6(6),e.Q6J("formGroup",i.editTrimestreForm),e.xp6(3),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(145,144,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(150,146,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(155,148,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(160,150,"fields.datefin")),e.xp6(4),e.Oqu(e.lcZ(164,152,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(167,154,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(174,ie)),e.xp6(6),e.Oqu(e.lcZ(175,156,"title.addsequence")),e.xp6(6),e.Q6J("formGroup",i.editSequenceForm),e.xp6(3),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(198,158,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(203,160,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(208,162,"fields.pourcentage")),e.xp6(5),e.Oqu(e.lcZ(213,164,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(218,166,"fields.datefin")),e.xp6(4),e.Oqu(e.lcZ(222,168,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(225,170,"action.save")))},directives:[L.AH,L.wW,d.nE,d.UC,d.vq,s.oB,a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,T.mk,S.L,z.h,Q.h,v.yS,T.O5],pipes:[u.X$,T.uU],styles:[""]}),n})();function Pe(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function De(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_start,"dd/MM/yyyy")," ")}function ze(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_end,"dd/MM/yyyy")," ")}function Qe(n,r){if(1&n&&(e.TgZ(0,"div",20),e._UZ(1,"span",21),e.TgZ(2,"span",22),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}let je=(()=>{class n{constructor(t,i,o,l,c,g){this.formBuilder=t,this.toaster=i,this.translateService=o,this.route=l,this.cdr=c,this.service=g,this.rows=[],this.columns=[{prop:"libelle"},{name:"Date debut"},{name:"Date fin"}],this.editTrimestreForm=this.formBuilder.group({id:[],libelle:[],year:[],is_clotured:[],indice:[null,[a.kI.required]],date_start:[null,[a.kI.required]],date_end:[null,[a.kI.required]]}),this.hideId=!0}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[a.kI.required]],indice:["",[a.kI.required]],dateStart:[,a.kI.required],dateEnd:[,a.kI.required]}),this.service.getTrimestresByyear(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}createFromTrimestreForm(){return Object.assign(Object.assign({},new A),{id:this.editTrimestreForm.get(["id"]).value,libelle:this.editTrimestreForm.get(["libelle"]).value,indice:this.editTrimestreForm.get(["indice"]).value,date_start:this.editTrimestreForm.get(["date_start"]).value,date_end:this.editTrimestreForm.get(["date_end"]).value,is_clotured:this.editTrimestreForm.get(["is_clotured"]).value})}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,indice:this.formGroup.value.indice,date_start:this.formGroup.value.dateStart,date_end:this.formGroup.value.dateEnd,is_clotured:!0,year:this.route.snapshot.paramMap.get("id")}};this.service.addTrimestre(t).subscribe(i=>{this.service.getTrimestresByyear(this.route.snapshot.paramMap.get("id")).subscribe(o=>{this.rows=o.data,this.cdr.markForCheck(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")})},i=>this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")),console.log(t)}onSubmit(){console.log(this.formGroup)}onReset(){console.log(this.formGroup)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(h._W),e.Y36(u.sK),e.Y36(v.gz),e.Y36(e.sBO),e.Y36(b.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-trimestre"]],features:[e._Bn([h._W])],decls:52,vars:39,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["name","indice","type","number","formControlName","indice",1,"form-control"],["type","date","formControlName","dateStart",1,"form-control"],["type","date","formControlName","dateEnd",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],[3,"name","width"],["ngx-datatable-cell-template",""],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return i.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"label",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"div",8),e.TgZ(21,"label",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",12),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"label",9),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"div",14),e.TgZ(31,"button",15),e.NdJ("click",function(){return i.onReset()}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",16),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",0),e.TgZ(38,"div",6),e.TgZ(39,"ngx-datatable",17),e.TgZ(40,"ngx-datatable-column",18),e.ALo(41,"translate"),e.YNc(42,Pe,1,1,"ng-template",19),e.qZA(),e.TgZ(43,"ngx-datatable-column",18),e.ALo(44,"translate"),e.YNc(45,De,2,4,"ng-template",19),e.qZA(),e.TgZ(46,"ngx-datatable-column",18),e.ALo(47,"translate"),e.YNc(48,ze,2,4,"ng-template",19),e.qZA(),e.TgZ(49,"ngx-datatable-column",18),e.ALo(50,"translate"),e.YNc(51,Qe,4,3,"ng-template",19),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,17,"title.addtrimestre")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(3),e.Oqu(e.lcZ(13,19,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(18,21,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(23,23,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(28,25,"fields.datefin")),e.xp6(5),e.Oqu(e.lcZ(33,27,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(36,29,"action.save")),e.xp6(4),e.Q6J("rows",i.rows),e.xp6(1),e.s9C("name",e.lcZ(41,31,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(44,33,"fields.datedebut")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(47,35,"fields.datefin")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(50,37,"fields.isclotured")),e.Q6J("width",70))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,d.nE,d.UC,d.vq,T.mk],pipes:[u.X$,T.uU],styles:[""]}),n})();var Be=m(735),le=m(5994);const $e=["caisseModal"],Ke=["deleteModal"];function Ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"div",72),e.TgZ(9,"button",73),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().edit(l)}),e._UZ(10,"i",74),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",75),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().delete(l)}),e._UZ(14,"i",71),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.libelle),e.xp6(2),e.Oqu(t.code),e.xp6(5),e.hij("",e.lcZ(12,5,"action.edit")," "),e.xp6(4),e.hij("",e.lcZ(16,7,"action.delete")," ")}}function We(n,r){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value),e.xp6(2),e.Oqu(t.value)}}const se=function(){return{backdrop:"static"}};let Xe=(()=>{class n{constructor(t,i,o){this.formBuilder=t,this.tableSvc=i,this.cdr=o,this.rowcaisses=[],this.rowtimestable=[],this.listdays=[]}ngOnInit(){this.formGroup=this.formBuilder.group({name:[,[a.kI.required]],phone:[,[a.kI.required]],slogan:[,[a.kI.required]],localisation:[,[a.kI.required]],sequenceByTrimestre:[,[a.kI.required]],directeur:[,[a.kI.required]],formatMatricule:[,[a.kI.required]],enableSignature:[!1,[a.kI.requiredTrue]],activateMutiAffectation:[!1,[a.kI.requiredTrue]],minMatiereComposition:[,[a.kI.required]],minCompositionTrimestre:[,[a.kI.required]],minEncouragement:[,[a.kI.required]],minFelicitation:[,[a.kI.nullValidator]],minBlame:[,[a.kI.nullValidator]],devise:[,[a.kI.nullValidator]],minTableauHonneur:[,[a.kI.nullValidator]],signature:[,[a.kI.nullValidator]]}),this.formGroupcaisse=this.formBuilder.group({libelle:[null,[a.kI.required]],code:[null,[a.kI.required]],hasretraitespece:[null,[a.kI.required]],maxretraitoperation:[null,[a.kI.required]],maxretraitperiode:[null,[a.kI.required]],hastransfertretrait:[null,[a.kI.required]]}),this.formGrouptimestable=this.formBuilder.group({sceanceparjour:[null,[a.kI.required]],debutjour:[null,[a.kI.required]],dureesceance:[null,[a.kI.required]],firstpause:[null,[a.kI.required]],firstpausedurree:[null,[a.kI.required]],secondpause:[null,[a.kI.required]],secondpausedurree:[null,[a.kI.required]]}),this.tableSvc.getConfiguration().subscribe(t=>{this.row=t.data,this.resetForm(t.data)},t=>{console.log(t)}),this.tableSvc.getCaisses().subscribe(t=>{this.rowcaisses=t.data},t=>{console.log(t)})}resetForm(t){this.formGroup.reset({name:t.name,devise:t.devise,localisation:t.localisation,phone:t.phone,slogan:t.slogan,sequenceByTrimestre:t.sequence_by_trimestre,directeur:t.directeur,formatMatricule:t.format_matricule,enableSignature:t.enable_signature,activateMutiAffectation:t.activate_muti_affectation,minMatiereComposition:t.min_matiere_composition,minCompositionTrimestre:t.min_composition_trimestre,minFelicitation:t.min_felicitation,minEncouragement:t.min_encouragement,minBlame:t.min_blame,minTableauHonneur:t.min_tableauHonneur,signature:t.signature}),this.formGrouptimestable.reset({sceanceparjour:t.timetablesceanceday,debutjour:t.timetabletimebegin,dureesceance:t.timetablesceanceduration,firstpause:t.timetablefirstpause,firstpausedurree:t.timetablefirstpauseduration,secondpause:t.timetablesecondpause,secondpausedurree:t.timetablesecondpauseduration})}onReset(){console.log(this.formGroup.value)}onSubmit(){const t={data:this.formGroup.value};console.log(t),this.tableSvc.addConfiguration(t).subscribe(i=>{this.resetForm(i.data)},i=>{console.log(i)})}onSubmitCaisse(){const t={data:this.formGroupcaisse.value};console.log(t),this.tableSvc.addCaisse(t).subscribe(i=>{this.tableSvc.getCaisses().subscribe(o=>{this.rowcaisses=o.data},o=>{console.log(o)}),this.formGroupcaisse.reset(),this.hideChildModal(),this.cdr.detectChanges()},i=>{console.log(i),this.hideChildModal()})}showChildModal(){this.caisseModal.show()}hideChildModal(){this.caisseModal.hide()}edit(t){this.formGroupcaisse=this.formBuilder.group({libelle:[t.libelle,[a.kI.required]],code:[t.code,[a.kI.required]],hasretraitespece:[t.hasretraitespece,[a.kI.required]],maxretraitoperation:[t.maxretraitoperation,[a.kI.required]],maxretraitperiode:[t.maxretraitperiode,[a.kI.required]],hastransfertretrait:[t.hastransfertretrait,[a.kI.required]]}),this.caisseModal.show()}delete(t){this.rowdelete=t,this.deleteModal.show()}deleteConfirm(t){console.log(t)}closeDelete(){this.deleteModal.hide()}updatesceance(){this.listdays=[];let o=0,l=this.formGrouptimestable.value.sceanceparjour;console.log(this.formGrouptimestable.value);const g=this.formGrouptimestable.value.debutjour.split(":"),w="10:45".split(":");console.log(g);const C=parseInt(w[0])-parseInt(g[0]);for(let E=0;E<C;E++){o+=1;const Y=parseInt(g[0])+E+":"+g[1]+" => "+(parseInt(g[0])+E+1)+":"+g[1];this.listdays.push({name:Y,hour:g[0],minuite:g[1]})}this.listdays.push({name:"10:30 => 10:45",value:"pause"});const q="13:00".split(":"),F=parseInt(q[0])-parseInt(w[0]);for(let E=0;E<F;E++){o+=1;const Y=parseInt(w[0])+E+":"+w[1]+" => "+(parseInt(w[0])+E+1)+":"+w[1];this.listdays.push({name:Y,hour:w[0],minuite:w[1]})}this.listdays.push({name:"12:45 => 13:00",value:"pause"}),l-=o;for(let E=0;E<l;E++){const Y=parseInt(q[0])+E+":"+q[1]+" => "+(parseInt(q[0])+E+1)+":"+q[1];this.listdays.push({name:Y,hour:q[0],minuite:q[1]})}console.log(this.listdays)}updateTimes(){this.listdays=[];const t=[],i=this.formGrouptimestable.value.sceanceparjour,o=this.formGrouptimestable.value.debutjour,l=this.formGrouptimestable.value.dureesceance,c=this.formGrouptimestable.value.secondpausedurree,g=this.formGrouptimestable.value.secondpause,k=this.formGrouptimestable.value.firstpausedurree,w=this.formGrouptimestable.value.firstpause,C=this.createNumberSceacnce(i,o,l,w,k,g,c);for(let q=0;q<C.length-1;q++)if(Number.isInteger(C[q].number)){const F=C[q].heure+":"+C[q].minuite+"=>"+C[q+1].heure+":"+C[q+1].minuite;this.listdays.push({name:F,hour:C[q].heure,minuite:C[q].minuite}),t.push({position:q,ispause:!1,periode:F})}else{const F=C[q].heure+":"+C[q].minuite+"=>"+C[q+1].heure+":"+C[q+1].minuite;this.listdays.push({name:F,hour:C[q].heure,minuite:C[q].minuite,value:C[q].number}),t.push({position:q,ispause:!0,periode:F})}this.tableSvc.addConfigurationTimestable({data:{configuration:{firstpause:w,firstpauseduration:k,secondpause:g,secondpauseduration:c,sceanceday:i,sceanceduration:l,timebegin:o},timestable:t}}).subscribe(q=>{console.log(q.data)},q=>{console.log(q),this.hideChildModal()})}createNumberSceacnce(t,i,o,l,c,g,k){const w=l,C=c.split(":"),G=g,q=k.split(":"),F=o.split(":"),E=i.split(":"),P=[];P.push({number:0,heure:E[0],minuite:E[1]});for(let $=1;$<t;$++){let x=parseInt(E[1])+parseInt(F[1]),y=parseInt(E[0])+parseInt(F[0]);x>=60&&(y+=1,x-=60),$===w&&(P.push({number:"Frirst pause",heure:y,minuite:x}),x+=parseInt(C[1]),x>=60&&(y+=1,x-=60)),$===G&&(P.push({number:"Second pause",heure:y,minuite:x}),x+=parseInt(q[1]),x>=60&&(y+=1,x-=60)),E[1]=x,E[0]=y,P.push({number:$,heure:y,minuite:x})}return console.log(P),P}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(Be.e),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-configuration"]],viewQuery:function(t,i){if(1&t&&(e.Gf($e,5),e.Gf(Ke,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.caisseModal=o.first),e.iGM(o=e.CRH())&&(i.deleteModal=o.first)}},features:[e._Bn([h._W])],decls:265,vars:146,consts:[[3,"justified"],["id","tab1",3,"heading"],[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-4"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","devise",1,"form-control"],["type","text","formControlName","directeur",1,"form-control"],["type","text","formControlName","localisation",1,"form-control"],["type","text","formControlName","slogan",1,"form-control"],["type","text","formControlName","formatMatricule",1,"form-control"],[1,"form-check","form-switch","col-md-4"],[1,"form-check-label","ms-2"],["type","checkbox","formControlName","enableSignature",1,"form-check-input"],["type","checkbox","formControlName","activateMutiAffectation",1,"form-check-input"],["type","text","formControlName","sequenceByTrimestre",1,"form-control"],["type","text","formControlName","minMatiereComposition",1,"form-control"],["type","text","formControlName","minCompositionTrimestre",1,"form-control"],["type","text","formControlName","minEncouragement",1,"form-control"],["type","text","formControlName","minFelicitation",1,"form-control"],["type","text","formControlName","minBlame",1,"form-control"],["type","text","formControlName","signature",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","submit",1,"btn","btn-primary"],[3,"heading"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[3,"formGroup","validSubmit"],[1,"row"],[1,"form-group","mb-3","col-md-3"],["type","number","formControlName","sceanceparjour",1,"form-control",3,"min"],[1,"form-group","col-md-3"],["type","time","formControlName","dureesceance",1,"form-control",3,"min"],["type","time","formControlName","debutjour",1,"form-control"],["type","number","formControlName","firstpause",1,"form-control",3,"min"],["type","time","formControlName","firstpausedurree",1,"form-control"],["type","number","formControlName","secondpause",1,"form-control",3,"min"],["type","time","formControlName","secondpausedurree",1,"form-control"],[1,"table","table-striped","table-bordered"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["caisseModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","code",1,"form-control"],["formControlName","hasretraitespece","single","true"],["formControlName","hastransfertretrait","single","true"],["type","number","formControlName","maxretraitoperation",1,"form-control"],["type","number","formControlName","maxretraitperiode",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["deleteModal","bs-modal"],["id","dialog-delete-name",1,"modal-title","pull-left"],["type","button",1,"btn","btn-warning","m-3",3,"click"],[1,"la","la-times"],["type","button",1,"btn","btn-success",3,"click"],[1,"la","la-remove"],[1,"btn-group"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"la","la-edit"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.ALo(2,"translate"),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"h4",4),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"form",6),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(10,"div",7),e.TgZ(11,"label",8),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"label",8),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",7),e.TgZ(21,"label",8),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",11),e.qZA(),e.TgZ(25,"div",7),e.TgZ(26,"label",8),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",12),e.qZA(),e.TgZ(30,"div",7),e.TgZ(31,"label",8),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",13),e.qZA(),e.TgZ(35,"div",7),e.TgZ(36,"label",8),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",14),e.qZA(),e.TgZ(40,"div",7),e.TgZ(41,"label",8),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",15),e.qZA(),e.TgZ(45,"div",16),e.TgZ(46,"label",17),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"input",18),e.qZA(),e.TgZ(50,"div",16),e.TgZ(51,"label",17),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"input",19),e.qZA(),e.TgZ(55,"div",7),e.TgZ(56,"label",8),e._uU(57),e.ALo(58,"translate"),e.qZA(),e._UZ(59,"input",20),e.qZA(),e.TgZ(60,"div",7),e.TgZ(61,"label",8),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"input",21),e.qZA(),e.TgZ(65,"div",7),e.TgZ(66,"label",8),e._uU(67),e.ALo(68,"translate"),e.qZA(),e._UZ(69,"input",22),e.qZA(),e.TgZ(70,"div",7),e.TgZ(71,"label",8),e._uU(72),e.ALo(73,"translate"),e.qZA(),e._UZ(74,"input",23),e.qZA(),e.TgZ(75,"div",7),e.TgZ(76,"label",8),e._uU(77),e.ALo(78,"translate"),e.qZA(),e._UZ(79,"input",24),e.qZA(),e.TgZ(80,"div",7),e.TgZ(81,"label",8),e._uU(82),e.ALo(83,"translate"),e.qZA(),e._UZ(84,"input",25),e.qZA(),e.TgZ(85,"div",7),e.TgZ(86,"label",8),e._uU(87,"signature"),e.qZA(),e._UZ(88,"input",26),e.qZA(),e._UZ(89,"br"),e.TgZ(90,"div",27),e.TgZ(91,"button",28),e._uU(92),e.ALo(93,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"tab",29),e.ALo(95,"translate"),e.TgZ(96,"div",2),e.TgZ(97,"div",3),e.TgZ(98,"h4",4),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.TgZ(101,"div",30),e.TgZ(102,"button",31),e.NdJ("click",function(){return i.showChildModal()}),e._UZ(103,"i",32),e._uU(104),e.ALo(105,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(106,"div",5),e.TgZ(107,"table",33),e.TgZ(108,"thead"),e.TgZ(109,"tr"),e.TgZ(110,"th",34),e._uU(111,"#"),e.qZA(),e.TgZ(112,"th",34),e._uU(113,"Libelle"),e.qZA(),e.TgZ(114,"th",34),e._uU(115,"Code"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"tbody"),e.YNc(117,Ve,17,9,"tr",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(118,"tab",29),e.ALo(119,"translate"),e.TgZ(120,"div",2),e.TgZ(121,"div",3),e.TgZ(122,"h4",4),e._uU(123),e.ALo(124,"translate"),e.qZA(),e.qZA(),e.TgZ(125,"div",5),e.TgZ(126,"form",36),e.NdJ("validSubmit",function(){return i.updateTimes()}),e.TgZ(127,"div",37),e.TgZ(128,"div",38),e.TgZ(129,"label",8),e._uU(130),e.ALo(131,"translate"),e.qZA(),e._UZ(132,"input",39),e.qZA(),e.TgZ(133,"div",40),e.TgZ(134,"label",8),e._uU(135),e.ALo(136,"translate"),e.qZA(),e._UZ(137,"input",41),e.qZA(),e.TgZ(138,"div",40),e.TgZ(139,"label",8),e._uU(140),e.ALo(141,"translate"),e.qZA(),e._UZ(142,"input",42),e.qZA(),e.qZA(),e.TgZ(143,"div",37),e.TgZ(144,"div",40),e.TgZ(145,"label",8),e._uU(146),e.ALo(147,"translate"),e.qZA(),e._UZ(148,"input",43),e.qZA(),e.TgZ(149,"div",40),e.TgZ(150,"label",8),e._uU(151),e.ALo(152,"translate"),e.qZA(),e._UZ(153,"input",44),e.qZA(),e.TgZ(154,"div",40),e.TgZ(155,"label",8),e._uU(156),e.ALo(157,"translate"),e.qZA(),e._UZ(158,"input",45),e.qZA(),e.TgZ(159,"div",40),e.TgZ(160,"label",8),e._uU(161),e.ALo(162,"translate"),e.qZA(),e._UZ(163,"input",46),e.qZA(),e.qZA(),e._UZ(164,"br"),e.TgZ(165,"div",27),e.TgZ(166,"button",28),e._uU(167),e.ALo(168,"translate"),e.qZA(),e.qZA(),e.qZA(),e._UZ(169,"br"),e.TgZ(170,"table",47),e.TgZ(171,"thead"),e.TgZ(172,"tr"),e.TgZ(173,"th",34),e._uU(174,"Horaires"),e.qZA(),e.TgZ(175,"th",34),e._uU(176,"Lundi"),e.qZA(),e.TgZ(177,"th",34),e._uU(178,"Mardi"),e.qZA(),e.TgZ(179,"th",34),e._uU(180,"Mercredi"),e.qZA(),e.TgZ(181,"th",34),e._uU(182,"Jeudi"),e.qZA(),e.TgZ(183,"th",34),e._uU(184,"Vendredi"),e.qZA(),e.TgZ(185,"th",34),e._uU(186,"Samedi"),e.qZA(),e.TgZ(187,"th",34),e._uU(188,"Dimanche"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(189,"tbody"),e.YNc(190,We,17,8,"tr",35),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(191,"div",48,49),e.TgZ(193,"div",50),e.TgZ(194,"div",51),e.TgZ(195,"div",52),e.TgZ(196,"h4",53),e._uU(197),e.ALo(198,"translate"),e.qZA(),e.TgZ(199,"button",54),e.NdJ("click",function(){return i.hideChildModal()}),e.TgZ(200,"span",55),e._uU(201,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(202,"div",56),e.TgZ(203,"form",36),e.NdJ("validSubmit",function(){return i.onSubmitCaisse()}),e.TgZ(204,"div",37),e.TgZ(205,"div",57),e.TgZ(206,"div",58),e.TgZ(207,"label",8),e._uU(208),e.ALo(209,"translate"),e.qZA(),e._UZ(210,"input",59),e.qZA(),e.TgZ(211,"div",58),e.TgZ(212,"label",8),e._uU(213),e.ALo(214,"translate"),e.qZA(),e._UZ(215,"input",60),e.qZA(),e.TgZ(216,"div",58),e.TgZ(217,"label",8),e._uU(218),e.ALo(219,"translate"),e.qZA(),e._UZ(220,"checkbox",61),e.qZA(),e.TgZ(221,"div",58),e.TgZ(222,"label",8),e._uU(223),e.ALo(224,"translate"),e.qZA(),e._UZ(225,"checkbox",62),e.qZA(),e.TgZ(226,"div",58),e.TgZ(227,"label",8),e._uU(228),e.ALo(229,"translate"),e.qZA(),e._UZ(230,"input",63),e.qZA(),e.TgZ(231,"div",58),e.TgZ(232,"label",8),e._uU(233),e.ALo(234,"translate"),e.qZA(),e._UZ(235,"input",64),e.qZA(),e.TgZ(236,"button",65),e.NdJ("click",function(){return i.onReset()}),e._uU(237),e.ALo(238,"translate"),e.qZA(),e.TgZ(239,"button",28),e._uU(240),e.ALo(241,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(242,"div",48,66),e.TgZ(244,"div",50),e.TgZ(245,"div",51),e.TgZ(246,"div",52),e.TgZ(247,"h4",67),e._uU(248),e.ALo(249,"translate"),e.qZA(),e.TgZ(250,"button",54),e.NdJ("click",function(){return i.hideChildModal()}),e.TgZ(251,"span",55),e._uU(252,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(253,"div",56),e.TgZ(254,"h4"),e._uU(255),e.ALo(256,"translate"),e.qZA(),e.TgZ(257,"button",68),e.NdJ("click",function(){return i.closeDelete()}),e._UZ(258,"i",69),e._uU(259),e.ALo(260,"translate"),e.qZA(),e.TgZ(261,"button",70),e.NdJ("click",function(){return i.deleteConfirm(i.rowdelete)}),e._UZ(262,"i",71),e._uU(263),e.ALo(264,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("justified",!0),e.xp6(1),e.s9C("heading",e.lcZ(2,56,"title.configuration")),e.xp6(5),e.Oqu(e.lcZ(7,58,"title.configuration")),e.xp6(3),e.Q6J("formGroup",i.formGroup),e.xp6(3),e.Oqu(e.lcZ(13,60,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(18,62,"fields.phone")),e.xp6(5),e.Oqu(e.lcZ(23,64,"fields.devise")),e.xp6(5),e.Oqu(e.lcZ(28,66,"fields.directeur")),e.xp6(5),e.Oqu(e.lcZ(33,68,"fields.localisation")),e.xp6(5),e.Oqu(e.lcZ(38,70,"fields.slogan")),e.xp6(5),e.Oqu(e.lcZ(43,72,"fields.formatmatricule")),e.xp6(5),e.Oqu(e.lcZ(48,74,"fields.activesignature")),e.xp6(5),e.Oqu(e.lcZ(53,76,"fields.activemutiaffectation")),e.xp6(5),e.Oqu(e.lcZ(58,78,"fields.sequencebytrimestre")),e.xp6(5),e.Oqu(e.lcZ(63,80,"fields.minmatierecomposition")),e.xp6(5),e.Oqu(e.lcZ(68,82,"fields.mincompositiontrimestre")),e.xp6(5),e.Oqu(e.lcZ(73,84,"fields.minencouragement")),e.xp6(5),e.Oqu(e.lcZ(78,86,"fields.minfelicitation")),e.xp6(5),e.Oqu(e.lcZ(83,88,"fields.minblame")),e.xp6(10),e.Oqu(e.lcZ(93,90,"action.save")),e.xp6(2),e.s9C("heading",e.lcZ(95,92,"title.caisseconfig")),e.xp6(5),e.Oqu(e.lcZ(100,94,"title.caisseconfig")),e.xp6(5),e.Oqu(e.lcZ(105,96,"action.add")),e.xp6(13),e.Q6J("ngForOf",i.rowcaisses),e.xp6(1),e.s9C("heading",e.lcZ(119,98,"title.emploisdetemps")),e.xp6(5),e.Oqu(e.lcZ(124,100,"title.emploisdetemps")),e.xp6(3),e.Q6J("formGroup",i.formGrouptimestable),e.xp6(4),e.Oqu(e.lcZ(131,102,"fields.sceanceparjour")),e.xp6(2),e.Q6J("min",3),e.xp6(3),e.Oqu(e.lcZ(136,104,"fields.dureesceance")),e.xp6(2),e.Q6J("min",1),e.xp6(3),e.Oqu(e.lcZ(141,106,"fields.debutjour")),e.xp6(6),e.Oqu(e.lcZ(147,108,"fields.firstpause")),e.xp6(2),e.Q6J("min",1),e.xp6(3),e.Oqu(e.lcZ(152,110,"fields.firstpausedurree")),e.xp6(5),e.Oqu(e.lcZ(157,112,"fields.secondpause")),e.xp6(2),e.Q6J("min",1),e.xp6(3),e.Oqu(e.lcZ(162,114,"fields.secondpausedurree")),e.xp6(6),e.Oqu(e.lcZ(168,116,"action.save")),e.xp6(23),e.Q6J("ngForOf",i.listdays),e.xp6(1),e.Q6J("config",e.DdM(144,se)),e.xp6(6),e.Oqu(e.lcZ(198,118,"title.caisse")),e.xp6(6),e.Q6J("formGroup",i.formGroupcaisse),e.xp6(5),e.Oqu(e.lcZ(209,120,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(214,122,"fields.code")),e.xp6(5),e.Oqu(e.lcZ(219,124,"fields.hasretraitespece")),e.xp6(5),e.Oqu(e.lcZ(224,126,"fields.hastransfertretrait")),e.xp6(5),e.Oqu(e.lcZ(229,128,"fields.maxretraitoperation")),e.xp6(5),e.Oqu(e.lcZ(234,130,"fields.maxretraitperiode")),e.xp6(4),e.Oqu(e.lcZ(238,132,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(241,134,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(145,se)),e.xp6(6),e.Oqu(e.lcZ(249,136,"title.confirmdelete")),e.xp6(7),e.Oqu(e.lcZ(256,138,"title.acceptdelete")),e.xp6(4),e.hij("",e.lcZ(260,140,"action.cancel")," "),e.xp6(4),e.hij("",e.lcZ(264,142,"action.delete")," "))},directives:[L.AH,L.wW,a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.Wl,T.sg,a.wV,a.qQ,s.oB,le.b],pipes:[u.X$],styles:[""]}),n})();var H=m(1541),j=m(965),ce=m(1841),ne=m(2340),et=m(5917),tt=m(3342),it=m(5304);let V=(()=>{class n{constructor(t){this.http=t,this.apiUrl=ne.N.API_URL+"scolaritesettings",this.apiUrltranche=ne.N.API_URL+"tranches",this.apiUrlscolaritesetting=ne.N.API_URL+"scolaritesettings",this.httpOptions={headers:new ce.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getScolarite(){return this.http.get(this.apiUrl,this.httpOptions)}getScolariteId(t){return this.http.get(`${this.apiUrl}/${t}`)}getScolariteByNiveau(t){return this.http.get(`${this.apiUrl}/${t}`).pipe((0,tt.b)(o=>console.log(`fetched product id=${t}`)),(0,it.K)(this.handleError(`getProduct id=${t}`)))}addScolarite(t){return this.http.post(this.apiUrl,t,this.httpOptions)}editScolarite(t,i){return this.http.put(`${this.apiUrl}/${i}/put`,t,this.httpOptions)}updatetranchescolarite(t,i){return this.http.put(`${this.apiUrl}/${i}/line`,t,this.httpOptions)}deletetranchescolarite(t){return this.http.delete(`${this.apiUrl}/${t}/deleteline`,this.httpOptions)}deletescolarite(t){return this.http.delete(`${this.apiUrl}/${t}/delete`,this.httpOptions)}getTranche(){return this.http.get(this.apiUrltranche,this.httpOptions)}addTranche(t){return this.http.post(this.apiUrltranche,t,this.httpOptions)}editTranche(t,i){return this.http.put(`${this.apiUrltranche}/${i}`,t)}handleError(t="operation",i){return o=>(console.error(o),(0,et.of)(i))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ce.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nt=["detailModal"];function ot(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.niveau.libelle," ")}function rt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.montant_pension," ")}function at(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.frais_inscription_new," ")}function lt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.frais_inscriprion_old," ")}const st=function(n){return["/administration/editscolariteniveau",n]};function ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",26),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",27),e._UZ(2,"i",28),e.qZA(),e.TgZ(3,"dropdown-menu",29,30),e.TgZ(5,"a",31),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().detailScolarite(l)}),e.TgZ(6,"div",32),e._UZ(7,"i",33),e.TgZ(8,"span",34),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",35),e.TgZ(12,"div",32),e._UZ(13,"i",36),e.TgZ(14,"span",34),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",31),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().delete(l)}),e.TgZ(18,"div",32),e._UZ(19,"i",37),e.TgZ(20,"span",34),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.row;e.xp6(9),e.Oqu(e.lcZ(10,4,"action.show")),e.xp6(2),e.Q6J("routerLink",e.VKq(10,st,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,6,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(22,8,"action.delete"))}}function dt(n,r){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.tranche.libelle," "),e.xp6(2),e.hij(" ",t.montant," "),e.xp6(2),e.hij(" ",t.limit_date," "),e.xp6(2),e.hij(" ",t.cumulmontant," ")}}function ut(n,r){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"dl",38),e.TgZ(2,"dt"),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"dd"),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"dt"),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.qZA(),e.TgZ(13,"dd"),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"dt"),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"dd"),e.TgZ(21,"span"),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"dt"),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.TgZ(27,"dd"),e.TgZ(28,"span"),e._uU(29),e.qZA(),e.qZA(),e.qZA(),e.TgZ(30,"div",39),e.TgZ(31,"div",40),e.TgZ(32,"table",41),e.TgZ(33,"thead"),e.TgZ(34,"tr"),e.TgZ(35,"th"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"th"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"th"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"th"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"tbody"),e.YNc(48,dt,9,4,"tr",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,13,"fields.niveau")),e.xp6(4),e.Oqu(t.scolarite.niveau.libelle),e.xp6(3),e.Oqu(e.lcZ(12,15,"fields.montantpension")),e.xp6(4),e.Oqu(t.scolarite.montant_pension),e.xp6(3),e.Oqu(e.lcZ(19,17,"fields.fraisinscriptionnew")),e.xp6(4),e.Oqu(t.scolarite.frais_inscription_new),e.xp6(3),e.Oqu(e.lcZ(26,19,"fields.fraisinscriptionold")),e.xp6(4),e.Oqu(t.scolarite.frais_inscriprion_old),e.xp6(7),e.Oqu(e.lcZ(37,21,"fields.tranche")),e.xp6(3),e.Oqu(e.lcZ(40,23,"fields.montant")),e.xp6(3),e.Oqu(e.lcZ(43,25,"fields.datelimite")),e.xp6(3),e.Oqu(e.lcZ(46,27,"fields.montantcumul")),e.xp6(3),e.Q6J("ngForOf",t.tranchescolarites)}}const mt=function(){return{backdrop:"static"}};let pt=(()=>{class n{constructor(t,i,o,l,c,g,k,w){this.toaster=t,this.translateService=i,this.service=o,this.scolariteService=l,this.router=c,this.cdr=g,this.route=k,this.screenSizeSvc=w,this.rows=[],this.tranchescolarites=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.screenSizeSvc.onResize$.pipe((0,O.g)(0)).subscribe(C=>{C.includes(H.y.XXL)||C.includes(H.y.XL)||C.includes(H.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=d.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=d.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.fecth()}fecth(){this.scolariteService.getScolarite().subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onRowClick(t,i){console.log(t),this.router.navigate(["/administration/scolariteniveau/"+t])}goToTranche(){this.router.navigate(["/administration/tranche"])}goToAddscolarite(){this.router.navigate(["/administration/scolariteniveau/"])}editScolarite(t){console.log(t.id),this.router.navigate(["/administration/editscolariteniveau/"],{queryParams:{data:t.id}})}detailScolarite(t){this.scolarite=null,this.scolarite=t,this.tranchescolarites=t.tranche_scolarites,this.detailModal.show(),this.cdr.markForCheck()}previousState(){}hideDetailModal(){this.detailModal.hide()}delete(t){this.scolariteService.deletescolarite(t.id).subscribe(i=>{this.fecth(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),i.message)},i=>{console.log(i),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h._W),e.Y36(u.sK),e.Y36(j.U),e.Y36(V),e.Y36(v.F0),e.Y36(e.sBO),e.Y36(v.gz),e.Y36(M.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-scolarite"]],viewQuery:function(t,i){if(1&t&&(e.Gf(nt,5),e.Gf(d.nE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.detailModal=o.first),e.iGM(o=e.CRH())&&(i.table=o.first)}},features:[e._Bn([h._W])],decls:44,vars:29,consts:[[1,"card"],[1,"card-header"],[1,"card-title","mb-2","fw-bolder"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn-group"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"la","la-plus"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-users"],[1,"card-body"],["rowHeight","auto","columnMode","force",3,"rows","footerHeight"],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-classe-name",1,"modal","fade",3,"config"],["detailModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","dialog-classe-libelle",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","justify-content-center"],[1,"col-12"],[4,"ngIf"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],["dropdownItem","","href","javascript:void(0)",3,"routerLink"],[1,"feather","icon-edit"],[1,"feather","icon-trash"],[1,"row-md","jh-entity-details"],[1,"row"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.goToAddscolarite()}),e._UZ(8,"i",6),e._uU(9,"Ajouter une scolarite "),e.qZA(),e.TgZ(10,"button",7),e.NdJ("click",function(){return i.goToTranche()}),e._UZ(11,"i",8),e._uU(12,"Tranches "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"ngx-datatable",10),e.TgZ(15,"ngx-datatable-column",11),e.ALo(16,"translate"),e.YNc(17,ot,1,1,"ng-template",12),e.qZA(),e.TgZ(18,"ngx-datatable-column",11),e.ALo(19,"translate"),e.YNc(20,rt,1,1,"ng-template",12),e.qZA(),e.TgZ(21,"ngx-datatable-column",11),e.ALo(22,"translate"),e.YNc(23,at,1,1,"ng-template",12),e.qZA(),e.TgZ(24,"ngx-datatable-column",11),e.ALo(25,"translate"),e.YNc(26,lt,1,1,"ng-template",12),e.qZA(),e.TgZ(27,"ngx-datatable-column",13),e.YNc(28,ct,23,12,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",14,15),e.TgZ(31,"div",16),e.TgZ(32,"div",17),e.TgZ(33,"div",18),e.TgZ(34,"h2",19),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"button",20),e.NdJ("click",function(){return i.hideDetailModal()}),e.TgZ(38,"span",21),e._uU(39,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",22),e.TgZ(41,"div",23),e.TgZ(42,"div",24),e.YNc(43,ut,49,29,"div",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,16,"title.scolarite")),e.xp6(11),e.Q6J("rows",i.rows)("footerHeight",100),e.xp6(1),e.s9C("name",e.lcZ(16,18,"fields.niveau")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(19,20,"fields.montantpension")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(22,22,"fields.fraisinscriptionnew")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(25,24,"fields.fraisinscriptionold")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(28,mt)),e.xp6(6),e.Oqu(e.lcZ(36,26,"title.detailscolarite")),e.xp6(8),e.Q6J("ngIf",i.scolarite))},directives:[d.nE,d.UC,d.vq,s.oB,T.O5,S.L,z.h,Q.h,v.yS,T.sg],pipes:[u.X$],styles:[".row-md.jh-entity-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;grid-column-gap:10px;column-gap:10px;line-height:1.5}@media screen and (min-width: 768px){.row-md.jh-entity-details[_ngcontent-%COMP%] > dt[_ngcontent-%COMP%]{float:left;overflow:hidden;clear:left;text-align:right;text-overflow:ellipsis;white-space:nowrap;padding:.5em 0}dd[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:.5em 0;margin-left:0}}"]}),n})();var X=m(850);function gt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function _t(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.group_matiere.libelle," ")}let ht=(()=>{class n{constructor(t,i,o,l,c){this.formBuilder=t,this.cdr=i,this.route=o,this.service=l,this.toaster=c,this.rows=[],this.cdr.markForCheck()}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[a.kI.required]]}),this.fech()}fech(){this.service.getMatieres().subscribe(t=>{this.rows=t,this.cdr.markForCheck()},t=>{console.log(t)})}onSave(){const t={data:{libelle:this.formGroup.value.libelle,groupematiere:this.route.snapshot.paramMap.get("id")}};this.service.addMatiere(t).subscribe(i=>{this.fech(),this.formGroup.reset()},i=>{console.log(i)})}onReset(){this.formGroup.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(e.sBO),e.Y36(v.gz),e.Y36(X._),e.Y36(h._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-matiere"]],features:[e._Bn([h._W])],decls:25,vars:19,consts:[[1,"card"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],[3,"name","width"],["ngx-datatable-cell-template",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("validSubmit",function(){return i.onSave()}),e.TgZ(3,"div",3),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"div",6),e.TgZ(10,"button",7),e.NdJ("click",function(){return i.onReset()}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",0),e.TgZ(17,"div",1),e.TgZ(18,"ngx-datatable",9),e.TgZ(19,"ngx-datatable-column",10),e.ALo(20,"translate"),e.YNc(21,gt,1,1,"ng-template",11),e.qZA(),e.TgZ(22,"ngx-datatable-column",10),e.ALo(23,"translate"),e.YNc(24,_t,1,1,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(3),e.Oqu(e.lcZ(6,9,"fields.libelle")),e.xp6(6),e.Oqu(e.lcZ(12,11,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(15,13,"action.save")),e.xp6(4),e.Q6J("rows",i.rows),e.xp6(1),e.s9C("name",e.lcZ(20,15,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(23,17,"fields.groupematiere")),e.Q6J("width",70))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,d.nE,d.UC,d.vq],pipes:[u.X$],styles:[""]}),n})();var oe=m(9457),K=m(8618);const de="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8";let re=(()=>{class n{constructor(){}exportAsExcelFile(t,i){const l={Sheets:{data:K.utils.json_to_sheet(t)},SheetNames:["data"]},c=K.write(l,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(c,i)}exportAsPDFFile(t,i){const l={Sheets:{data:K.utils.json_to_sheet(t)},SheetNames:["data"]},c=K.write(l,{bookType:"xlsx",type:"array"});this.saveAsPdfFile(c,i)}saveAsExcelFile(t,i){const o=new Blob([t],{type:de});oe.saveAs(o,i+"_export_"+(new Date).getTime()+".xlsx")}saveAsPdfFile(t,i){const o=new Blob([t],{type:de});oe.saveAs(o,i+"_export_"+(new Date).getTime()+".pdf")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Tt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.effectif," ")}function vt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.niveau.libelle," ")}function At(n,r){if(1&n&&(e.TgZ(0,"div",21),e._UZ(1,"span",22),e.TgZ(2,"span",23),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass","active"===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass","active"===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}let qt=(()=>{class n{constructor(t,i,o,l,c,g,k){this.toaster=t,this.formBuilder=i,this.cdr=o,this.translateService=l,this.excelService=c,this.route=g,this.service=k,this.classes=[]}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[a.kI.required]],effectif:["",[a.kI.required]]}),this.init()}init(){this.service.getClassebyniveau(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.classes=t.data,this.cdr.detectChanges()},t=>{console.log(t)})}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,effectif:this.formGroup.value.effectif,niveau:this.route.snapshot.paramMap.get("id"),titulaire:1}};this.service.addClasse(t).subscribe(i=>{this.init(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.formGroup.reset()},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h._W),e.Y36(a.qu),e.Y36(e.sBO),e.Y36(u.sK),e.Y36(re),e.Y36(v.gz),e.Y36(j.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-classe"]],features:[e._Bn([h._W,re])],decls:34,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["name","indice","type","number","formControlName","effectif",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["name","effectif",3,"width"],["name","niveau",3,"width"],["name","Status",3,"width"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return i.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"libelle"),e.qZA(),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",8),e.TgZ(15,"label",9),e._uU(16,"Effectifs"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"button",13),e.NdJ("click",function(){return i.onReset()}),e._uU(20,"Reset"),e.qZA(),e.TgZ(21,"button",14),e._uU(22,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",0),e.TgZ(24,"div",6),e.TgZ(25,"ngx-datatable",15),e.TgZ(26,"ngx-datatable-column",16),e.YNc(27,bt,1,1,"ng-template",17),e.qZA(),e.TgZ(28,"ngx-datatable-column",18),e.YNc(29,Tt,1,1,"ng-template",17),e.qZA(),e.TgZ(30,"ngx-datatable-column",19),e.YNc(31,vt,1,1,"ng-template",17),e.qZA(),e.TgZ(32,"ngx-datatable-column",20),e.YNc(33,At,4,3,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,7,"title.editclasse")," "),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(16),e.Q6J("rows",i.classes),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,d.nE,d.UC,d.vq,T.mk],pipes:[u.X$],styles:[""]}),n})(),xt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-audit"]],features:[e._Bn([h._W])],decls:7,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Audits"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},styles:[""]}),n})();var Ct=m(8274),St=m(2655),ue=m(1383);const wt=["chatPS"];function yt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",24),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().onPanelChange(l.id)}),e.TgZ(1,"div",25),e.TgZ(2,"span",26),e._uU(3),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,i=e.oxw();e.ekj("active",i.currentPanel===t.id),e.xp6(3),e.Oqu(t.name)}}let Ut=(()=>{class n{constructor(t,i,o,l){this.toaster=t,this.translateService=i,this.permissionservice=o,this.cdr=l,this.rows=[],this.objectKeys=Object.keys,this.roles=[],this.permissions=[],this.currentPanel=1,this.openMobilePanel=new e.vpe}ngOnInit(){this.fetch()}onPanelChange(t){this.currentPanel=t,console.log(this.currentPanel),this.permissionservice.getPermissionsbyroles(t).subscribe(i=>{this.permissions=i.data.permissions,console.log(this.permissions),this.cdr.markForCheck()},i=>{console.log(i)})}hasPermission(t,i){let o=this.manager.permissions[t];return-1!=Object.keys(o).map(function(c){return o[c]}).indexOf(i)}fetch(){this.permissionservice.getPermissions().subscribe(t=>{this.roles=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}savePermission(t,i){this.permissionservice.savePermissions(t,i).subscribe(o=>{this.cdr.markForCheck(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},o=>{console.log(o),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}changePermission(t){console.log(t.target.value),this.savePermission(this.currentPanel,t.target.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h._W),e.Y36(u.sK),e.Y36(Ct.$),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-permission"]],viewQuery:function(t,i){if(1&t&&e.Gf(wt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.chatPS=o.first)}},outputs:{openMobilePanel:"openMobilePanel"},features:[e._Bn([h._W])],decls:45,vars:4,consts:[["xmlns","http://www.w3.org/1999/html",1,"card"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder"],[1,"row","content-min-height"],["borderRight","true",1,"p-0",3,"panelWidth","isMobileActive"],[1,"chat-panel-body"],["href","javascript:void(0)","class","columns-panel-item columns-panel-item-link",3,"active","click",4,"ngFor","ngForOf"],[3,"panelWidth"],[1,"row"],[1,"col-md-4"],[1,""],[1,"form-check","form-check-inline"],["type","checkbox","id","inlineCheckbox1","value","sa",1,"form-check-input",3,"change"],["for","inlineCheckbox1",1,"form-check-label","ms-2"],["type","checkbox","id","inlineCheckbox2","value","su",1,"form-check-input",3,"change"],["for","inlineCheckbox2",1,"form-check-label","ms-2"],["type","checkbox","id","inlineCheckbox3","value","sd","checked","",1,"form-check-input",3,"change"],["for","inlineCheckbox3",1,"form-check-label","ms-2"],["type","checkbox","id","inlinep1","value","ta",1,"form-check-input",3,"change"],["type","checkbox","id","inlinep2","value","tu",1,"form-check-input",3,"change"],["type","checkbox","id","inlinep3","value","td","checked","",1,"form-check-input",3,"change"],["href","javascript:void(0)",1,"columns-panel-item","columns-panel-item-link",3,"click"],[1,"d-flex","align-items-center"],[1,"ms-3"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Permissions"),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"column-panel",7),e.TgZ(9,"perfect-scrollbar",8),e.YNc(10,yt,4,3,"a",9),e.qZA(),e.qZA(),e.TgZ(11,"column-panel",10),e.TgZ(12,"div",11),e.TgZ(13,"div",12),e.TgZ(14,"label",13),e._uU(15,"Student"),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"div",14),e.TgZ(18,"input",15),e.NdJ("change",function(l){return i.changePermission(l)}),e.qZA(),e.TgZ(19,"label",16),e._uU(20,"View"),e.qZA(),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"input",17),e.NdJ("change",function(l){return i.changePermission(l)}),e.qZA(),e.TgZ(23,"label",18),e._uU(24,"Edit"),e.qZA(),e.qZA(),e.TgZ(25,"div",14),e.TgZ(26,"input",19),e.NdJ("change",function(l){return i.changePermission(l)}),e.qZA(),e.TgZ(27,"label",20),e._uU(28,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",12),e.TgZ(30,"label",13),e._uU(31,"Enseignant"),e.qZA(),e.TgZ(32,"div"),e.TgZ(33,"div",14),e.TgZ(34,"input",21),e.NdJ("change",function(l){return i.changePermission(l)}),e.qZA(),e.TgZ(35,"label",16),e._uU(36,"View"),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"input",22),e.NdJ("change",function(l){return i.changePermission(l)}),e.qZA(),e.TgZ(39,"label",18),e._uU(40,"Edit"),e.qZA(),e.qZA(),e.TgZ(41,"div",14),e.TgZ(42,"input",23),e.NdJ("change",function(l){return i.changePermission(l)}),e.qZA(),e.TgZ(43,"label",20),e._uU(44,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("panelWidth",150)("isMobileActive",i.mobilePanelOpen),e.xp6(2),e.Q6J("ngForOf",i.roles),e.xp6(1),e.Q6J("panelWidth",800))},directives:[St.n,ue.Vv,T.sg,p.oH],styles:[""]}),n})();var Mt=m(8468),kt=m(7697);let Et=(()=>{class n{constructor(){this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}set printStyle(t){for(let i in t)t.hasOwnProperty(i)&&this._printStyle.push((i+JSON.stringify(t[i])).replace(/['"]+/g,""));this.returnStyleValues()}returnStyleValues(){return`<style> ${this._printStyle.join(" ").replace(/,/g,";")} </style>`}set styleSheetFile(t){let i=function(o){return`<link rel="stylesheet" type="text/css" href="${o}">`};if(-1!==t.indexOf(",")){const o=t.split(",");for(let l of o)this._styleSheetFile=this._styleSheetFile+i(l)}else this._styleSheetFile=i(t)}returnStyleSheetLinkTags(){return this._styleSheetFile}getElementTag(t){const i=[],o=document.getElementsByTagName(t);for(let l=0;l<o.length;l++)i.push(o[l].outerHTML);return i.join("\r\n")}getFormData(t){for(var i=0;i<t.length;i++)t[i].defaultValue=t[i].value,t[i].checked&&(t[i].defaultChecked=!0)}getHtmlContents(){let t=document.getElementById(this.printSectionId),i=t.getElementsByTagName("input");this.getFormData(i);let o=t.getElementsByTagName("textarea");return this.getFormData(o),t.innerHTML}print(){let t,i,o="",l="";const c=this.getElementTag("base");this.useExistingCss&&(o=this.getElementTag("style"),l=this.getElementTag("link")),t=this.getHtmlContents(),i=window.open("","_blank","top=0,left=0,height=auto,width=auto"),i.document.open(),i.document.write(`\n      <html>\n        <head>\n          <title>${this.printTitle?this.printTitle:""}</title>\n          ${c}\n          ${this.returnStyleValues()}\n          ${this.returnStyleSheetLinkTags()}\n          ${o}\n          ${l}\n        </head>\n        <body>\n          ${t}\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ${this.printDelay});\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>`),i.document.close()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["button","ngxPrint",""]],hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[]]}),n})();var me=m(2490);function Nt(n,r){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"pdf-viewer",11),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.pdfSrc)("render-text",!0)("original-size",!1)("autoresize",!0)("show-borders",!0)}}let Jt=(()=>{class n{constructor(t,i,o,l,c){this.modalService=t,this.pdfService=i,this.simplepdf=o,this.translateservice=l,this.cycleservice=c,this.rows=[],this.pdfSrc="https://vadimdez.github.io/ng2-pdf-viewer/assets/pdf-test.pdf"}ngOnInit(){this.cycleservice.getCycles().subscribe(t=>{this.rows=t.data},t=>{console.log(t)})}printed(t){this.modalRef=this.modalService.show(t,{class:"modal-lg"})}exportTableToPDF(){const i=this.createBody({title:"Bulletin",bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},compositions:[{name:"Matieres litteraires",compositions:[{id:158,note:12,rang:17,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},affectation:{id:15,professor:{id:2,compte:{id:6,username:"22P0005",password:"$2y$13$JudP8A2hkNd0iYSFddBR0u86z7dHEFXUrJ1IMoPdPXPcAkRPAGJr2",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/6"}}},matieres:[{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}}],is_vacataire:!0,name:"Mpoh yvan",matricule:"22P0005",dateborn:"2021-11-17T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",datecreated:"2021-11-16T00:00:00+01:00",isactived:!0,_links:{self:{href:"/v1/professors/2"}}},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/9"}}},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT",_links:{self:{href:"/v1/matieres/4"}}},{id:5,libelle:"Informatique",code:"Inf",_links:{self:{href:"/v1/matieres/5"}}}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0,_links:{self:{href:"/v1/professors/1"}}},_links:{self:{href:"/v1/classes/1"}}},matiere:{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},status:!0,_links:{self:{href:"/v1/affectations/15"}}},groupematiere:{id:2,libelle:"Matieres litteraires",position:2,_links:{self:{href:"/v1/groupematieres/2"}}},bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},min_moy:4,max_moy:19,moy_classe:11.84,coefficient:2},{id:158,note:12,rang:17,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},affectation:{id:15,professor:{id:2,compte:{id:6,username:"22P0005",password:"$2y$13$JudP8A2hkNd0iYSFddBR0u86z7dHEFXUrJ1IMoPdPXPcAkRPAGJr2",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/6"}}},matieres:[{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}}],is_vacataire:!0,name:"Mpoh yvan",matricule:"22P0005",dateborn:"2021-11-17T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",datecreated:"2021-11-16T00:00:00+01:00",isactived:!0,_links:{self:{href:"/v1/professors/2"}}},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/9"}}},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT",_links:{self:{href:"/v1/matieres/4"}}},{id:5,libelle:"Informatique",code:"Inf",_links:{self:{href:"/v1/matieres/5"}}}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0,_links:{self:{href:"/v1/professors/1"}}},_links:{self:{href:"/v1/classes/1"}}},matiere:{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},status:!0,_links:{self:{href:"/v1/affectations/15"}}},groupematiere:{id:2,libelle:"Matieres litteraires",position:2,_links:{self:{href:"/v1/groupematieres/2"}}},bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},min_moy:4,max_moy:19,moy_classe:11.84,coefficient:2}],total_note:12,total_note_coef:24,moyenne_note:12,total_coef:2,appreciation:"ASSEZ Bien"},{name:"Matieres scientifiques",compositions:[{id:159,note:10,rang:27,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0},sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},is_clotured:!1},pourcentage:50,is_clotured:!0},affectation:{id:16,professor:{id:2,compte:{id:6,username:"22P0005",password:"$2y$13$JudP8A2hkNd0iYSFddBR0u86z7dHEFXUrJ1IMoPdPXPcAkRPAGJr2",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/6"}}},matieres:[{id:1,libelle:"Mathematique",code:"Maths",_links:{self:{href:"/v1/matieres/1"}}},{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}}],is_vacataire:!0,name:"Mpoh yvan",matricule:"22P0005",dateborn:"2021-11-17T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",datecreated:"2021-11-16T00:00:00+01:00",isactived:!0,_links:{self:{href:"/v1/professors/2"}}},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"],_links:{self:{href:"/v1/users/9"}}},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT",_links:{self:{href:"/v1/matieres/4"}}},{id:5,libelle:"Informatique",code:"Inf",_links:{self:{href:"/v1/matieres/5"}}}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0,_links:{self:{href:"/v1/professors/1"}}},_links:{self:{href:"/v1/classes/1"}}},matiere:{id:2,libelle:"physique",code:"Ph",_links:{self:{href:"/v1/matieres/2"}}},status:!0,_links:{self:{href:"/v1/affectations/16"}}},groupematiere:{id:1,libelle:"Matieres scientifiques",position:1,_links:{self:{href:"/v1/groupematieres/1"}}},bulletin:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22,_links:{self:{href:"/v1/yearschools/1"}}},is_clotured:!1,_links:{self:{href:"/v1/trimestres/1"}}},pourcentage:50,is_clotured:!0,_links:{self:{href:"/v1/sequences/1"}}},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0,_links:{self:{href:"/v1/students/5"}}},rang:24,_links:{self:{href:"/v1/bulletinsequences/407"}}},min_moy:5,max_moy:20,moy_classe:11.97,coefficient:2,_links:{self:{href:"/v1/compositions/159"}}}],total_note:10,total_note_coef:20,moyenne_note:10,total_coef:2,appreciation:"PASSABLE"}],inscription:{id:238,student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0},year_school:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},classe:{id:1,libelle:"6e M1",effectif:60,niveau:{id:1,libelle:"6eme",cycle:{id:1,libelle:"Enseignement secondaire"}},titulaire:{id:1,phone:"675896325",compte:{id:9,username:" ",password:"$2y$13$JpqJRSz8hwF72fu7KJSdHOzi.ZZ3cqva5JM2go8tNR8X0GHes/tYy",roles:["ROLE_TEACHER"]},matieres:[{id:4,libelle:"science de la vie et la terre",code:"SVT"},{id:5,libelle:"Informatique",code:"Inf"}],is_vacataire:!1,salaireheure:1e3,salairefixe:2e4,tauxhoraire:2,enfants:5,name:"mbah rog martial",dateborn:"2000-01-14T00:00:00+01:00",lieunaissance:"masculin",sexe:"masculin",datecreated:"2021-11-07T00:00:00+01:00",adresse:"masculin",isactived:!0}}},moyFisrt:{id:407,moyenne:11,moyenneclasse:11.9,totalnote:44,totalcoef:4,tableauhonneur:!1,appreciation:"PASSABLE",sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},is_clotured:!1},pourcentage:50,is_clotured:!0},student:{id:5,name:"kengne yvan",matricule:"22S00005",dateborn:"2021-11-02T00:00:00+01:00",lieunaissance:"douala",sexe:"masculin",isactived:!0},rang:24},moyLast:{id:435,sequence:{id:1,libelle:"Evaluation n\xb01",date_start:"2022-01-07T00:00:00+01:00",date_end:"2022-01-07T00:00:00+01:00",indice:1,trimestre:{id:1,libelle:"1er trimestre",date_start:"2021-12-16T00:00:00+01:00",date_end:"2021-12-29T00:00:00+01:00",indice:1,year:{id:1,libelle:"2022-2021",date_start:"2021-11-05T00:00:00+01:00",date_end:"2021-11-05T00:00:00+01:00",is_clotured:!1,is_valid:!1,indice:22},is_clotured:!1},pourcentage:50,is_clotured:!0},student:{id:4,name:"Mbah julio",matricule:"22S00004",dateborn:"2021-11-04T00:00:00+01:00",sexe:"masculin",isactived:!0}},configuration:{id:1,name:"College CPBEL",phone:"675055926",devise:"Travail -success",sequence_by_trimestre:"2",directeur:"Kamga paul",localisation:"douala-bonaberi",format_matricule:"xxx-xxxx-xx",slogan:"discipline- travail-succes",signature:"test",enable_signature:!0,activate_muti_affectation:!0,min_encouragement:1,min_felicitation:6,min_blame:7,min_matiere_composition:1,min_composition_trimestre:1},absJ:0,absNJ:0,path:"images/logo_gp.png"});this.simplepdf.generatePdfcustom("Bulletins de notes",[{margin:[10,0,10,10],style:"tableContent",table:{widths:["30%","5%","5%","5%","5%","10%","5%","5%","5%","25%"],headerRows:0,dontBreakRows:!0,body:i}}],"portrait",!1)}exportSimpleToPDF(){this.simplepdf.generatePdfcustom("Liste des cycles",[{stack:["This header has both top and bottom margins defined",{text:"This is a subheader",style:"subheader"}],style:"header"},{columns:[{width:90,text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."},{width:"*",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."},{width:"*",text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."},{width:90,text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Malit profecta versatur nomine ocurreret multavit, officiis viveremus aeternum superstitio suspicor alia nostram, quando nostros congressus susceperant concederetur leguntur iam, vigiliae democritea tantopere causae, atilii plerumque ipsas potitur pertineant multis rem quaeri pro, legendum didicisse credere ex maluisset per videtis. Cur discordans praetereat aliae ruinae dirigentur orestem eodem, praetermittenda divinum. Collegisti, deteriora malint loquuntur officii cotidie finitas referri doleamus ambigua acute. Adhaesiones ratione beate arbitraretur detractis perdiscere, constituant hostis polyaeno. Diu concederetur."}]},{columns:[{text:" Underline decoration",decoration:"underline",width:"*"},{text:"Line Through decoration",decoration:"lineThrough"},{text:"Overline decoration",decoration:"overline"}]}],"portrait",!1)}exportToPDFCertificat(){const t={name:"Mbah rodrigue",matricule:"22s001258",classe:"5eme 1",datenaissance:"12-12-2005",lieunaissance:"Douala"},i=[{text:[{text:"N\xb0:",fontSize:15,bold:!0,alignment:"center",width:"*"},{text:"               ",decoration:"underline",width:"*"}]},{text:[{text:"Je soussign\xe9",fontSize:12,bold:!1},{text:"               \n\n",decoration:"underline",width:"100"},{text:"Principal du COLL\xc8GE POLYVALENT BILINGUE LES \xc9LITES \n\n",fontSize:15,bold:!0},{text:"Certifie que le (la) Nomm\xe9(e)",fontSize:13,bold:!1},{text:"  "+t.name.toUpperCase()+"  \n\n",decoration:"underline",fontSize:15,uppercase:!0,bold:!0},{text:"N\xe9(e) ",fontSize:13,bold:!1},{text:"  "+t.datenaissance,decoration:"underline",width:"*"},{text:"a ",fontSize:13,bold:!1},{text:"  "+t.lieunaissance+"   \n\n",decoration:"underline",width:"*"},{text:"Fils ou Fille de  "},{text:"                       \n\n",decoration:"underline",width:"*"},{text:"et de "},{text:"                       \n\n",decoration:"underline",width:"*"},{text:"Est (a \xe9t\xe9) r\xe9guli\xe8rement inscrit(s) dans mon etablissement pour le compte de l'ann\xe9e\nscolaire  \n\n"},{text:"En classe de "},{text:"                       \n\n",decoration:"underline",width:"*"},{text:"En foi de quoi se pr\xe9sent certificat de scolarite lui d\xe9livr\xe9 pour servir et valoir ce que est\nde droit. "}],margin:[10,50,0,20]},{text:[{text:"Fait \xe0",fontSize:15,bold:!0,alignment:"center",width:"*"},{text:"               ",decoration:"underline",width:"*"},{text:"le",fontSize:15,bold:!0,alignment:"center",width:"*"},{text:"               \n\n",decoration:"underline",width:"*"},{text:"Le principal",fontSize:15,bold:!0,alignment:"right",width:"*"}]}];this.simplepdf.generatePdfcustom("Liste des cycles",i,"portrait",!1)}exportToPDFRecu(){this.simplepdf.generatePdfcomptable([{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n debit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence ...............................\n",style:"tableHeader"},{text:"Date ....................................\n",style:"tableHeader"},{text:"Code service ......................\n",style:"tableHeader"},{text:"Code op\xe9ration ..................\n",style:"tableHeader"},{text:"Valeur .................................\n",style:"tableHeader"}]}]]}}]},{style:"tableExample",color:"#444",table:{widths:[200,"auto","auto"],headerRows:2,body:[[{text:"Header with Colspan = 3",style:"tableHeader",borderColor:["#ff00ff","#00ffff","#ff00ff","#00ffff"],alignment:"center"},{},{}]]}}],"portrait",!1)}exportToPDF(){const i=[this.translateservice.instant("fields.libelle"),this.translateservice.instant("fields.code")];this.pdfService.generatePdfWithcus("Liste des cycles",i,this.mapData(this.rows),"portrait",["50%","50%"])}mapData2(t){return t.map(i=>({Libelle:i.libelle,Code:i.id}))}mapData(t){return t.map(i=>({Matiere:i.matiere,Note:i.note}))}createBody(t){const i=[],l=t.compositions,c=t.bulletin;i.push([{text:"Matiere",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Coef",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Note",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"NXC",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Rang",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Mention",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Min moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Max moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Moy classe",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Enseignant",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10}]),l.forEach(x=>{const y=[];x.compositions.forEach(N=>{const J=[];J.push({text:N.affectation.matiere.libelle,style:"tableHeader",alignment:"center",fontSize:8}),J.push({text:N.coefficient,alignment:"center",fontSize:8}),J.push({text:N.note,alignment:"center",fontSize:8}),J.push({text:N.note*N.coefficient,alignment:"center",fontSize:8}),J.push({text:N.rang,alignment:"center",fontSize:8}),J.push({text:N.note,alignment:"center",fontSize:8}),J.push({text:N.min_moy,alignment:"center",fontSize:8}),J.push({text:N.max_moy,alignment:"center",fontSize:8}),J.push({text:N.moy_classe,alignment:"center",fontSize:8}),J.push({text:N.affectation.professor.name,alignment:"center",fontSize:8}),i.push(J)}),y.push({text:x.name,alignment:"center",fillColor:"#333",color:"#fff",fontSize:10}),y.push({text:x.total_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:x.total_note,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:x.total_note_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:"",alignment:"center",fillColor:"#333",color:"#fff"}),y.push({text:x.appreciation,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:"",alignment:"center",fillColor:"#333",color:"#fff",colSpan:3});const W="Moyenne:"+x.total_note;y.push({text:W,alignment:"center",fillColor:"#333",color:"#fff"}),y.push({text:x.total_note,alignment:"center",fillColor:"#333",color:"#fff"}),y.push({text:W,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),i.push(y)});const k=[{text:" ",alignment:"center",colSpan:4},{},{},{},{text:c.moyenne,colSpan:4},{},{},{},{text:c.rang,colSpan:2},{}];i.push([{text:"Total",alignment:"center"},{text:c.totalcoef,alignment:"center"},{text:c.totalnote,alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center",colSpan:4},{text:"Total",alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center"},{text:"Rang",alignment:"center",colSpan:2},{}]),i.push(k);return i.push([{text:" Decision du conseil de classe",alignment:"center",colSpan:10},{},{},{},{},{text:"Notes",colSpan:5},{},{},{},{}]),i.push([{text:" Discipline",alignment:"center",colSpan:2},{},{text:" Travail",alignment:"center",colSpan:3},{},{},{text:" Rappel notes",alignment:"center",colSpan:3},{},{},{text:" Classe",alignment:"center",colSpan:2},{}]),i.push([{text:" Absence justifi\xe9",alignment:"center",fontSize:6,bold:!0},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation",alignment:"center",colSpan:2,fontSize:6,bold:!1},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),i.push([{text:" Absence non justifi\xe9:",alignment:"center",fontSize:6},{},{text:"Mention",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb02",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Rang",alignment:"center",fontSize:6},{}]),i.push([{text:" Avertissement:",alignment:"center",fontSize:6},{},{text:"A.conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb03",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du premier",alignment:"center",fontSize:6},{}]),i.push([{text:" Blame",alignment:"center",fontSize:6},{},{text:"B. conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb04",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du dernier",alignment:"center",fontSize:6},{}]),i.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb05",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy g\xe9n\xe9ral",alignment:"center",fontSize:6},{}]),i.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",colSpan:2,alignment:"center",fontSize:6},{},{},{text:"Moy \xe9valuation n\xb06",alignment:"center",colSpan:2,fontSize:6},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),i.push([{text:" Visa parent \n\n\n\n",alignment:"center",colSpan:3},{},{},{text:"Visa du titulaire \n\n\n\n",alignment:"center",colSpan:4},{},{},{},{text:"Visa du chef \xe9tablissement\n\n\n\n",alignment:"center",colSpan:3},{},{}]),i}createBodyTrim(t){const i=[],l=t.compositions,c=t.bulletin;i.push([{text:"Matiere",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Coef",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Note",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"NXC",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Rang",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Mention",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10},{text:"Min moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Max moy",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Moy classe",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:6},{text:"Enseignant",alignment:"center",fillColor:"#3d497b",color:"#fff",fontSize:10}]),l.forEach(x=>{const y=[];x.compositions.forEach(N=>{const J=[];J.push({text:N.affectation.matiere.libelle,style:"tableHeader",alignment:"center",fontSize:8}),J.push({text:N.note,alignment:"center",fontSize:8}),J.push({text:N.note,alignment:"center",fontSize:8}),J.push({text:N.coefficient,alignment:"center",fontSize:8}),J.push({text:N.note*N.coefficient,alignment:"center",fontSize:8}),J.push({text:N.rang,alignment:"center",fontSize:8}),J.push({text:N.note,alignment:"center",fontSize:8}),J.push({text:N.min_moy,alignment:"center",fontSize:8}),J.push({text:N.max_moy,alignment:"center",fontSize:8}),J.push({text:N.moy_classe,alignment:"center",fontSize:8}),J.push({text:N.affectation.professor.name,alignment:"center",fontSize:8}),J.push({text:N.affectation.professor.name,alignment:"center",fontSize:8}),i.push(J)}),y.push({text:x.name,alignment:"center",fillColor:"#333",color:"#fff",fontSize:10}),y.push({text:x.total_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:x.total_note,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:x.total_note_coef,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:"",alignment:"center",fillColor:"#333",color:"#fff"}),y.push({text:x.appreciation,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),y.push({text:"",alignment:"center",fillColor:"#333",color:"#fff",colSpan:3});const W="Moyenne:"+x.total_note;y.push({text:W,alignment:"center",fillColor:"#333",color:"#fff"}),y.push({text:x.total_note,alignment:"center",fillColor:"#333",color:"#fff"}),y.push({text:W,alignment:"center",fillColor:"#333",color:"#fff",fontSize:8}),i.push(y)});const k=[{text:" ",alignment:"center",colSpan:4},{},{},{},{text:c.moyenne,colSpan:4},{},{},{},{text:c.rang,colSpan:2},{}];i.push([{text:"Total",alignment:"center"},{text:c.totalcoef,alignment:"center"},{text:c.totalnote,alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center",colSpan:4},{text:"Total",alignment:"center"},{text:"Total",alignment:"center"},{text:"Moyenne",alignment:"center"},{text:"Rang",alignment:"center",colSpan:2},{}]),i.push(k);return i.push([{text:" Decision du conseil de classe",alignment:"center",colSpan:10},{},{},{},{},{text:"Notes",colSpan:5},{},{},{},{}]),i.push([{text:" Discipline",alignment:"center",colSpan:2},{},{text:" Travail",alignment:"center",colSpan:3},{},{},{text:" Rappel notes",alignment:"center",colSpan:3},{},{},{text:" Classe",alignment:"center",colSpan:2},{}]),i.push([{text:" Absence justifi\xe9",alignment:"center",fontSize:6,bold:!0},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation",alignment:"center",colSpan:2,fontSize:6,bold:!1},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),i.push([{text:" Absence non justifi\xe9:",alignment:"center",fontSize:6},{},{text:"Mention",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb02",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Rang",alignment:"center",fontSize:6},{}]),i.push([{text:" Avertissement:",alignment:"center",fontSize:6},{},{text:"A.conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb03",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du premier",alignment:"center",fontSize:6},{}]),i.push([{text:" Blame",alignment:"center",fontSize:6},{},{text:"B. conduite",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb04",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy du dernier",alignment:"center",fontSize:6},{}]),i.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy \xe9valuation n\xb05",alignment:"center",colSpan:2,fontSize:6},{},{},{text:"Moy g\xe9n\xe9ral",alignment:"center",fontSize:6},{}]),i.push([{text:" Abs",alignment:"center",fontSize:6},{},{text:" T.H",colSpan:2,alignment:"center",fontSize:6},{},{},{text:"Moy \xe9valuation n\xb06",alignment:"center",colSpan:2,fontSize:6},{},{},{text:" Moy T n\xb01",alignment:"center",fontSize:6},{}]),i.push([{text:" Visa parent \n\n\n\n",alignment:"center",colSpan:3},{},{},{text:"Visa du titulaire \n\n\n\n",alignment:"center",colSpan:4},{},{},{},{text:"Visa du chef \xe9tablissement\n\n\n\n",alignment:"center",colSpan:3},{},{}]),i}exportToPDFDisposition(){this.simplepdf.generatePdfcomptable([{text:[{text:"DISPOSITION \xc0 PAYER DU ",fontSize:18,bold:!1,uppercase:!0},{text:".....................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"INTITUL\xc9 DU COMPTE",fontSize:18,bold:!1},{text:"..........................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"NATURE ET D\xc9TAILS DE LA DEPENSE ",fontSize:18,bold:!1},{text:".............................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:".................................................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"MONTANT \xc0 PAYER ",fontSize:18,bold:!1},{text:"........................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"..................................................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"NUMERO DU COMPTE ",fontSize:18,bold:!1},{text:"..........................................................................\n\n",fontSize:18,color:"#980b13",bold:!1},{text:"CONTREPARTIE ",fontSize:18,bold:!1},{text:"..........................................................................\n\n",fontSize:18,color:"#980b13",bold:!1}]},{canvas:[{type:"line",x1:0,y1:40,x2:540,y2:40,lineWidth:3}]},{text:"\n D\xc9CISION DU RESPONSABLE DU SERVICE",fontSize:18,bold:!1},{canvas:[{type:"rect",x:1,y:1,w:20,h:20,r:4,lineColor:"red",color:"#ffffe0"}]},{text:"Accepted",fontSize:18,bold:!1},{text:[{text:"\n\n\n",fontSize:18,bold:!1},{text:"SIGNATURE DU RESPONSABLE \n\n\n",fontSize:18,bold:!1},{text:"IDENTIFICATION ET SIGNATURE DU BEN\xc9FICIARE \n\n\n",fontSize:18,bold:!1},{text:"D\xc9TAILS BILLETAGE ET SIGNATURE DU CAISSIER  \n\n\n",fontSize:18,bold:!1}]}],"portrait",!1)}exportToPDFOrdre(){this.simplepdf.generatePdfcomptable([{text:[{text:"ORDRE D'\xc9XC\xc9CUTION INTERSERVICES N\xb0.......\n\n ",fontSize:18,bold:!0,alignment:"center"},{text:"Date ..................\n\n",fontSize:18,bold:!0,alignment:"center"}]},{style:"tableExample",table:{widths:["*","*"],body:[["SERVICE INITIATEUR","SERVICE DESTINATEUR"],["Service:\n\n\n\n\n\n","Service:"],["Nom du responsable:\n\n","Nom du responsable:"]]}},{text:[{text:"\n DESCRIPTION D\xc9TAILL\xc9E DU TRAVAIL \xc0 FAIRE\n ",fontSize:18,bold:!0},{text:"...................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\n",fontSize:18,bold:!0}]},{text:[{text:"D\xc9CHARGE DU DESTINATAIRE               SIGNATURE DE L'INITIATEUR \n ",fontSize:15,bold:!0}]}],"portrait",!1)}exportToPDFRecuversement(){this.simplepdf.generatePdfcomptable([{text:[{text:"RE\xc7U DE VERSEMENT N\xb0.......\n\n ",fontSize:18,bold:!0,alignment:"center"}]},{style:"tableExample",color:"#444",table:{widths:[100,100,100,"auto"],headerRows:2,body:[[{text:"D\xc9TAILS VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,colSpan:3},{},{},{text:"DATE VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,rowSpan:2}],[{text:"NBRE",style:"tableHeader",alignment:"center",bold:!0},{text:"COUPURE",style:"tableHeader",alignment:"center",bold:!0},{text:"SOMME",style:"tableHeader",alignment:"center",bold:!0},{}],[{},{text:"10000",alignment:"center",bold:!0},{},{text:"NOM ET IDENTITE DU DEPOSANT",bold:!0,style:"tableHeader",alignment:"center",rowSpan:6}],[{},{text:"5000",alignment:"center",bold:!0},{},{}],[{},{text:"2000",alignment:"center",bold:!0},{},{}],[{},{text:"1000",alignment:"center",bold:!0},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{}],[{text:"TOTAL BILLETS",colSpan:2,alignment:"center",bold:!0},{},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{text:"BENEFICIARE",alignment:"center",bold:!0,rowSpan:4}],[{},{text:"100",alignment:"center",bold:!0},{},{}],[{},{text:"50",alignment:"center",bold:!0},{},{}],[{},{text:"25",alignment:"center",bold:!0},{},{}],[{},{text:"10",alignment:"center",bold:!0},{},{text:"NUM\xc9RO DE COMPTE",bold:!0,alignment:"center",rowSpan:3}],[{},{text:"5",alignment:"center",bold:!0},{},{}],[{},{text:"1",alignment:"center",bold:!0},{},{}],[{text:"TOTAL PI\xc9CES\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{text:"NATURE DU D\xc9POT\n\n",bold:!0,alignment:"center",rowSpan:2}],[{text:"TOTAL VERS\xc9\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{}],[{text:"MONTANT EN LETTRES \n\n\n\n",colSpan:3,bold:!0,alignment:"center"},{},{},{text:"SIGNATURE D\xc9POSANT\n\n\n\n",bold:!0,alignment:"center"}],[{text:"CACHET ET SIGNATURE DU CAISSIER \n\n\n\n\n\n\n\n",colSpan:4,bold:!0,alignment:"center"},{},{}]]}}],"portrait",!1)}exportToPDFRecuCaisse(){this.simplepdf.generatePdfcomptable([{text:[{text:"RE\xc7U DE VERSEMENT N\xb0.......\n\n ",fontSize:18,bold:!0,alignment:"center"}]},{style:"tableExample",color:"#444",table:{widths:[100,100,100,"auto"],headerRows:2,body:[[{text:"D\xc9TAILS VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,colSpan:3},{},{},{text:"DATE VERSEMENT",style:"tableHeader",alignment:"center",bold:!0,rowSpan:2}],[{text:"NBRE",style:"tableHeader",alignment:"center",bold:!0},{text:"COUPURE",style:"tableHeader",alignment:"center",bold:!0},{text:"SOMME",style:"tableHeader",alignment:"center",bold:!0},{}],[{},{text:"10000",alignment:"center",bold:!0},{},{text:"NOM ET IDENTITE DU DEPOSANT",bold:!0,style:"tableHeader",alignment:"center",rowSpan:6}],[{},{text:"5000",alignment:"center",bold:!0},{},{}],[{},{text:"2000",alignment:"center",bold:!0},{},{}],[{},{text:"1000",alignment:"center",bold:!0},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{}],[{text:"TOTAL BILLETS",colSpan:2,alignment:"center",bold:!0},{},{},{}],[{},{text:"500",alignment:"center",bold:!0},{},{text:"BENEFICIARE",alignment:"center",bold:!0,rowSpan:4}],[{},{text:"100",alignment:"center",bold:!0},{},{}],[{},{text:"50",alignment:"center",bold:!0},{},{}],[{},{text:"25",alignment:"center",bold:!0},{},{}],[{},{text:"10",alignment:"center",bold:!0},{},{text:"NUM\xc9RO DE COMPTE",bold:!0,alignment:"center",rowSpan:3}],[{},{text:"5",alignment:"center",bold:!0},{},{}],[{},{text:"1",alignment:"center",bold:!0},{},{}],[{text:"TOTAL PI\xc9CES\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{text:"NATURE DU D\xc9POT\n\n",bold:!0,alignment:"center",rowSpan:2}],[{text:"TOTAL VERS\xc9\n\n",colSpan:2,bold:!0,alignment:"center"},{},{},{}],[{text:"MONTANT EN LETTRES \n\n\n\n",colSpan:3,bold:!0,alignment:"center"},{},{},{text:"SIGNATURE D\xc9POSANT\n\n\n\n",bold:!0,alignment:"center"}],[{text:"CACHET ET SIGNATURE DU CAISSIER \n\n\n\n\n\n\n\n",colSpan:4,bold:!0,alignment:"center"},{},{}]]}}],"portrait",!1)}exportToPDFPiececomptable(){this.simplepdf.generatePdfcomptable([{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n debit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence...........................\n",style:"tableHeader"},{text:"Date.............................\n",style:"tableHeader"}]}]]}}]}],"portrait",!1)}exportToPDFPiececomptablepetiformat(){this.simplepdf.generatePdfcomptable([{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n Credit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence ...............................\n",style:"tableHeader"},{text:"Date ....................................\n",style:"tableHeader"},{text:"Code service ......................\n",style:"tableHeader"},{text:"Code op\xe9ration ..................\n",style:"tableHeader"},{text:"Valeur .................................\n",style:"tableHeader"}]}]]}}]},{text:[{text:"\n\n Intitul\xe9 du compte:...........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"..........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Libell\xe9 de l'op\xe9ration:.........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"...........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Num\xe9ro de compte:....................... Contrepartie:................................\n\n\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Signatures autoris\xe9es\n",style:"tableHeader",fontSize:18,bold:!0,alignment:"right"}]},{canvas:[{type:"line",x1:0,y1:40,x2:540,y2:40,lineWidth:3}]},{text:"\n\n"},{columns:[{text:"PI\xc9CE COMPTABILIT\xc9 \n Debit\n",fontSize:18,bold:!0,width:350,alignment:"center"},{table:{widths:[150],body:[[{text:[{text:"Agence ...............................\n",style:"tableHeader"},{text:"Date ....................................\n",style:"tableHeader"},{text:"Code service ......................\n",style:"tableHeader"},{text:"Code op\xe9ration ..................\n",style:"tableHeader"},{text:"Valeur .................................\n",style:"tableHeader"}]}]]}}]},{text:[{text:"\n\n Intitul\xe9 du compte:...........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"..........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Libell\xe9 de l'op\xe9ration:.........................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"...........................................................................................................\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Num\xe9ro de compte:....................... Contrepartie:................................\n\n\n",style:"tableHeader",fontSize:18,bold:!0},{text:"Signatures autoris\xe9es\n",style:"tableHeader",fontSize:18,bold:!0,alignment:"right"}]}],"portrait",!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.tT),e.Y36(Mt.F),e.Y36(kt.i),e.Y36(u.sK),e.Y36(j.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-doctor"]],features:[e._Bn([h._W])],decls:23,vars:0,consts:[[1,"card"],[1,"card-header"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"card-body"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder",2,"text-transform","capitalize"],["id","print-section","hidden","",1,"hidden"],["border","1",1,"table","table-bordered"],["printSectionId","print-section","ngxPrint",""],["templateClasse",""],[1,"modal-body","text-center"],[2,"width","400px","height","500px",3,"src","render-text","original-size","autoresize","show-borders"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h4",5),e._uU(6,"Doctor"),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"table",7),e.TgZ(9,"thead"),e.TgZ(10,"tr"),e.TgZ(11,"th"),e._uU(12,"Scolarit\xe9"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Montant attendu"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Montant"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Montant restant"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"button",8),e._uU(20,"print"),e.qZA(),e.qZA(),e.qZA(),e.YNc(21,Nt,2,5,"ng-template",null,9,e.W1O))},directives:[Et,me.rQ],styles:[""]}),n})();function Lt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Ft(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_start,"dd/MM/yyyy")," ")}function It(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.date_end,"dd/MM/yyyy")," ")}function Rt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.pourcentage," ")}function Ht(n,r){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"span",27),e.TgZ(2,"span",28),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass",!0===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass",!0===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}function Gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",29),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",30),e._UZ(2,"i",31),e.qZA(),e.TgZ(3,"dropdown-menu",32,33),e.TgZ(5,"a",34),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().update(l)}),e.TgZ(6,"div",35),e._UZ(7,"i",36),e.TgZ(8,"span",37),e._uU(9,"Update"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}let Yt=(()=>{class n{constructor(t,i,o,l,c,g){this.formBuilder=t,this.translateService=i,this.toaster=o,this.route=l,this.cdr=c,this.service=g,this.rows=[],this.columns=[{prop:"libelle"},{name:"date_start"},{name:"date_end"}],this.hidetrimestre=!1}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:[null,[a.kI.required]],indice:[null,[a.kI.required]],pourcentage:[null,[a.kI.required]],date_start:[null,[]],date_end:[null,[a.kI.required]]}),this.service.getSequencesbytrimestre(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,console.log(this.rows)},t=>{console.log(t)}),this.cdr.markForCheck()}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,indice:this.formGroup.value.indice,date_start:this.formGroup.value.date_start,date_end:this.formGroup.value.date_end,pourcentage:this.formGroup.value.pourcentage,is_clotured:!0,trimestre:this.route.snapshot.paramMap.get("id")}};console.log(t),this.service.addSequence(t).subscribe(i=>{this.service.getSequencesbytrimestre(this.route.snapshot.paramMap.get("id")).subscribe(o=>{this.rows=o.data,this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.cdr.markForCheck()})},i=>this.toaster.error(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"))}onReset(){console.log(this.formGroup)}update(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(u.sK),e.Y36(h._W),e.Y36(v.gz),e.Y36(e.sBO),e.Y36(b.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sequence"]],features:[e._Bn([h._W])],decls:57,vars:33,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-4"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","indice",1,"form-control"],["type","text","formControlName","pourcentage",1,"form-control"],["type","date","formControlName","date_start",1,"form-control"],["type","date","formControlName","date_end",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["name","Date debut",3,"width"],["name","Date fin",3,"width"],["name","Pourcentage",3,"width"],["name","Status",3,"width"],["cellClass","allow-overflow",3,"sortable","width"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","right"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-user-plus"],[1,"ms-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return i.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"label",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",11),e.qZA(),e.TgZ(20,"div",8),e.TgZ(21,"label",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"input",12),e.qZA(),e.TgZ(25,"div",8),e.TgZ(26,"label",9),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"div",8),e.TgZ(31,"label",9),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",14),e.qZA(),e.TgZ(35,"div",15),e.TgZ(36,"button",16),e.NdJ("click",function(){return i.onReset()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"button",17),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(42,"div",0),e.TgZ(43,"div",6),e.TgZ(44,"ngx-datatable",18),e.TgZ(45,"ngx-datatable-column",19),e.YNc(46,Lt,1,1,"ng-template",20),e.qZA(),e.TgZ(47,"ngx-datatable-column",21),e.YNc(48,Ft,2,4,"ng-template",20),e.qZA(),e.TgZ(49,"ngx-datatable-column",22),e.YNc(50,It,2,4,"ng-template",20),e.qZA(),e.TgZ(51,"ngx-datatable-column",23),e.YNc(52,Rt,1,1,"ng-template",20),e.qZA(),e.TgZ(53,"ngx-datatable-column",24),e.YNc(54,Ht,4,3,"ng-template",20),e.qZA(),e.TgZ(55,"ngx-datatable-column",25),e.YNc(56,Gt,10,0,"ng-template",20),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,17,"title.addsequence")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(3),e.Oqu(e.lcZ(13,19,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(18,21,"fields.indice")),e.xp6(5),e.Oqu(e.lcZ(23,23,"fields.pourcentage")),e.xp6(5),e.Oqu(e.lcZ(28,25,"fields.datedebut")),e.xp6(5),e.Oqu(e.lcZ(33,27,"fields.datefin")),e.xp6(5),e.Oqu(e.lcZ(38,29,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(41,31,"action.save")),e.xp6(4),e.Q6J("rows",i.rows),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("sortable",!1)("width",40))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,d.nE,d.UC,d.vq,T.mk,S.L,z.h,Q.h],pipes:[u.X$,T.uU],styles:[""]}),n})();var ae=m(8002);class Pt{constructor(r,t,i,o){this.id=r,this.libelle=t,this.niveau=i,this.titulaire=o}}let Dt=(()=>{class n{get isFileSaverSupported(){try{return!!new Blob}catch(t){return!1}}genType(t){if(!t||-1===t.lastIndexOf("."))return"text/plain";const i=t.substr(t.lastIndexOf(".")+1);switch(i){case"txt":return"text/plain";case"xml":case"html":return`text/${i}`;case"json":return"octet/stream";default:return`application/${i}`}}save(t,i,o,l){if(!t)throw new Error("Data argument should be a blob instance");const c=new Blob([t],{type:o||t.type||this.genType(i)});(0,oe.saveAs)(c,decodeURI(i||"download"),l)}saveText(t,i,o){const l=new Blob([t]);this.save(l,i,void 0,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Qt=m(8793),jt=m(2),B=m(6640);const Bt=["cycleModal"],$t=["cycleEditModal"],Kt=["niveauModal"],Vt=["classeModal"];function Wt(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}const Xt=function(n){return["/administration/niveau",n]};function ei(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",55),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",56),e._UZ(2,"i",57),e.qZA(),e.TgZ(3,"dropdown-menu",58,59),e.TgZ(5,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().showDetail(l.id)}),e.TgZ(6,"div",61),e._UZ(7,"i",62),e.TgZ(8,"span",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",64),e.TgZ(12,"div",61),e._UZ(13,"i",65),e.TgZ(14,"span",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(181);return c.delete(l,g)}),e.TgZ(18,"div",61),e._UZ(19,"i",66),e.TgZ(20,"span",63),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.row;e.xp6(9),e.Oqu(e.lcZ(10,4,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(10,Xt,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,6,"action.addNiveau")),e.xp6(6),e.Oqu(e.lcZ(22,8,"action.delete"))}}function ti(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function ii(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.cycle.libelle," ")}const ni=function(n){return["/administration/classe",n]};function oi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",55),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",56),e._UZ(2,"i",57),e.qZA(),e.TgZ(3,"dropdown-menu",67,59),e.TgZ(5,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().showNiveauModal(l)}),e.TgZ(6,"div",61),e._UZ(7,"i",62),e.TgZ(8,"span",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",68),e.TgZ(12,"div",61),e._UZ(13,"i",65),e.TgZ(14,"span",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(183);return c.delete(l,g)}),e.TgZ(18,"div",61),e._UZ(19,"i",66),e.TgZ(20,"span",63),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.row;e.xp6(9),e.Oqu(e.lcZ(10,4,"action.edit")),e.xp6(2),e.Q6J("routerLink",e.VKq(10,ni,t.id)),e.xp6(4),e.Oqu(e.lcZ(16,6,"action.addclasse")),e.xp6(6),e.Oqu(e.lcZ(22,8,"action.delete"))}}function ri(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function ai(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.effectif," ")}function li(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.niveau.libelle," ")}function si(n,r){if(1&n&&e._uU(0),2&n){const t=r.row;e.hij(" ",null==t.titulaire?null:t.titulaire.name," ")}}function ci(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",55),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",56),e._UZ(2,"i",57),e.qZA(),e.TgZ(3,"dropdown-menu",67,59),e.TgZ(5,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().showClasseModal(l)}),e.TgZ(6,"div",61),e._UZ(7,"i",62),e.TgZ(8,"span",63),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().dowloadExelstudentclasse(l.id)}),e.TgZ(12,"div",61),e._UZ(13,"i",69),e.TgZ(14,"span",63),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"a",60),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(185);return c.delete(l,g)}),e.TgZ(18,"div",61),e._UZ(19,"i",66),e.TgZ(20,"span",63),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(9),e.Oqu(e.lcZ(10,3,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,5,"action.fichenote")),e.xp6(6),e.Oqu(e.lcZ(22,7,"action.delete")))}function di(n,r){if(1&n&&(e.TgZ(0,"ng-option",70),e._uU(1),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.Q6J("value",t.id===(null==i.editForm.get("titulaire").value?null:i.editForm.get("titulaire").value.id)?i.editForm.get("titulaire").value:t),e.xp6(1),e.hij(" ",t.name,"")}}function ui(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",71),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment le cycle:",t.deleteRow.libelle,"?")}}function mi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",71),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmNiveau()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment supprimer le niveau:",t.deleteRow.libelle,"?")}}function pi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",71),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmClasse()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment supprimer la classe:",t.deleteRow.libelle,"?")}}const ee=function(){return{backdrop:"static"}};let gi=(()=>{class n{constructor(t,i,o,l,c,g,k,w,C,G,q){this.modalService=t,this.formBuilder=i,this.tableSvc=o,this.toaster=l,this.translateService=c,this.exserve=g,this.excelService=k,this.resgisterService=w,this.professorService=C,this.cdr=G,this.screenSizeSvc=q,this.rows=[],this.rowclasses=[],this.rowniveaus=[],this.tempclasses=[],this.tempniveaus=[],this.temp=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.titulaireSharedCollection=[],this.editForm=this.formBuilder.group({id:[],libelle:[null,[a.kI.required]],effectif:[null,[a.kI.required]],titulaire:[null,[a.kI.required]],niveau:[null,[a.kI.required]]}),this.hideId=!0,this.screenSizeSvc.onResize$.pipe((0,O.g)(0)).subscribe(F=>{F.includes(H.y.XXL)||F.includes(H.y.XL)||F.includes(H.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=d.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=d.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.fetch(),this.formGroup=this.formBuilder.group({libelle:[null,[a.kI.required]]}),this.formGroupNiveau=this.formBuilder.group({libelle:[null,[a.kI.required]]}),this.formGroupClasse=this.formBuilder.group({libelle:[null,[a.kI.required]],effectif:[null,[a.kI.required]]})}windowResize(t){this.getScreenWidth(t.target.innerWidth)}onSelect(t){this.value=t.heading}onSubmit(){this.tableSvc.addCycle({data:{libelle:this.formGroup.value.libelle}}).subscribe(i=>{this.fetch(),this.formGroup.reset(),this.hideChildModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}delete(t,i){this.deleteRow=t,this.modalRef=this.modalService.show(i,{class:"modal-sm"})}confirm(){this.tableSvc.deleteCycle(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmClasse(){this.tableSvc.deleteClasse(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmNiveau(){this.tableSvc.deleteNiveau(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}decline(){this.modalRef.hide()}onReset(){this.formGroup.reset()}onActivate(t){}showChildModal(){this.cycleModal.show()}hideChildModal(){this.cycleModal.hide()}showNiveauModal(t){this.iditId=t.id,this.iditCycleId=t.cycle.id,this.formGroupNiveau.patchValue(t),this.niveauModal.show()}hideNiveauModal(){this.niveauModal.hide()}showClasseModal(t){this.iditId=t.id,this.updateForm(t),this.classeModal.show(),this.loadRelationshipsOptions(),this.cdr.markForCheck()}hideClasseModal(){this.classeModal.hide()}getScreenWidth(t){this.screenSizeSvc.onResize(t)}fetch(){this.tableSvc.getCycles().subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}showDetail(t){this.iditId=t,this.tableSvc.getCycle(t).subscribe(i=>{this.formGroup.value.name=i.data.name,this.formGroup.patchValue(i.data),this.cycleEditModal.show(),this.cdr.markForCheck()},i=>{})}dowloadExelstudentclasse2(t){this.resgisterService.getRegisterStudentsbyclasse(t).subscribe(o=>{const c={Sheets:{data:K.utils.json_to_sheet(o.data)},SheetNames:["data"]},g=K.write(c,{bookType:"xlsx",type:"array"}),k=new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});this.excelService.save(k,"sample"),this.cdr.markForCheck()})}dowloadExelstudentclasse(t){this.resgisterService.getRegisterStudentsbyclasse(t).subscribe(o=>{const l=[];o.data.forEach(function(g){l.push({name:g.student.name,matricule:g.student.matricule,note:""})}),console.log(l),this.exserve.exportAsPDFFile(l,"example"),new Blob(l,{type:"text/plain"}),this.cdr.markForCheck()})}onSubmitEdit(){this.tableSvc.editCycle({data:{libelle:this.formGroup.value.libelle}},this.iditId).subscribe(i=>{this.hideChildEditModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.fetch()},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}hideChildEditModal(){this.cycleEditModal.hide()}hideChildClasseModal(){this.classeModal.hide()}hideChildNiveauModal(){this.niveauModal.hide()}onSubmitClasse(){this.tableSvc.editClasse({data:{libelle:this.editForm.value.libelle,effectif:this.editForm.value.effectif,titulaire:this.editForm.value.titulaire.id,niveau:this.editForm.value.niveau}},this.editForm.value.id).subscribe(i=>{this.hideChildEditModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.fetch()},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onSubmitNiveau(){this.tableSvc.editNiveau({data:{libelle:this.formGroupNiveau.value.libelle,cycle:this.iditCycleId}},this.iditId).subscribe(i=>{this.hideChildNiveauModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.fetch()},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}updateForm(t){this.editForm.patchValue({id:t.id,libelle:t.libelle,effectif:t.effectif,titulaire:t.titulaire,niveau:t.niveau.id}),this.titulaireSharedCollection=this.professorService.addProfessorToCollectionIfMissing(this.titulaireSharedCollection,t.titulaire)}createFromForm(){return Object.assign(Object.assign({},new Pt),{id:this.editForm.get(["id"]).value,libelle:this.editForm.get(["libelle"]).value,effectif:this.editForm.get(["effectif"]).value,titulaire:this.editForm.get(["titulaire"]).value,niveau:this.editForm.get(["niveau"]).value})}loadRelationshipsOptions(){this.professorService.getProfessorsbis().pipe((0,ae.U)(t=>this.professorService.addProfessorToCollectionIfMissing(t,this.editForm.get("titulaire").value))).subscribe(t=>this.titulaireSharedCollection=t)}onSelectniveau(t){this.tableSvc.getNiveaus().subscribe(i=>{this.tempniveaus=[...i.data],this.rowniveaus=i.data,this.cdr.markForCheck(),console.log(this.temp)},i=>{console.log(i)})}onSelectclasse(t){this.tableSvc.getClassesbis().subscribe(i=>{this.tempclasses=[...i],this.rowclasses=i,this.cdr.markForCheck(),console.log(this.temp)},i=>{console.log(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.tT),e.Y36(a.qu),e.Y36(j.U),e.Y36(h._W),e.Y36(u.sK),e.Y36(re),e.Y36(Dt),e.Y36(Qt.e),e.Y36(jt.c),e.Y36(e.sBO),e.Y36(M.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cycle"]],viewQuery:function(t,i){if(1&t&&(e.Gf(d.nE,5),e.Gf(d.nE,5),e.Gf(d.nE,5),e.Gf(Bt,5),e.Gf($t,5),e.Gf(Kt,5),e.Gf(Vt,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.table=o.first),e.iGM(o=e.CRH())&&(i.tableniveau=o.first),e.iGM(o=e.CRH())&&(i.tableclasse=o.first),e.iGM(o=e.CRH())&&(i.cycleModal=o.first),e.iGM(o=e.CRH())&&(i.cycleEditModal=o.first),e.iGM(o=e.CRH())&&(i.niveauModal=o.first),e.iGM(o=e.CRH())&&(i.classeModal=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(l){return i.windowResize(l)},!1,e.Jf7)},features:[e._Bn([h._W])],decls:186,vars:133,consts:[["type","pills",3,"justified"],["heading","Enseignement",1,"mt-2"],[1,"card"],[1,"card-header"],[1,"card-title"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight","scrollbarH"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["heading","Niveau",1,"mt-2",3,"selectTab"],["loadingIndicator","true",3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight","scrollbarH"],["tableniveau",""],["heading","Classes",1,"mt-2",3,"selectTab"],["tableclasse",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["cycleModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-childedit-name",1,"modal","fade",3,"config"],["cycleEditModal","bs-modal"],["id","dialog-childedit-name",1,"modal-title","pull-left"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-niveau-name",1,"modal","fade",3,"config"],["niveauModal","bs-modal"],["id","dialog-niveau-libelle",1,"modal-title","pull-left"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-classe-name",1,"modal","fade",3,"config"],["classeModal","bs-modal"],["id","dialog-classe-libelle",1,"modal-title","pull-left"],[1,"form-group",3,"hidden"],["for","field_id",1,"form-control-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["for","field_niveau",1,"form-control-label"],["type","number","name","id","id","field_niveau","data-cy","id","formControlName","niveau",1,"form-control",3,"readonly"],["type","text","formControlName","effectif",1,"form-control"],["formControlName","titulaire"],[3,"value",4,"ngFor","ngForOf"],["template",""],["templateNiveau",""],["templateClasse",""],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],["dropdownItem","","href","",3,"routerLink"],[1,"feather","icon-plus"],[1,"feather","icon-trash-2"],["alignment","right"],["dropdownItem","","href","javascript:void(0)",3,"routerLink"],[1,"feather","icon-download"],[3,"value"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.showChildModal()}),e._UZ(8,"i",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"ngx-datatable",8,9),e.TgZ(14,"ngx-datatable-column",10),e.ALo(15,"translate"),e.YNc(16,Wt,1,1,"ng-template",11),e.qZA(),e.TgZ(17,"ngx-datatable-column",12),e.YNc(18,ei,23,12,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"tab",13),e.NdJ("selectTab",function(l){return i.onSelectniveau(l)}),e.TgZ(20,"div",2),e.TgZ(21,"div",3),e.TgZ(22,"h5",4),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.qZA(),e.TgZ(25,"div",7),e.TgZ(26,"ngx-datatable",14,15),e.TgZ(28,"ngx-datatable-column",10),e.ALo(29,"translate"),e.YNc(30,ti,1,1,"ng-template",11),e.qZA(),e.TgZ(31,"ngx-datatable-column",10),e.ALo(32,"translate"),e.YNc(33,ii,1,1,"ng-template",11),e.qZA(),e.TgZ(34,"ngx-datatable-column",12),e.YNc(35,oi,23,12,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"tab",16),e.NdJ("selectTab",function(l){return i.onSelectclasse(l)}),e.TgZ(37,"div",2),e.TgZ(38,"div",3),e.TgZ(39,"h5",4),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.qZA(),e.TgZ(42,"div",7),e.TgZ(43,"ngx-datatable",14,17),e.TgZ(45,"ngx-datatable-column",10),e.ALo(46,"translate"),e.YNc(47,ri,1,1,"ng-template",11),e.qZA(),e.TgZ(48,"ngx-datatable-column",10),e.ALo(49,"translate"),e.YNc(50,ai,1,1,"ng-template",11),e.qZA(),e.TgZ(51,"ngx-datatable-column",10),e.ALo(52,"translate"),e.YNc(53,li,1,1,"ng-template",11),e.qZA(),e.TgZ(54,"ngx-datatable-column",10),e.ALo(55,"translate"),e.YNc(56,si,1,1,"ng-template",11),e.qZA(),e.TgZ(57,"ngx-datatable-column",12),e.YNc(58,ci,23,9,"ng-template",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",18,19),e.TgZ(61,"div",20),e.TgZ(62,"div",21),e.TgZ(63,"div",22),e.TgZ(64,"h4",23),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"button",24),e.NdJ("click",function(){return i.hideChildModal()}),e.TgZ(68,"span",25),e._uU(69,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",26),e.TgZ(71,"form",27),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(72,"div",28),e.TgZ(73,"div",29),e.TgZ(74,"div",30),e.TgZ(75,"label",31),e._uU(76),e.ALo(77,"translate"),e.qZA(),e._UZ(78,"input",32),e.qZA(),e.TgZ(79,"button",33),e.NdJ("click",function(){return i.onReset()}),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"button",34),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"div",35,36),e.TgZ(87,"div",20),e.TgZ(88,"div",21),e.TgZ(89,"div",22),e.TgZ(90,"h4",37),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.TgZ(93,"button",24),e.NdJ("click",function(){return i.hideChildEditModal()}),e.TgZ(94,"span",25),e._uU(95,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(96,"div",26),e.TgZ(97,"form",27),e.NdJ("validSubmit",function(){return i.onSubmitEdit()}),e.TgZ(98,"div",28),e.TgZ(99,"div",29),e.TgZ(100,"div",30),e.TgZ(101,"label",31),e._uU(102),e.ALo(103,"translate"),e.qZA(),e._UZ(104,"input",32),e.qZA(),e.TgZ(105,"button",33),e.NdJ("click",function(){return i.onReset()}),e._uU(106),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"button",34),e._uU(109),e.ALo(110,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(111,"div",38,39),e.TgZ(113,"div",20),e.TgZ(114,"div",21),e.TgZ(115,"div",22),e.TgZ(116,"h4",40),e._uU(117),e.ALo(118,"translate"),e.qZA(),e.TgZ(119,"button",24),e.NdJ("click",function(){return i.hideNiveauModal()}),e.TgZ(120,"span",25),e._uU(121,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(122,"div",26),e.TgZ(123,"form",27),e.NdJ("validSubmit",function(){return i.onSubmitNiveau()}),e.TgZ(124,"div",28),e.TgZ(125,"div",29),e.TgZ(126,"div",30),e.TgZ(127,"label",31),e._uU(128,"Libelle"),e.qZA(),e._UZ(129,"input",32),e.qZA(),e.TgZ(130,"button",33),e.NdJ("click",function(){return i.onReset()}),e._uU(131,"Reset"),e.qZA(),e.TgZ(132,"button",34),e._uU(133,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(134,"div",41,42),e.TgZ(136,"div",20),e.TgZ(137,"div",21),e.TgZ(138,"div",22),e.TgZ(139,"h4",43),e._uU(140),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"button",24),e.NdJ("click",function(){return i.hideClasseModal()}),e.TgZ(143,"span",25),e._uU(144,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(145,"div",26),e.TgZ(146,"form",27),e.NdJ("validSubmit",function(){return i.onSubmitClasse()}),e.TgZ(147,"div",28),e.TgZ(148,"div",29),e.TgZ(149,"div",44),e.TgZ(150,"label",45),e._uU(151,"ID"),e.qZA(),e._UZ(152,"input",46),e.qZA(),e.TgZ(153,"div",44),e.TgZ(154,"label",47),e._uU(155),e.ALo(156,"translate"),e.qZA(),e._UZ(157,"input",48),e.qZA(),e.TgZ(158,"div",30),e.TgZ(159,"label",31),e._uU(160),e.ALo(161,"translate"),e.qZA(),e._UZ(162,"input",32),e.qZA(),e.TgZ(163,"div",30),e.TgZ(164,"label",31),e._uU(165),e.ALo(166,"translate"),e.qZA(),e._UZ(167,"input",49),e.qZA(),e.TgZ(168,"div",30),e.TgZ(169,"label",31),e._uU(170),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"ng-select",50),e.YNc(173,di,2,2,"ng-option",51),e.qZA(),e.qZA(),e.TgZ(174,"button",33),e.NdJ("click",function(){return i.onReset()}),e._uU(175),e.ALo(176,"translate"),e.qZA(),e.TgZ(177,"button",34),e._uU(178),e.ALo(179,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(180,ui,7,1,"ng-template",null,52,e.W1O),e.YNc(182,mi,7,1,"ng-template",null,53,e.W1O),e.YNc(184,pi,7,1,"ng-template",null,54,e.W1O)),2&t&&(e.Q6J("justified",!0),e.xp6(5),e.Oqu(e.lcZ(6,75,"title.cycle")),e.xp6(4),e.Oqu(e.lcZ(10,77,"action.add")),e.xp6(3),e.Q6J("rows",i.rows)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(15,79,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(24,81,"title.niveau")),e.xp6(3),e.Q6J("rows",i.rowniveaus)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",100)("limit",10)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(29,83,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(32,85,"fields.enseignement")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(41,87,"title.classe")),e.xp6(3),e.Q6J("rows",i.rowclasses)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",100)("limit",10)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(46,89,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(49,91,"fields.effectif")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(52,93,"fields.niveau")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(55,95,"fields.titulaire")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(129,ee)),e.xp6(6),e.Oqu(e.lcZ(66,97,"title.addcycle")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Oqu(e.lcZ(77,99,"fields.libelle")),e.xp6(4),e.Oqu(e.lcZ(81,101,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(84,103,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(130,ee)),e.xp6(6),e.Oqu(e.lcZ(92,105,"title.editcycle")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Oqu(e.lcZ(103,107,"fields.libelle")),e.xp6(4),e.Oqu(e.lcZ(107,109,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(110,111,"action.update")),e.xp6(2),e.Q6J("config",e.DdM(131,ee)),e.xp6(6),e.Oqu(e.lcZ(118,113,"title.editniveau")),e.xp6(6),e.Q6J("formGroup",i.formGroupNiveau),e.xp6(11),e.Q6J("config",e.DdM(132,ee)),e.xp6(6),e.Oqu(e.lcZ(141,115,"title.editclasse")),e.xp6(6),e.Q6J("formGroup",i.editForm),e.xp6(3),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("hidden",i.hideId),e.xp6(2),e.Oqu(e.lcZ(156,117,"field.niveau")),e.xp6(2),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(161,119,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(166,121,"fields.effectif")),e.xp6(5),e.Oqu(e.lcZ(171,123,"fields.titulaire")),e.xp6(3),e.Q6J("ngForOf",i.titulaireSharedCollection),e.xp6(2),e.Oqu(e.lcZ(176,125,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(179,127,"action.save")))},directives:[L.AH,L.wW,d.nE,d.UC,d.vq,s.oB,a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,B.w9,T.sg,S.L,z.h,Q.h,v.yS,B.xv],pipes:[u.X$],styles:[""]}),n})();function _i(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function hi(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.cycle.libelle," ")}function fi(n,r){if(1&n&&(e.TgZ(0,"div",19),e._UZ(1,"span",20),e.TgZ(2,"span",21),e._uU(3),e.qZA(),e.qZA()),2&n){const t=r.row;e.Q6J("ngClass","active"===t.is_clotured?"text-success":"text-danger"),e.xp6(1),e.Q6J("ngClass","active"===t.is_clotured?"bg-success":"bg-danger"),e.xp6(2),e.Oqu(t.is_clotured)}}let Zi=(()=>{class n{constructor(t,i,o,l,c){this.toaster=t,this.formBuilder=i,this.cdr=o,this.route=l,this.service=c,this.rows=[],this.cdr.markForCheck()}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:["",[a.kI.required]]}),this.fetch()}fetch(){this.service.getNiveauxbycycle(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,this.cdr.detectChanges()},t=>{console.log(t)})}previousState(){window.history.back()}onSave(){const t={data:{libelle:this.formGroup.value.libelle,cycle:this.route.snapshot.paramMap.get("id")}};this.service.addNiveau(t).subscribe(i=>{this.fetch(),this.formGroup.reset()},i=>{console.log(i)})}onReset(){this.formGroup.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h._W),e.Y36(a.qu),e.Y36(e.sBO),e.Y36(v.gz),e.Y36(j.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-niveau"]],features:[e._Bn([h._W])],decls:28,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","loadingIndicator","true","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["name","Enseignement",3,"width"],["name","Status",3,"width"],[1,"d-flex","align-items-center",3,"ngClass"],[1,"badge-dot","me-2",3,"ngClass"],[1,"text-capitalize"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.previousState()}),e._UZ(7,"i",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"form",7),e.NdJ("validSubmit",function(){return i.onSave()}),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"libelle"),e.qZA(),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",11),e.TgZ(15,"button",12),e.NdJ("click",function(){return i.onReset()}),e._uU(16,"Reset"),e.qZA(),e.TgZ(17,"button",13),e._uU(18,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",0),e.TgZ(20,"div",6),e.TgZ(21,"ngx-datatable",14),e.TgZ(22,"ngx-datatable-column",15),e.YNc(23,_i,1,1,"ng-template",16),e.qZA(),e.TgZ(24,"ngx-datatable-column",17),e.YNc(25,hi,1,1,"ng-template",16),e.qZA(),e.TgZ(26,"ngx-datatable-column",18),e.YNc(27,fi,4,3,"ng-template",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,6,"title.editniveau")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(12),e.Q6J("rows",i.rows),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70),e.xp6(2),e.Q6J("width",70))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,d.nE,d.UC,d.vq,T.mk],pipes:[u.X$],styles:[""]}),n})();var bi=m(7481);class Ti{constructor(r,t,i){this.id=r,this.libelle=t,this.position=i}}const vi=["groupematiereModal"],Ai=["groupematiereEditModal"],qi=["matiereModal"],xi=["matiereEditModal"];function Ci(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Si(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.position," ")}function wi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",50),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",51),e._UZ(2,"i",52),e.qZA(),e.TgZ(3,"dropdown-menu",53,54),e.TgZ(5,"a",55),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().editGroupematiere(l)}),e.TgZ(6,"div",56),e._UZ(7,"i",57),e.TgZ(8,"span",58),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",55),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(176);return c.delete(l,g)}),e.TgZ(12,"div",56),e._UZ(13,"i",59),e.TgZ(14,"span",58),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}function yi(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Ui(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.code," ")}function Mi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",50),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",51),e._UZ(2,"i",52),e.qZA(),e.TgZ(3,"dropdown-menu",53,54),e.TgZ(5,"a",55),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().editMatiere(l)}),e.TgZ(6,"div",56),e._UZ(7,"i",57),e.TgZ(8,"span",58),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",55),e.NdJ("click",function(){const l=e.CHM(t).row,c=e.oxw(),g=e.MAs(178);return c.delete(l,g)}),e.TgZ(12,"div",56),e._UZ(13,"i",59),e.TgZ(14,"span",58),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}function ki(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",60),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment le groupe de matiere:",t.deleteRow.libelle,"?")}}function Ei(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",60),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"button",61),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmMatiere()}),e._uU(4,"Yes"),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){return e.CHM(t),e.oxw().decline()}),e._uU(6,"No"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("Voulez-vous vraiment la matiere:",t.deleteRow.libelle,"?")}}const te=function(){return{backdrop:"static"}};let Oi=(()=>{class n{constructor(t,i,o,l,c,g,k){this.modalService=t,this.formBuilder=i,this.translateService=o,this.toaster=l,this.tableSvc=c,this.cdr=g,this.screenSizeSvc=k,this.rows=[],this.rowmatieres=[],this.tempmatieres=[],this.temp=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.hideId=!0,this.editMatiereForm=this.formBuilder.group({id:[],libelle:["",[a.kI.required]],code:["",[a.kI.required]]}),this.editGroupematiereForm=this.formBuilder.group({id:[],libelle:["",[a.kI.required]],position:["",[a.kI.required]]}),this.screenSizeSvc.onResize$.pipe((0,O.g)(0)).subscribe(w=>{w.includes(H.y.XXL)||w.includes(H.y.XL)||w.includes(H.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=d.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=d.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.fetch(),this.formGroup=this.formBuilder.group({libelle:["",[a.kI.required]],position:["",[a.kI.required]]}),this.formGroupMatiere=this.formBuilder.group({libelle:["",[a.kI.required]],code:["",[a.kI.required]]})}windowResize(t){this.getScreenWidth(t.target.innerWidth)}onSelect(t){this.value=t.heading}delete(t,i){this.deleteRow=t,this.modalRef=this.modalService.show(i,{class:"modal-md"})}confirm(){this.tableSvc.delete(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}confirmMatiere(){this.tableSvc.deleteMatiere(this.deleteRow.id).subscribe(t=>{this.toaster.success(this.translateService.instant("MESSAGES.DELETE_SUCCESS"),"OK"),this.fetch()},t=>{this.toaster.error(this.translateService.instant("MESSAGES.DELETE_ERROR"),"OK")}),this.modalRef.hide()}decline(){this.modalRef.hide()}onSubmit(){this.tableSvc.addGroupematiere({data:{libelle:this.formGroup.value.libelle,position:this.formGroup.value.position}}).subscribe(i=>{this.fetch(),this.formGroup.reset(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}onActivate(t){}showGroupeModal(){this.groupematiereModal.show()}hideGroupeModal(){this.groupematiereModal.hide(),this.groupematiereEditModal.hide()}showMatiereModal(){this.matiereModal.show(),this.formGroupMatiere.reset(),this.createFromForm()}hideMatiereModal(){this.matiereModal.hide(),this.matiereEditModal.hide()}getScreenWidth(t){this.screenSizeSvc.onResize(t)}fetch(){this.tableSvc.getGroupematieres().subscribe(t=>{this.temp=[...t],this.rows=t,this.cdr.markForCheck()},t=>{console.log(t)})}onSubmitMatiere(){const i={data:this.createFromForm()};this.tableSvc.addMatiere(i).subscribe(o=>{this.fetch(),this.editMatiereForm.reset(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},o=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}createFromForm(){return Object.assign(Object.assign({},new bi.V),{id:this.editMatiereForm.get(["id"]).value,libelle:this.editMatiereForm.get(["libelle"]).value,code:this.editMatiereForm.get(["code"]).value})}createFromGroupeForm(){return Object.assign(Object.assign({},new Ti),{id:this.editGroupematiereForm.get(["id"]).value,libelle:this.editGroupematiereForm.get(["libelle"]).value,position:this.editGroupematiereForm.get(["position"]).value})}updateForm(t){this.editMatiereForm.patchValue({id:t.id,libelle:t.libelle,code:t.code})}updateGroupeForm(t){this.editGroupematiereForm.patchValue({id:t.id,libelle:t.libelle,position:t.position})}editGroupematiere(t){this.updateGroupeForm(t),this.groupematiereEditModal.show(),this.cdr.markForCheck()}editMatiere(t){this.updateForm(t),this.matiereEditModal.show(),this.cdr.markForCheck()}onSubmitEditMatiere(){const t=this.createFromForm();this.tableSvc.editMatiere({data:t},t.id).subscribe(o=>{this.fetch(),this.editMatiereForm.reset(),this.matiereEditModal.hide(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},o=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onSubmitEdit(){const t=this.createFromGroupeForm();this.tableSvc.editGroupeMatiere({data:t},t.id).subscribe(o=>{this.fetch(),this.formGroupMatiere.reset(),this.groupematiereEditModal.hide(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},o=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"NON OK")})}onSelectmatiere(t){this.tableSvc.getMatieres().subscribe(i=>{this.tempmatieres=[...i],this.rowmatieres=i,this.cdr.markForCheck(),console.log(this.tempmatieres)},i=>{console.log(i)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.tT),e.Y36(a.qu),e.Y36(u.sK),e.Y36(h._W),e.Y36(X._),e.Y36(e.sBO),e.Y36(M.O))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-groupematiere"]],viewQuery:function(t,i){if(1&t&&(e.Gf(d.nE,5),e.Gf(d.nE,5),e.Gf(vi,5),e.Gf(Ai,5),e.Gf(qi,5),e.Gf(xi,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.table=o.first),e.iGM(o=e.CRH())&&(i.tablematiere=o.first),e.iGM(o=e.CRH())&&(i.groupematiereModal=o.first),e.iGM(o=e.CRH())&&(i.groupematiereEditModal=o.first),e.iGM(o=e.CRH())&&(i.matiereModal=o.first),e.iGM(o=e.CRH())&&(i.matiereEditModal=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("resize",function(l){return i.windowResize(l)},!1,e.Jf7)},features:[e._Bn([h._W])],decls:179,vars:119,consts:[["type","pills",3,"justified"],["heading","Groupe matiere",1,"mt-2",3,"selectTab"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selectionType","rowHeight","scrollbarH","activate","select"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["heading","Matiere",1,"mt-2",3,"selectTab"],["tablematiere",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["groupematiereModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","position",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["groupematiereEditModal","bs-modal"],["id","dialog-child-editname",1,"modal-title","pull-left"],[1,"form-group",3,"hidden"],["for","field_id",1,"form-control-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-matierename",1,"modal","fade",3,"config"],["matiereModal","bs-modal"],["id","dialog-child-matierename",1,"modal-title","pull-left"],["type","text","formControlName","code",1,"form-control"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-editmatierename",1,"modal","fade",3,"config"],["matiereEditModal","bs-modal"],["id","dialog-child-editmatierename",1,"modal-title","pull-left"],["for","field_idm",1,"form-control-label"],["type","number","name","id","id","field_idm","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],["template",""],["templateMatiere",""],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-trash-2"],[1,"modal-body","text-center"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"tabset",0),e.TgZ(1,"tab",1),e.NdJ("selectTab",function(l){return i.onSelect(l)}),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h5",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return i.showGroupeModal()}),e._UZ(9,"i",7),e._uU(10," Add groupe matiere "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"ngx-datatable",9,10),e.NdJ("activate",function(l){return i.onActivate(l)})("select",function(l){return i.onSelect(l)}),e.TgZ(14,"ngx-datatable-column",11),e.ALo(15,"translate"),e.YNc(16,Ci,1,1,"ng-template",12),e.qZA(),e.TgZ(17,"ngx-datatable-column",11),e.ALo(18,"translate"),e.YNc(19,Si,1,1,"ng-template",12),e.qZA(),e.TgZ(20,"ngx-datatable-column",13),e.YNc(21,wi,17,6,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"tab",14),e.NdJ("selectTab",function(l){return i.onSelectmatiere(l)}),e.TgZ(23,"div",2),e.TgZ(24,"div",3),e.TgZ(25,"h5",4),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",5),e.TgZ(29,"button",6),e.NdJ("click",function(){return i.showMatiereModal()}),e._UZ(30,"i",7),e._uU(31," Add matiere "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",8),e.TgZ(33,"ngx-datatable",9,15),e.NdJ("activate",function(l){return i.onActivate(l)})("select",function(l){return i.onSelect(l)}),e.TgZ(35,"ngx-datatable-column",11),e.ALo(36,"translate"),e.YNc(37,yi,1,1,"ng-template",12),e.qZA(),e.TgZ(38,"ngx-datatable-column",11),e.ALo(39,"translate"),e.YNc(40,Ui,1,1,"ng-template",12),e.qZA(),e.TgZ(41,"ngx-datatable-column",13),e.YNc(42,Mi,17,6,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",16,17),e.TgZ(45,"div",18),e.TgZ(46,"div",19),e.TgZ(47,"div",20),e.TgZ(48,"h4",21),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"button",22),e.NdJ("click",function(){return i.hideGroupeModal()}),e.TgZ(52,"span",23),e._uU(53,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"div",24),e.TgZ(55,"form",25),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(56,"div",26),e.TgZ(57,"div",27),e.TgZ(58,"div",28),e.TgZ(59,"label",29),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"input",30),e.qZA(),e.TgZ(63,"div",28),e.TgZ(64,"label",29),e._uU(65),e.ALo(66,"translate"),e.qZA(),e._UZ(67,"input",31),e.qZA(),e.TgZ(68,"button",32),e.NdJ("click",function(){return i.onReset()}),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"button",33),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",16,34),e.TgZ(76,"div",18),e.TgZ(77,"div",19),e.TgZ(78,"div",20),e.TgZ(79,"h4",35),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"button",22),e.NdJ("click",function(){return i.hideGroupeModal()}),e.TgZ(83,"span",23),e._uU(84,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(85,"div",24),e.TgZ(86,"form",25),e.NdJ("validSubmit",function(){return i.onSubmitEdit()}),e.TgZ(87,"div",26),e.TgZ(88,"div",27),e.TgZ(89,"div",36),e.TgZ(90,"label",37),e._uU(91,"ID"),e.qZA(),e._UZ(92,"input",38),e.qZA(),e.TgZ(93,"div",28),e.TgZ(94,"label",29),e._uU(95),e.ALo(96,"translate"),e.qZA(),e._UZ(97,"input",30),e.qZA(),e.TgZ(98,"div",28),e.TgZ(99,"label",29),e._uU(100),e.ALo(101,"translate"),e.qZA(),e._UZ(102,"input",31),e.qZA(),e.TgZ(103,"button",32),e.NdJ("click",function(){return i.onReset()}),e._uU(104),e.ALo(105,"translate"),e.qZA(),e.TgZ(106,"button",33),e._uU(107),e.ALo(108,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(109,"div",39,40),e.TgZ(111,"div",18),e.TgZ(112,"div",19),e.TgZ(113,"div",20),e.TgZ(114,"h4",41),e._uU(115),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"button",22),e.NdJ("click",function(){return i.hideMatiereModal()}),e.TgZ(118,"span",23),e._uU(119,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"div",24),e.TgZ(121,"form",25),e.NdJ("validSubmit",function(){return i.onSubmitMatiere()}),e.TgZ(122,"div",26),e.TgZ(123,"div",27),e.TgZ(124,"div",28),e.TgZ(125,"label",29),e._uU(126),e.ALo(127,"translate"),e.qZA(),e._UZ(128,"input",30),e.qZA(),e.TgZ(129,"div",28),e.TgZ(130,"label",29),e._uU(131),e.ALo(132,"translate"),e.qZA(),e._UZ(133,"input",42),e.qZA(),e.TgZ(134,"button",32),e.NdJ("click",function(){return i.onReset()}),e._uU(135),e.ALo(136,"translate"),e.qZA(),e.TgZ(137,"button",33),e._uU(138),e.ALo(139,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(140,"div",43,44),e.TgZ(142,"div",18),e.TgZ(143,"div",19),e.TgZ(144,"div",20),e.TgZ(145,"h4",45),e._uU(146),e.ALo(147,"translate"),e.qZA(),e.TgZ(148,"button",22),e.NdJ("click",function(){return i.hideMatiereModal()}),e.TgZ(149,"span",23),e._uU(150,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(151,"div",24),e.TgZ(152,"form",25),e.NdJ("validSubmit",function(){return i.onSubmitEditMatiere()}),e.TgZ(153,"div",26),e.TgZ(154,"div",27),e.TgZ(155,"div",36),e.TgZ(156,"label",46),e._uU(157,"ID"),e.qZA(),e._UZ(158,"input",47),e.qZA(),e.TgZ(159,"div",28),e.TgZ(160,"label",29),e._uU(161),e.ALo(162,"translate"),e.qZA(),e._UZ(163,"input",30),e.qZA(),e.TgZ(164,"div",28),e.TgZ(165,"label",29),e._uU(166),e.ALo(167,"translate"),e.qZA(),e._UZ(168,"input",42),e.qZA(),e.TgZ(169,"button",32),e.NdJ("click",function(){return i.onReset()}),e._uU(170),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"button",33),e._uU(173),e.ALo(174,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(175,ki,7,1,"ng-template",null,48,e.W1O),e.YNc(177,Ei,7,1,"ng-template",null,49,e.W1O)),2&t&&(e.Q6J("justified",!0),e.xp6(5),e.Oqu(e.lcZ(6,63,"title.groupematiere")),e.xp6(7),e.Q6J("rows",i.rows)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("selectionType",i.SelectionType.checkbox)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(15,65,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(18,67,"fields.position")),e.Q6J("width",40),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(6),e.Oqu(e.lcZ(27,69,"title.matiere")),e.xp6(7),e.Q6J("rows",i.rowmatieres)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("selectionType",i.SelectionType.checkbox)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(36,71,"fields.libelle")),e.Q6J("width",100),e.xp6(3),e.s9C("name",e.lcZ(39,73,"fields.code")),e.Q6J("width",100),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(115,te)),e.xp6(6),e.Oqu(e.lcZ(50,75,"title.addgroupematiere")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Oqu(e.lcZ(61,77,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(66,79,"fields.position")),e.xp6(4),e.Oqu(e.lcZ(70,81,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(73,83,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(116,te)),e.xp6(6),e.Oqu(e.lcZ(81,85,"title.editgroupematiere")),e.xp6(6),e.Q6J("formGroup",i.editGroupematiereForm),e.xp6(3),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(96,87,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(101,89,"fields.position")),e.xp6(4),e.Oqu(e.lcZ(105,91,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(108,93,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(117,te)),e.xp6(6),e.Oqu(e.lcZ(116,95,"title.addmatiere")),e.xp6(6),e.Q6J("formGroup",i.editMatiereForm),e.xp6(5),e.Oqu(e.lcZ(127,97,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(132,99,"fields.code")),e.xp6(4),e.Oqu(e.lcZ(136,101,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(139,103,"action.save")),e.xp6(2),e.Q6J("config",e.DdM(118,te)),e.xp6(6),e.Oqu(e.lcZ(147,105,"title.editmatiere")),e.xp6(6),e.Q6J("formGroup",i.editMatiereForm),e.xp6(3),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(162,107,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(167,109,"fields.code")),e.xp6(4),e.Oqu(e.lcZ(171,111,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(174,113,"action.save")))},directives:[L.AH,L.wW,d.nE,d.UC,d.vq,s.oB,a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,S.L,z.h,Q.h],pipes:[u.X$],styles:[""]}),n})();function Ni(n,r){if(1&n&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function Ji(n,r){if(1&n&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.libelle)}}function Li(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().row;e.xp6(1),e.Oqu(t.id)}}function Fi(n,r){if(1&n&&(e.YNc(0,Li,2,1,"span",28),e._uU(1)),2&n){const t=r.row;e.Q6J("ngIf",null==t.tranche),e.xp6(1),e.hij(" ",t.tranchelibelle," ")}}function Ii(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.montant," ")}function Ri(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.limitDate," ")}function Hi(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.cumul," ")}function Gi(n,r){if(1&n&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("(",t.selected.length,")")}}function Yi(n,r){if(1&n&&(e.TgZ(0,"span",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("(",t.selected.length,")")}}function Pi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",29),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",30),e._UZ(2,"i",31),e.qZA(),e.TgZ(3,"dropdown-menu",32,33),e.TgZ(5,"a",34),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().edit(l)}),e.TgZ(6,"div",35),e._UZ(7,"i",36),e.TgZ(8,"span",37),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Gi,2,1,"span",38),e.qZA(),e.qZA(),e.TgZ(12,"a",34),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().remove(l)}),e.TgZ(13,"div",35),e._UZ(14,"i",39),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Yi,2,1,"span",38),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,4,"action.edit")),e.xp6(2),e.Q6J("ngIf",t.selected.length>0),e.xp6(5),e.Oqu(e.lcZ(17,6,"action.delete")),e.xp6(2),e.Q6J("ngIf",t.selected.length>0)}}let Di=(()=>{class n{constructor(t,i,o,l,c,g,k,w){this.router=t,this.toaster=i,this.translateService=o,this.formBuilder=l,this.route=c,this.classeService=g,this.tableSvc=k,this.cdr=w,this.actions=[{value:"1",label:"Uniquement les nouveaux"},{value:"2",label:"Uniquement les anciens"},{value:"3",label:"Tous"}],this.rows=[],this.tranches=[],this.tranchepaiements=[],this.selected=[],this.temp=[],this.niveaux=[]}ngOnInit(){var t;this.formGroup=this.formBuilder.group({montantPension:[null,[a.kI.required]],fraisInscriptionNew:[null,[a.kI.required]],fraisInscriptionOld:[null,[a.kI.required]],niveau:[null,[a.kI.required]],tranche:[null,[a.kI.required]],limitDate:[null,[a.kI.required]],montant:[null,[a.kI.required]]}),this.fetch();const i=null!==(t=this.route.snapshot.queryParams.data)&&void 0!==t?t:"";console.log(i),this.tableSvc.getScolariteId(i).subscribe(o=>{this.tranchepaiements=o.data.tranche_scolarites,console.log(o.data),this.cdr.markForCheck()},o=>{console.log(o)})}fetch(){this.tableSvc.getTranche().subscribe(t=>{this.tranches=t.data,this.cdr.markForCheck()},t=>{console.log(t)}),this.classeService.getNiveaus().subscribe(t=>{this.niveaux=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onSubmit(){const t={data:{montantPension:this.formGroup.value.montantPension,fraisInscriptionNew:this.formGroup.value.fraisInscriptionNew,fraisInscriptionOld:this.formGroup.value.fraisInscriptionOld,niveau:this.formGroup.value.niveau,trancheScolarites:this.tranchepaiements}};console.log(t),this.tableSvc.addScolarite(t).subscribe(i=>{this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK"),this.router.navigate(["/administration/scolarite"])},i=>{console.log(i),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}addLine(){this.temp.push({tranchelibelle:this.formGroup.value.tranche.libelle,tranche:this.formGroup.value.tranche.id,montant:this.formGroup.value.montant,limitDate:this.formGroup.value.limitDate}),this.tranchepaiements=[...this.temp],console.log(this.tranchepaiements),this.cdr.markForCheck()}onSelect(t){}remove(t){console.log(t),this.tranchepaiements.forEach((i,o)=>{i==t&&(this.tranchepaiements.splice(t,1),this.temp.splice(t,1))})}edit(t){}goback(){window.history.back()}selecttranche(t){this.tranchecurrent=t,console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.F0),e.Y36(h._W),e.Y36(u.sK),e.Y36(a.qu),e.Y36(v.gz),e.Y36(j.U),e.Y36(V),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-addscolarite"]],features:[e._Bn([h._W])],decls:74,vars:57,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-warning",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","montantPension",1,"form-control"],["type","number","formControlName","fraisInscriptionNew",1,"form-control"],["type","number","formControlName","fraisInscriptionOld",1,"form-control"],["formControlName","niveau"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","col-md-3"],["formControlName","tranche"],["type","date","formControlName","limitDate",1,"form-control"],["type","number","formControlName","montant",1,"form-control"],[1,"col-md-3"],["type","button",1,"btn","btn","btn-primary","me-md-2",2,"margin-top","25px",3,"click"],["rowHeight","auto","columnMode","force",3,"rows","selected","footerHeight","select"],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[4,"ngIf"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","right"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-user-plus"],[1,"ms-2"],["class","ms-1",4,"ngIf"],[1,"feather","icon-trash-2"],[1,"ms-1"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return i.goback()}),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form",5),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",9),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"label",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ng-select",11),e.YNc(28,Ni,2,2,"ng-option",12),e.qZA(),e.qZA(),e._UZ(29,"hr"),e.TgZ(30,"div",13),e.TgZ(31,"div",14),e.TgZ(32,"label",7),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"ng-select",15),e.YNc(36,Ji,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(37,"div",14),e.TgZ(38,"label",7),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"input",16),e.qZA(),e.TgZ(42,"div",14),e.TgZ(43,"label",7),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",17),e.qZA(),e.TgZ(47,"div",18),e.TgZ(48,"button",19),e.NdJ("click",function(){return i.addLine()}),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",13),e.TgZ(52,"ngx-datatable",20),e.NdJ("select",function(l){return i.onSelect(l)}),e.TgZ(53,"ngx-datatable-column",21),e.ALo(54,"translate"),e.YNc(55,Fi,2,2,"ng-template",22),e.qZA(),e.TgZ(56,"ngx-datatable-column",21),e.ALo(57,"translate"),e.YNc(58,Ii,1,1,"ng-template",22),e.qZA(),e.TgZ(59,"ngx-datatable-column",21),e.ALo(60,"translate"),e.YNc(61,Ri,1,1,"ng-template",22),e.qZA(),e.TgZ(62,"ngx-datatable-column",21),e.ALo(63,"translate"),e.YNc(64,Hi,1,1,"ng-template",22),e.qZA(),e.TgZ(65,"ngx-datatable-column",23),e.YNc(66,Pi,19,8,"ng-template",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",24),e.TgZ(68,"button",25),e.NdJ("click",function(){return i.onReset()}),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"button",26),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,27,"action.back")),e.xp6(3),e.Q6J("formGroup",i.formGroup),e.xp6(3),e.Oqu(e.lcZ(11,29,"fields.montantpension")),e.xp6(5),e.Oqu(e.lcZ(16,31,"fields.fraisinscriptionnew")),e.xp6(5),e.Oqu(e.lcZ(21,33,"fields.fraisinscriptionold")),e.xp6(5),e.Oqu(e.lcZ(26,35,"fields.niveau")),e.xp6(3),e.Q6J("ngForOf",i.niveaux),e.xp6(5),e.Oqu(e.lcZ(34,37,"fields.tranche")),e.xp6(3),e.Q6J("ngForOf",i.tranches),e.xp6(3),e.Oqu(e.lcZ(40,39,"fields.datelimite")),e.xp6(5),e.Oqu(e.lcZ(45,41,"fields.montant")),e.xp6(5),e.Oqu(e.lcZ(50,43,"action.add")),e.xp6(3),e.Q6J("rows",i.tranchepaiements)("selected",i.selected)("footerHeight",100),e.xp6(1),e.s9C("name",e.lcZ(54,45,"fields.tranche")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(57,47,"fields.montant")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(60,49,"fields.datelimite")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(63,51,"fields.montantcumul")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(4),e.Oqu(e.lcZ(70,53,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(73,55,"action.save")))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,B.w9,T.sg,d.nE,d.UC,d.vq,B.xv,T.O5,S.L,z.h,Q.h],pipes:[u.X$],styles:[""]}),n})();function zi(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.libelle," ")}function Qi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",19),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",20),e._UZ(2,"i",21),e.qZA(),e.TgZ(3,"dropdown-menu",22,23),e.TgZ(5,"a",24),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().editTranche(l)}),e.TgZ(6,"div",25),e._UZ(7,"i",26),e.TgZ(8,"span",27),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(9),e.Oqu(e.lcZ(10,1,"action.edit")))}let ji=(()=>{class n{constructor(t,i,o,l,c){this.formBuilder=t,this.toaster=i,this.translateService=o,this.scolariteService=l,this.cdr=c,this.rows=[],this.temp=[],this.hideId=!0}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:[null,[a.kI.required]],code:[null,[a.kI.required]],id:[]}),this.fetch()}fetch(){this.scolariteService.getTranche().subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}onSubmit(){const t={data:{libelle:this.formGroup.value.libelle,code:this.formGroup.value.code}};console.log(t),null==this.formGroup.value.id?this.scolariteService.addTranche(t).subscribe(i=>{this.formGroup.reset(),this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{console.log(i),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")}):this.scolariteService.editTranche(t,this.formGroup.value.id).subscribe(i=>{this.formGroup.reset(),this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{console.log(i),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){this.formGroup.reset()}editTranche(t){this.formGroup.patchValue({id:t.id,libelle:t.libelle}),this.cdr.markForCheck()}goback(){history.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(h._W),e.Y36(u.sK),e.Y36(V),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tranche"]],features:[e._Bn([h._W])],decls:36,vars:22,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-warning",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[3,"formGroup","validSubmit"],[1,"form-group",3,"hidden"],["for","field_idm",1,"form-control-label"],["type","number","name","id","id","field_idm","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","number","formControlName","code",1,"form-control"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["rowHeight","auto","columnMode","force",3,"rows"],["name","Libelle",3,"width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return i.goback()}),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form",5),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"ID"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",11),e.qZA(),e.TgZ(17,"div",9),e.TgZ(18,"label",10),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return i.onReset()}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"button",14),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",0),e._UZ(29,"div",1),e.TgZ(30,"div",4),e.TgZ(31,"ngx-datatable",15),e.TgZ(32,"ngx-datatable-column",16),e.YNc(33,zi,1,1,"ng-template",17),e.qZA(),e.TgZ(34,"ngx-datatable-column",18),e.YNc(35,Qi,11,3,"ng-template",17),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,12,"action.back")),e.xp6(3),e.Q6J("formGroup",i.formGroup),e.xp6(1),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(15,14,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(20,16,"fields.code")),e.xp6(4),e.Oqu(e.lcZ(24,18,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(27,20,"action.save")),e.xp6(5),e.Q6J("rows",i.rows),e.xp6(1),e.Q6J("width",70),e.xp6(2),e.Q6J("sortable",!1)("width",40))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.wV,a.Fj,p.oH,a.JJ,a.u,d.nE,d.UC,d.vq,S.L,z.h,Q.h],pipes:[u.X$],styles:[""]}),n})();function Bi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"button",6),e.NdJ("click",function(o){const c=e.CHM(t).$implicit;return e.oxw().onRowClick(c.id,o)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.libelle," ")}}let $i=(()=>{class n{constructor(t,i,o,l,c){this.service=t,this.scolariteService=i,this.router=o,this.cdr=l,this.route=c,this.rows=[],this.cdr.markForCheck()}ngOnInit(){this.service.getNiveaus().subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onRowClick(t,i){console.log(t),this.router.navigate(["/administration/repartionniveau/"+t])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.U),e.Y36(V),e.Y36(v.F0),e.Y36(e.sBO),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-repartitionmatiere"]],decls:7,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"mb-2","fw-bolder"],[1,"card-body"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","list-group-item-action",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,Bi,3,1,"div",4),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,2,"title.repartitionmatiere")," "),e.xp6(3),e.Q6J("ngForOf",i.rows))},directives:[T.sg],pipes:[u.X$],styles:[""]}),n})();function Ki(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"input",13),e.NdJ("change",function(){const o=e.CHM(t);return o.selectFn(!o.allRowsSelected)}),e.qZA(),e.qZA()}if(2&n){const t=r.allRowsSelected;e.xp6(1),e.Q6J("checked",t)}}function Vi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"input",13),e.NdJ("change",function(o){return e.CHM(t).onCheckboxChangeFn(o)}),e.qZA(),e.qZA()}if(2&n){const t=r.isSelected;e.xp6(1),e.Q6J("checked",t)}}function Wi(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.matiere.libelle," ")}function Xi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.TgZ(1,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).previousState()}),e._UZ(2,"i",17),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addrepartition()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",19),e.qZA(),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"action.back"),""),e.xp6(3),e.Oqu(e.lcZ(7,4,"action.next")))}function en(n,r){1&n&&(e.TgZ(0,"ngx-datatable-footer"),e.YNc(1,Xi,9,6,"ng-template",14),e.qZA())}let tn=(()=>{class n{constructor(t,i,o,l){this.service=t,this.router=i,this.cdr=o,this.route=l,this.temp=[],this.rows=[],this.selected=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.cdr.markForCheck()}ngOnInit(){this.service.getRepartitionmatieres(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.temp=[...t.data],this.rows=t.data,this.rows.forEach(i=>{console.log(i),i.ischeck&&this.selected.push(i)}),this.cdr.markForCheck()},t=>{console.log(t)})}onSelect({selected:t}){this.selected.splice(0,this.selected.length),this.selected.push(...t),console.log("Select Event",this.selected)}onActivate(t){}previousState(){window.history.back()}addrepartition(){const t=[];this.selected.forEach(o=>{o.ischeck||(this.selected.push(o),t.push({matiere:o.matiere.id,coefficient:null,groupematiere:null,chapitre:null,coursmagistral:null,traveaudirige:null,traveaupratique:null}))});const i={data:{niveau:this.route.snapshot.paramMap.get("id"),repartitions:t}};console.log(i),this.service.postRepartitionmatieres(i).subscribe(o=>{this.router.navigate(["/administration/repartionniveaumake/"+this.route.snapshot.paramMap.get("id")],{state:{values:this.selected}})},o=>{console.log(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X._),e.Y36(v.F0),e.Y36(e.sBO),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-addrepartition"]],decls:16,vars:22,consts:[[1,"card"],[1,"card-header"],[1,"mb-2","fw-bolder"],[1,"card-body"],[1,"table-responsive"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selected","selectionType","rowHeight","scrollbarH","activate","select"],["table",""],[3,"width","sortable","canAutoResize","draggable","resizeable"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],[3,"name","width"],[4,"ngIf"],[1,"form-check","mb-0"],["type","checkbox",1,"form-check-input",3,"checked","change"],["ngx-datatable-footer-template",""],[1,"btn-group"],[1,"btn","btn-warning",3,"click"],[1,"la-arrow-left","la"],[1,"btn","btn-primary",3,"click"],[1,"icon-arrow-right","feather"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"ngx-datatable",5,6),e.NdJ("activate",function(l){return i.onActivate(l)})("select",function(l){return i.onSelect(l)}),e.TgZ(9,"ngx-datatable-column",7),e.YNc(10,Ki,2,1,"ng-template",8),e.YNc(11,Vi,2,1,"ng-template",9),e.qZA(),e.TgZ(12,"ngx-datatable-column",10),e.ALo(13,"translate"),e.YNc(14,Wi,1,1,"ng-template",9),e.qZA(),e.YNc(15,en,2,0,"ngx-datatable-footer",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,18,"title.repartitionmatiereniveau")," "),e.xp6(4),e.Q6J("rows",i.rows)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",100)("limit",100)("selected",i.selected)("selectionType",i.SelectionType.multiClick)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1),e.xp6(3),e.s9C("name",e.lcZ(13,20,"fields.matiere")),e.Q6J("width",70),e.xp6(3),e.Q6J("ngIf",!0))},directives:[d.nE,d.UC,d.tk,d.vq,T.O5,p.oH,d.dX,d.ii],pipes:[u.X$],styles:[""]}),n})();var nn=m(9063);function on(n,r){if(1&n&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.Q6J("value",t.id===(null==i.editForm.get("matiere").value?null:i.editForm.get("matiere").value.id)?i.editForm.get("matiere").value:t),e.xp6(1),e.hij(" ",t.libelle,"")}}function rn(n,r){if(1&n&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.Q6J("value",t.id===(null==i.editForm.get("groupematiere").value?null:i.editForm.get("groupematiere").value.id)?i.editForm.get("groupematiere").value:t),e.xp6(1),e.hij(" ",t.libelle,"")}}function an(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",28),e.TgZ(1,"input",29),e.NdJ("change",function(o){return e.CHM(t).onCheckboxChangeFn(o)}),e.qZA(),e.qZA()}if(2&n){const t=r.isSelected;e.xp6(1),e.Q6J("checked",t)}}function ln(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().row;e.xp6(1),e.Oqu(t.groupematiere.libelle)}}function sn(n,r){1&n&&e.YNc(0,ln,2,1,"span",26),2&n&&e.Q6J("ngIf",r.row.groupematiere)}function cn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.matiere.libelle," ")}function dn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.coefficient," ")}function un(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.coursmagistral," ")}function mn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.traveaudirige," ")}function pn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.chapitre," ")}function gn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e.TgZ(1,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).previousState()}),e._UZ(2,"i",33),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteLine()}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,2,"action.back"),""),e.xp6(3),e.Oqu(e.lcZ(7,4,"action.delete")))}function _n(n,r){1&n&&(e.TgZ(0,"ngx-datatable-footer"),e.YNc(1,gn,8,6,"ng-template",30),e.qZA())}let hn=(()=>{class n{constructor(t,i,o,l,c){this.formBuilder=t,this.service=i,this.router=o,this.cdr=l,this.route=c,this.temp=[],this.rows=[],this.hideId=!0,this.selected=[],this.repartitions=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.repartitionmatieresSharedCollection=[],this.matieresSharedCollection=[],this.groupematieresSharedCollection=[],this.editForm=this.formBuilder.group({id:[],matiere:[null,[a.kI.required]],groupematiere:[null,[a.kI.required]],coefficient:[null,[a.kI.required]],coursmagistral:[null,[a.kI.required]],chapitre:[null,[a.kI.required]],traveaudirige:[null,[a.kI.required]]}),this.cdr.markForCheck()}ngOnInit(){this.fetch()}fetch(){this.service.getRepartitionmatieresniveau(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.rows=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onSelect({selected:t}){this.updateForm(t[0]),this.deleteValue=t[0],this.loadRelationshipsOptions(),this.cdr.markForCheck()}onActivate(t){}createFromForm(){return Object.assign(Object.assign({},new nn.T),{id:this.editForm.get(["id"]).value,matiere:this.editForm.get(["matiere"]).value,groupematiere:this.editForm.get(["groupematiere"]).value,coefficient:this.editForm.get(["coefficient"]).value,coursmagistral:this.editForm.get(["coursmagistral"]).value,chapitre:this.editForm.get(["chapitre"]).value,traveaudirige:this.editForm.get(["traveaudirige"]).value})}updateForm(t){this.editForm.patchValue({id:t.id,matiere:t.matiere,groupematiere:t.groupematiere,coefficient:t.coefficient,coursmagistral:t.coursmagistral,chapitre:t.chapitre,traveaudirige:t.traveaudirige}),this.matieresSharedCollection=this.service.addMatiereToCollectionIfMissing(this.matieresSharedCollection,t.matiere),this.groupematieresSharedCollection=this.service.addGroupematiereToCollectionIfMissing(this.groupematieresSharedCollection,t.groupematiere)}loadRelationshipsOptions(){this.service.getMatieres().pipe((0,ae.U)(t=>this.service.addMatiereToCollectionIfMissing(t,this.editForm.get("matiere").value))).subscribe(t=>this.matieresSharedCollection=t),this.service.getGroupematieres().pipe((0,ae.U)(t=>this.service.addGroupematiereToCollectionIfMissing(t,this.editForm.get("groupematiere").value))).subscribe(t=>this.groupematieresSharedCollection=t),console.log(this.groupematieresSharedCollection)}onSubmit(){const t=this.createFromForm();this.service.updateRepartition({data:{id:t.id,matiere:t.matiere.id,groupematiere:t.groupematiere.id,coefficient:t.coefficient,coursmagistral:t.coursmagistral,chapitre:t.chapitre,traveaudirige:t.traveaudirige}}).subscribe(o=>{this.fetch(),this.editForm.reset(),this.matieresSharedCollection=[],this.groupematieresSharedCollection=[]})}previousState(){window.history.back()}deleteLine(){this.service.deleteRepartition(this.deleteValue.id).subscribe(t=>{this.fetch(),this.editForm.reset(),this.matieresSharedCollection=[],this.groupematieresSharedCollection=[]})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(X._),e.Y36(v.F0),e.Y36(e.sBO),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-makerepartition"]],decls:75,vars:68,consts:[[1,"card"],[1,"card-header"],[1,"mb-2","fw-bolder"],[1,"card-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"form-group",3,"hidden"],["for","field_id",1,"form-control-label"],["type","number","name","id","id","field_id","data-cy","id","formControlName","id",1,"form-control",3,"readonly"],[1,"form-group","col-md-4"],[1,"form-label"],["formControlName","matiere"],[3,"value",4,"ngFor","ngForOf"],["formControlName","groupematiere"],["type","text","formControlName","coefficient",1,"form-control"],["type","text","formControlName","coursmagistral",1,"form-control"],["type","text","formControlName","traveaudirige",1,"form-control"],["type","text","formControlName","chapitre",1,"form-control"],[1,"d-grid","gap-2","d-md-block"],["type","submit",1,"btn","btn-primary","me-2"],[1,"table-responsive"],[3,"rows","columnMode","headerHeight","footerHeight","limit","selected","selectionType","rowHeight","scrollbarH","select"],["table",""],[3,"width","sortable","canAutoResize","draggable","resizeable"],["ngx-datatable-cell-template",""],[3,"name","width"],[4,"ngIf"],[3,"value"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"checked","change"],["ngx-datatable-footer-template",""],[1,"btn-group"],[1,"btn","btn-warning",3,"click"],[1,"la-arrow-left","la"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10,"ID"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"label",10),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"ng-select",11),e.YNc(17,on,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(18,"div",9),e.TgZ(19,"label",10),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ng-select",13),e.YNc(23,rn,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(24,"div",9),e.TgZ(25,"label",10),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"input",14),e.qZA(),e.TgZ(29,"div",9),e.TgZ(30,"label",10),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"input",15),e.qZA(),e.TgZ(34,"div",9),e.TgZ(35,"label",10),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",16),e.qZA(),e.TgZ(39,"div",9),e.TgZ(40,"label",10),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",17),e.qZA(),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"div",18),e.TgZ(46,"button",19),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",0),e.TgZ(50,"div",3),e.TgZ(51,"div",20),e.TgZ(52,"ngx-datatable",21,22),e.NdJ("select",function(l){return i.onSelect(l)}),e.TgZ(54,"ngx-datatable-column",23),e.YNc(55,an,2,1,"ng-template",24),e.qZA(),e.TgZ(56,"ngx-datatable-column",25),e.ALo(57,"translate"),e.YNc(58,sn,1,1,"ng-template",24),e.qZA(),e.TgZ(59,"ngx-datatable-column",25),e.ALo(60,"translate"),e.YNc(61,cn,1,1,"ng-template",24),e.qZA(),e.TgZ(62,"ngx-datatable-column",25),e.ALo(63,"translate"),e.YNc(64,dn,1,1,"ng-template",24),e.qZA(),e.TgZ(65,"ngx-datatable-column",25),e.ALo(66,"translate"),e.YNc(67,un,1,1,"ng-template",24),e.qZA(),e.TgZ(68,"ngx-datatable-column",25),e.ALo(69,"translate"),e.YNc(70,mn,1,1,"ng-template",24),e.qZA(),e.TgZ(71,"ngx-datatable-column",25),e.ALo(72,"translate"),e.YNc(73,pn,1,1,"ng-template",24),e.qZA(),e.YNc(74,_n,2,0,"ngx-datatable-footer",26),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij("",e.lcZ(4,40,"title.repartitionmatiereniveau")," "),e.xp6(3),e.Q6J("formGroup",i.editForm),e.xp6(2),e.Q6J("hidden",i.hideId),e.xp6(3),e.Q6J("readonly",!0),e.xp6(3),e.Oqu(e.lcZ(15,42,"fields.matiere")),e.xp6(3),e.Q6J("ngForOf",i.matieresSharedCollection),e.xp6(3),e.Oqu(e.lcZ(21,44,"fields.groupematiere")),e.xp6(3),e.Q6J("ngForOf",i.groupematieresSharedCollection),e.xp6(3),e.Oqu(e.lcZ(27,46,"fields.coefficient")),e.xp6(5),e.Oqu(e.lcZ(32,48,"fields.coursmagistral")),e.xp6(5),e.Oqu(e.lcZ(37,50,"fields.traveaudirige")),e.xp6(5),e.Oqu(e.lcZ(42,52,"fields.chapitre")),e.xp6(6),e.Oqu(e.lcZ(48,54,"action.save")),e.xp6(5),e.Q6J("rows",i.rows)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",100)("limit",100)("selected",i.selected)("selectionType",i.SelectionType.single)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.Q6J("width",40)("sortable",!1)("canAutoResize",!1)("draggable",!1)("resizeable",!1),e.xp6(2),e.s9C("name",e.lcZ(57,56,"fields.groupematiere")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(60,58,"fields.matiere")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(63,60,"fields.coefficient")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(66,62,"fields.coursmagistral")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(69,64,"fields.traveaudirige")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(72,66,"fields.chapitre")),e.Q6J("width",70),e.xp6(3),e.Q6J("ngIf",!0))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.wV,a.Fj,p.oH,a.JJ,a.u,B.w9,T.sg,d.nE,d.UC,d.vq,T.O5,B.xv,d.dX,d.ii],pipes:[u.X$],styles:[""]}),n})();function fn(n,r){if(1&n&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function Zn(n,r){if(1&n&&(e.TgZ(0,"ng-option",27),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.libelle)}}function bn(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().row;e.xp6(1),e.Oqu(t.id)}}function Tn(n,r){if(1&n&&(e.YNc(0,bn,2,1,"span",28),e._uU(1)),2&n){const t=r.row;e.Q6J("ngIf",null==t.tranche),e.xp6(1),e.hij(" ",t.tranche.libelle," ")}}function vn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.montant," ")}function An(n,r){1&n&&(e._uU(0),e.ALo(1,"date")),2&n&&e.hij(" ",e.xi3(1,1,r.row.limit_date,"dd/MM/yyyy")," ")}function qn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.cumulmontant," ")}function xn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().remove(l)}),e.TgZ(1,"div",30),e._UZ(2,"i",31),e.TgZ(3,"span",32),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"action.delete")))}let Cn=(()=>{class n{constructor(t,i,o,l,c,g,k,w){this.router=t,this.toaster=i,this.translateService=o,this.formBuilder=l,this.route=c,this.classeService=g,this.tableSvc=k,this.cdr=w,this.rows=[],this.tranches=[],this.tranchepaiements=[],this.selected=[],this.temp=[],this.niveaux=[],this.formGroup=this.formBuilder.group({montantPension:[null,[a.kI.required]],fraisInscriptionNew:[null,[a.kI.required]],fraisInscriptionOld:[null,[a.kI.required]],niveau:[null,[a.kI.required]]})}ngOnInit(){var t;this.param=null!==(t=this.route.snapshot.queryParams.data)&&void 0!==t?t:"",this.fetch()}patchValues(t){this.formGroup.patchValue({id:t.id,montantPension:t.montant_pension,fraisInscriptionNew:t.frais_inscription_new,fraisInscriptionOld:t.frais_inscriprion_old,niveau:t.niveau.libelle})}fetch(){this.tableSvc.getScolariteId(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.tranchepaiements=t.data.tranche_scolarites,this.patchValues(t.data),this.cdr.markForCheck()},t=>{console.log(t)}),this.tableSvc.getTranche().subscribe(t=>{this.tranches=t.data,this.cdr.markForCheck()},t=>{console.log(t)})}onSubmit(){var t;const i={data:{montantPension:this.formGroup.value.montantPension,fraisInscriptionNew:this.formGroup.value.fraisInscriptionNew,fraisInscriptionOld:this.formGroup.value.fraisInscriptionOld,niveau:this.formGroup.value.niveau}};let o=null!==(t=this.route.snapshot.queryParams.data)&&void 0!==t?t:"";console.log(o.id),this.tableSvc.editScolarite(i,this.route.snapshot.paramMap.get("id")).subscribe(l=>{this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},l=>{console.log(l),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),l.detail)})}onReset(){this.formGroup.reset()}addLine(){const t={data:{tranche:this.tranche,montant:this.montant,limitDate:this.limitDate}};console.log(t),this.tableSvc.updatetranchescolarite(t,this.route.snapshot.paramMap.get("id")).subscribe(i=>{this.fetch(),this.cdr.markForCheck(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{console.log(i),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onSelect(t){}remove(t){this.tableSvc.deletetranchescolarite(t.id).subscribe(i=>{this.fetch(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{console.log(i),this.toaster.error(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")})}edit(t){}goback(){window.history.back()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.F0),e.Y36(h._W),e.Y36(u.sK),e.Y36(a.qu),e.Y36(v.gz),e.Y36(j.U),e.Y36(V),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editscolarite"]],features:[e._Bn([h._W])],decls:74,vars:61,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-warning",3,"click"],[1,"la","la-arrow-left"],[1,"card-body"],[1,"row","g-3",3,"formGroup","validSubmit"],[1,"form-group","col-md-6"],[1,"form-label"],["type","text","formControlName","montantPension",1,"form-control"],["type","number","formControlName","fraisInscriptionNew",1,"form-control"],["type","number","formControlName","fraisInscriptionOld",1,"form-control"],["formControlName","niveau",3,"readonly"],[3,"value",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","d-md-block","justify-content-md-end"],["type","button",1,"btn","btn","btn-light","me-md-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"row"],[1,"form-group","col-md-3"],[3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3"],["type","button",1,"btn","btn","btn-primary","me-md-2",2,"margin-top","25px",3,"click"],["rowHeight","auto","columnMode","force",3,"rows","selected","footerHeight","select"],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],[3,"value"],[4,"ngIf"],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-delete"],[1,"ms-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return i.goback()}),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"form",5),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(8,"div",6),e.TgZ(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"label",7),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",9),e.qZA(),e.TgZ(18,"div",6),e.TgZ(19,"label",7),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"label",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"ng-select",11),e.YNc(28,fn,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(29,"div",13),e.TgZ(30,"button",14),e.NdJ("click",function(){return i.onReset()}),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",15),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.qZA(),e.qZA(),e._UZ(36,"hr"),e.TgZ(37,"div",16),e.TgZ(38,"div",17),e.TgZ(39,"label",7),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"ng-select",18),e.NdJ("ngModelChange",function(l){return i.tranche=l}),e.YNc(43,Zn,2,2,"ng-option",12),e.qZA(),e.qZA(),e.TgZ(44,"div",17),e.TgZ(45,"label",7),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"input",19),e.NdJ("ngModelChange",function(l){return i.limitDate=l}),e.qZA(),e.qZA(),e.TgZ(49,"div",17),e.TgZ(50,"label",7),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"input",20),e.NdJ("ngModelChange",function(l){return i.montant=l}),e.qZA(),e.qZA(),e.TgZ(54,"div",21),e.TgZ(55,"button",22),e.NdJ("click",function(){return i.addLine()}),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",16),e.TgZ(59,"ngx-datatable",23),e.NdJ("select",function(l){return i.onSelect(l)}),e.TgZ(60,"ngx-datatable-column",24),e.ALo(61,"translate"),e.YNc(62,Tn,2,2,"ng-template",25),e.qZA(),e.TgZ(63,"ngx-datatable-column",24),e.ALo(64,"translate"),e.YNc(65,vn,1,1,"ng-template",25),e.qZA(),e.TgZ(66,"ngx-datatable-column",24),e.ALo(67,"translate"),e.YNc(68,An,2,4,"ng-template",25),e.qZA(),e.TgZ(69,"ngx-datatable-column",24),e.ALo(70,"translate"),e.YNc(71,qn,1,1,"ng-template",25),e.qZA(),e.TgZ(72,"ngx-datatable-column",26),e.YNc(73,xn,6,3,"ng-template",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,31,"action.back")),e.xp6(3),e.Q6J("formGroup",i.formGroup),e.xp6(3),e.Oqu(e.lcZ(11,33,"fields.montantpension")),e.xp6(5),e.Oqu(e.lcZ(16,35,"fields.fraisinscriptionnew")),e.xp6(5),e.Oqu(e.lcZ(21,37,"fields.fraisinscriptionold")),e.xp6(5),e.Oqu(e.lcZ(26,39,"fields.niveau")),e.xp6(2),e.Q6J("readonly",!0),e.xp6(1),e.Q6J("ngForOf",i.niveaux),e.xp6(3),e.Oqu(e.lcZ(32,41,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(35,43,"action.save")),e.xp6(6),e.Oqu(e.lcZ(41,45,"fields.tranche")),e.xp6(2),e.Q6J("ngModel",i.tranche),e.xp6(1),e.Q6J("ngForOf",i.tranches),e.xp6(3),e.Oqu(e.lcZ(47,47,"fields.datelimite")),e.xp6(2),e.Q6J("ngModel",i.limitDate),e.xp6(3),e.Oqu(e.lcZ(52,49,"fields.montant")),e.xp6(2),e.Q6J("ngModel",i.montant),e.xp6(3),e.Oqu(e.lcZ(57,51,"action.add")),e.xp6(3),e.Q6J("rows",i.tranchepaiements)("selected",i.selected)("footerHeight",100),e.xp6(1),e.s9C("name",e.lcZ(61,53,"fields.tranche")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(64,55,"fields.montant")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(67,57,"fields.datelimite")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(70,59,"fields.montantcumul")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40))},directives:[a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,a.wV,B.w9,T.sg,a.On,d.nE,d.UC,d.vq,B.xv,T.O5,Q.h],pipes:[u.X$,T.uU],styles:[""]}),n})();var Sn=m(7077);const wn=["compteModal"];function yn(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.username," ")}function Un(n,r){1&n&&e._uU(0),2&n&&e.hij(" ",r.row.intitule," ")}function Mn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"dropdown",31),e.NdJ("click",function(o){return e.CHM(t),e.MAs(4).toggle(o)}),e.TgZ(1,"a",32),e._UZ(2,"i",33),e.qZA(),e.TgZ(3,"dropdown-menu",34,35),e.TgZ(5,"a",36),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().edit(l.id)}),e.TgZ(6,"div",37),e._UZ(7,"i",38),e.TgZ(8,"span",39),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"a",36),e.NdJ("click",function(){const l=e.CHM(t).row;return e.oxw().delete(l)}),e.TgZ(12,"div",37),e._UZ(13,"i",40),e.TgZ(14,"span",39),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&n&&(e.xp6(9),e.Oqu(e.lcZ(10,2,"action.edit")),e.xp6(6),e.Oqu(e.lcZ(16,4,"action.delete")))}const kn=function(){return{backdrop:"static"}},En=[{path:"classe/:id",data:{title:"Classe",hidePageHeader:!0},component:qt},{path:"niveau/:id",data:{title:"Niveau",hidePageHeader:!0},component:Zi},{path:"cycle",data:{title:"Enseignement",hidePageHeader:!0},component:gi},{path:"compte",data:{title:"Compte",hidePageHeader:!0},component:(()=>{class n{constructor(t,i,o,l,c,g,k,w){this.formBuilder=t,this.toaster=i,this.translateService=o,this.cdr=l,this.compteService=c,this.screenSizeSvc=g,this.translateservice=k,this.cycleservice=w,this.rows=[],this.temp=[],this.columnMode=d.hq.force,this.SelectionType=d.RT,this.rowHeight="auto",this.scrollbarH=!1,this.screenSizeSvc.onResize$.pipe((0,O.g)(0)).subscribe(C=>{C.includes(H.y.XXL)||C.includes(H.y.XL)||C.includes(H.y.LG)?(this.rowHeight="auto",this.scrollbarH=!1,this.columnMode=d.hq.force):(this.rowHeight=68,this.scrollbarH=!0,this.columnMode=d.hq.force),this.cdr.markForCheck()})}ngOnInit(){this.formGroup=this.formBuilder.group({libelle:[null,[a.kI.required]],code:[null,[a.kI.required]],isbank:[null,[a.kI.required]]}),this.compteService.getComptes().subscribe(t=>{this.rows=t.data,this.cdr.markForCheck(),console.log(this.temp)},t=>{console.log(t)})}addCompte(){this.compteModal.show()}hideChildModal(){this.compteModal.hide()}onSubmit(){this.compteService.addCompte({data:{libelle:this.formGroup.value.libelle,code:this.formGroup.value.code,isbank:this.formGroup.value.isbank}}).subscribe(i=>{this.compteService.getComptes().subscribe(o=>{this.rows=o.data,this.cdr.markForCheck(),console.log(this.temp)},o=>{console.log(o)}),this.hideChildModal(),this.toaster.success(this.translateService.instant("MESSAGES.SAVE_SUCCESS"),"OK")},i=>{this.toaster.error(this.translateService.instant("MESSAGES.SAVE_ERROR"),"OK")})}onReset(){}edit(t){}delete(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu),e.Y36(h._W),e.Y36(u.sK),e.Y36(e.sBO),e.Y36(Sn.D),e.Y36(M.O),e.Y36(u.sK),e.Y36(j.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-compte"]],viewQuery:function(t,i){if(1&t&&(e.Gf(d.nE,5),e.Gf(wn,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.table=o.first),e.iGM(o=e.CRH())&&(i.compteModal=o.first)}},features:[e._Bn([h._W])],decls:56,vars:41,consts:[[1,"card"],[1,"card-header"],[1,"mb-3","d-flex","align-items-center","justify-content-between"],[1,"mb-2","fw-bolder",2,"text-transform","capitalize"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"la","la-plus"],[1,"card-body"],[3,"rows","columnMode","headerHeight","footerHeight","limit","rowHeight","scrollbarH"],["table",""],[3,"name","width"],["ngx-datatable-cell-template",""],["cellClass","allow-overflow",3,"sortable","width"],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-child-name",1,"modal","fade",3,"config"],["compteModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],["id","dialog-child-name",1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","validSubmit"],[1,"row"],[1,"col-md-12","col-md-offset-1"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","formControlName","libelle",1,"form-control"],["type","text","formControlName","code",1,"form-control"],["formControlName","isbank","single","true"],["type","button",1,"btn","btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["dropdownClass","d-block text-end ms-3",3,"click"],["href","javascript:void(0)",1,"px-2"],[1,"feather","icon-more-vertical"],["alignment","left"],["action",""],["dropdownItem","","href","javascript:void(0)",3,"click"],[1,"d-flex","align-items-center"],[1,"feather","icon-eye"],[1,"ms-2"],[1,"feather","icon-plus"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h4",3),e._uU(4,"Comptes"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.addCompte()}),e._UZ(6,"i",5),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"ngx-datatable",7,8),e.TgZ(12,"ngx-datatable-column",9),e.ALo(13,"translate"),e.YNc(14,yn,1,1,"ng-template",10),e.qZA(),e.TgZ(15,"ngx-datatable-column",9),e.ALo(16,"translate"),e.YNc(17,Un,1,1,"ng-template",10),e.qZA(),e.TgZ(18,"ngx-datatable-column",11),e.YNc(19,Mn,17,6,"ng-template",10),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",12,13),e.TgZ(22,"div",14),e.TgZ(23,"div",15),e.TgZ(24,"div",16),e.TgZ(25,"h4",17),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"button",18),e.NdJ("click",function(){return i.hideChildModal()}),e.TgZ(29,"span",19),e._uU(30,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",20),e.TgZ(32,"form",21),e.NdJ("validSubmit",function(){return i.onSubmit()}),e.TgZ(33,"div",22),e.TgZ(34,"div",23),e.TgZ(35,"div",24),e.TgZ(36,"label",25),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"input",26),e.qZA(),e.TgZ(40,"div",24),e.TgZ(41,"label",25),e._uU(42),e.ALo(43,"translate"),e.qZA(),e._UZ(44,"input",27),e.qZA(),e.TgZ(45,"div",24),e.TgZ(46,"label",25),e._uU(47),e.ALo(48,"translate"),e.qZA(),e._UZ(49,"checkbox",28),e.qZA(),e.TgZ(50,"button",29),e.NdJ("click",function(){return i.onReset()}),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"button",30),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.hij("",e.lcZ(8,22,"action.add")," "),e.xp6(3),e.Q6J("rows",i.rows)("columnMode",i.columnMode)("headerHeight",50)("footerHeight",150)("limit",10)("rowHeight",i.rowHeight)("scrollbarH",i.scrollbarH),e.xp6(2),e.s9C("name",e.lcZ(13,24,"fields.code")),e.Q6J("width",70),e.xp6(3),e.s9C("name",e.lcZ(16,26,"fields.libelle")),e.Q6J("width",70),e.xp6(3),e.Q6J("sortable",!1)("width",40),e.xp6(2),e.Q6J("config",e.DdM(40,kn)),e.xp6(6),e.Oqu(e.lcZ(27,28,"title.addcompte")),e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Oqu(e.lcZ(38,30,"fields.libelle")),e.xp6(5),e.Oqu(e.lcZ(43,32,"fields.code")),e.xp6(5),e.Oqu(e.lcZ(48,34,"fields.isbank")),e.xp6(4),e.Oqu(e.lcZ(52,36,"action.cancel")),e.xp6(3),e.Oqu(e.lcZ(55,38,"action.save")))},directives:[d.nE,d.UC,d.vq,s.oB,a._Y,a.JL,a.sg,p.MU,p.HK,a.Fj,p.oH,a.JJ,a.u,le.b,S.L,z.h,Q.h],pipes:[u.X$],styles:[""]}),n})()},{path:"matiere",data:{title:"Matieres",hidePageHeader:!0},component:Oi},{path:"tranche",data:{title:"tranche",hidePageHeader:!0},component:ji},{path:"groupematiere/:id",data:{title:"Matiere",hidePageHeader:!0},component:ht},{path:"scolarite",data:{title:"Scolarite",hidePageHeader:!0},component:pt},{path:"configuration",data:{title:"Configuration",hidePageHeader:!0},component:Xe},{path:"yearschool",data:{title:"Ann\xe9e scolaire",hidePageHeader:!0},component:Ye},{path:"trimestre/:id",data:{title:"Trimestre",hidePageHeader:!0},component:je},{path:"sequence/:id",data:{title:"Sequence",hidePageHeader:!0},component:Yt},{path:"audit",data:{title:"Audit",hidePageHeader:!1},component:xt},{path:"permission",data:{title:"Permission",hidePageHeader:!1},component:Ut},{path:"doctor",data:{title:"Doctor",hidePageHeader:!1},component:Jt},{path:"scolariteniveau",data:{title:"Scolarite",hidePageHeader:!0},component:Di},{path:"editscolariteniveau/:id",data:{title:"Scolarite",hidePageHeader:!0},component:Cn},{path:"repartitionmatiere",data:{title:"Repatition matiere",hidePageHeader:!0},component:$i},{path:"repartionniveau/:id",data:{title:"Repartition by niveau",hidePageHeader:!0},component:tn},{path:"repartionniveaumake/:id",data:{title:"Repartition make by niveau",hidePageHeader:!0},component:hn}];let pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.Bz.forChild(En)],v.Bz]}),n})();var On=m(902),Nn=m(2563),Jn=m(4466),Ln=m(4079),Fn=m(7535);let In=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[pe,Jn.m,Ln.h,h.Rh.forRoot(),zt,Fn.A,T.ez,pe,L.P4,d.xD,Nn.k,s.zk,B.A0,On.n,p.VN,p.VN.forRoot(),me.xC,Ot,ue.Xd]]}),n})()},850:(D,I,m)=>{"use strict";m.d(I,{_:()=>f});var T=m(1841),v=m(5917),d=m(8002),a=m(5304),O=m(3342),h=m(2340),U=m(9063),R=m(3075),A=m(7481),_=m(3018);let f=(()=>{class Z{constructor(s){this.http=s,this.apiUrl=h.N.API_URL+"groupematieres",this.apiUrlMatiere=h.N.API_URL+"matieres",this.httpOptions={headers:new T.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getGroupematieres(){return this.http.get(this.apiUrl,this.httpOptions).pipe((0,d.U)(s=>s.data),(0,a.K)(this.handleError("getGroupematiere",[])))}getGroupematiere(s){return this.http.get(`${this.apiUrl}/${s}`).pipe((0,O.b)(b=>console.log(`fetched groupe matiere id=${s}`)),(0,a.K)(this.handleError(`getGroupe id=${s}`)))}getMatieresbis(){return this.http.get(this.apiUrlMatiere,this.httpOptions)}getMatieres(){return this.http.get(this.apiUrlMatiere,this.httpOptions).pipe((0,d.U)(s=>s.data),(0,O.b)(s=>console.log("fetched matieres")),(0,a.K)(this.handleError("getmatieres",[])))}getRepartitionmatieres(s){return this.http.get(`${this.apiUrlMatiere}/repartition/${s}`,this.httpOptions)}getRepartitionmatieresniveau(s){return this.http.get(`${this.apiUrlMatiere}/repartition/${s}/niveau`,this.httpOptions)}postRepartitionmatieres(s){return this.http.post(`${this.apiUrlMatiere}/repartition`,s,this.httpOptions)}getMatiere(s){return this.http.get(`${this.apiUrlMatiere}/${s}`).pipe((0,O.b)(b=>console.log(`fetched matiere id=${s}`)),(0,a.K)(this.handleError(`getMatiere id=${s}`)))}getMatiereClasse(s){return this.http.get(`${this.apiUrlMatiere}/${s}/classe`)}addGroupematiere(s){return this.http.post(this.apiUrl,s,this.httpOptions).pipe((0,O.b)(u=>console.log(`added sequence w/ id=${s.id}`)),(0,a.K)(this.handleError("addSequence")))}editMatiere(s,u){return this.http.put(`${this.apiUrlMatiere}/${u}`,s)}editGroupeMatiere(s,u){return this.http.put(`${this.apiUrl}/${u}`,s)}addMatiere(s){return this.http.post(this.apiUrlMatiere,s,this.httpOptions).pipe((0,O.b)(u=>console.log(`added niveau w/ id=${s.id}`)),(0,a.K)(this.handleError("addNiveau")))}updateRepartition(s){return this.http.put(`${this.apiUrlMatiere}/repartition/put`,s,this.httpOptions)}deleteRepartition(s){return this.http.delete(`${this.apiUrlMatiere}/repartition/${s}`,this.httpOptions)}delete(s){return this.http.delete(`${this.apiUrl}/${s}`)}deleteMatiere(s){return this.http.delete(`${this.apiUrlMatiere}/${s}`)}handleError(s="operation",u){return b=>(console.error(b),(0,v.of)(u))}addRepartitionToCollectionIfMissing(s,...u){const b=u.filter(R.E);if(b.length>0){const M=s.map(p=>(0,U.B)(p));return[...b.filter(p=>{const S=(0,U.B)(p);return null!=S&&!M.includes(S)&&(M.push(S),!0)}),...s]}return s}addMatiereToCollectionIfMissing(s,...u){const b=u.filter(R.E);if(b.length>0){const M=s.map(p=>(0,A.b)(p));return[...b.filter(p=>{const S=(0,U.B)(p);return null!=S&&!M.includes(S)&&(M.push(S),!0)}),...s]}return s}addGroupematiereToCollectionIfMissing(s,...u){const b=u.filter(R.E);if(b.length>0){const M=s.map(p=>(0,A.b)(p));return[...b.filter(p=>{const S=(0,U.B)(p);return null!=S&&!M.includes(S)&&(M.push(S),!0)}),...s]}return s}}return Z.\u0275fac=function(s){return new(s||Z)(_.LFG(T.eN))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},7481:(D,I,m)=>{"use strict";m.d(I,{V:()=>T,b:()=>v});class T{constructor(a,O){this.id=a,this.libelle=O}}function v(d){return d.id}},9063:(D,I,m)=>{"use strict";m.d(I,{T:()=>T,B:()=>v});class T{constructor(a,O,h,U,R,A,_){this.id=a,this.matiere=O,this.groupematiere=h,this.coefficient=U,this.chapitre=R,this.traveaudirige=A,this.coursmagistral=_}}function v(d){return d.id}},2:(D,I,m)=>{"use strict";m.d(I,{c:()=>f});var T=m(1841),v=m(2340),d=m(5917),a=m(3342),O=m(5304),h=m(8002),U=m(3075);function A(Z){return Z.id}var _=m(3018);let f=(()=>{class Z{constructor(s){this.http=s,this.apiUrl=v.N.API_URL+"professors",this.httpOptions={headers:new T.WM({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})}}getData(){}getProfessors(){return this.http.get(this.apiUrl,this.httpOptions).pipe((0,a.b)(s=>console.log("fetched professor")),(0,O.K)(this.handleError("getProfessors",[])))}getProfessorsbis(){return this.http.get(this.apiUrl,this.httpOptions).pipe((0,h.U)(s=>s.data),(0,a.b)(s=>console.log("fetched matieres")),(0,O.K)(this.handleError("getmatieres",[])))}create(s){return this.http.post(this.apiUrl,s)}import(s){return this.http.post(this.apiUrl+"/import",s)}delete(s){return this.http.delete(`${this.apiUrl}/${s}`)}edit(s,u){return this.http.put(`${this.apiUrl}/${u}`,s)}getProfessor(s){return this.http.get(`${this.apiUrl}/${s}`).pipe((0,a.b)(b=>console.log(`fetched item id=${s}`)),(0,O.K)(this.handleError(`getProfessor id=${s}`)))}getProfessorbycompte(s){return this.http.get(`${this.apiUrl}/${s}/compte`)}getProfessorbis(s){return this.http.get(`${this.apiUrl}/${s}`).pipe((0,h.U)(b=>b.data),(0,a.b)(b=>console.log(`fetched item id=${s}`)),(0,O.K)(this.handleError(`getProfessor id=${s}`)))}getProfessorByclasse(s){return this.http.get(`${this.apiUrl}/${s}/matiere`)}handleError(s="operation",u){return b=>(console.error(b),(0,d.of)(u))}addProfessorToCollectionIfMissing(s,...u){const b=u.filter(U.E);if(b.length>0){const M=s.map(p=>A(p));return[...b.filter(p=>{const S=A(p);return null!=S&&!M.includes(S)&&(M.push(S),!0)}),...s]}return s}}return Z.\u0275fac=function(s){return new(s||Z)(_.LFG(T.eN))},Z.\u0275prov=_.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()}}]);